{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\color_picker\\color_stops\\color_stops.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\color_picker\\color_stops\\color_stops.tsx","mtime":1649070093335},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgppbXBvcnQgUHJvcFR5cGVzIGZyb20gInByb3AtdHlwZXMiOwoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8qCiAqIExpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvcgogKiBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodAogKiBvd25lcnNoaXAuIEVsYXN0aWNzZWFyY2ggQi5WLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyCiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5CiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgeyBrZXlzLCBERUZBVUxUX1ZJU1VBTElaQVRJT05fQ09MT1IsIGdldFN0ZXBwZWRHcmFkaWVudCB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzJzsKaW1wb3J0IHsgRXVpQ29sb3JTdG9wVGh1bWIgfSBmcm9tICcuL2NvbG9yX3N0b3BfdGh1bWInOwppbXBvcnQgeyBhZGRTdG9wLCBhZGREZWZpbmVkU3RvcCwgZ2V0UG9zaXRpb25Gcm9tU3RvcCwgZ2V0U3RvcEZyb21Nb3VzZUxvY2F0aW9uLCBpc0ludmFsaWQsIHJlbW92ZVN0b3AgfSBmcm9tICcuL3V0aWxzJzsKaW1wb3J0IHsgZ2V0Q2hyb21hQ29sb3IgfSBmcm9tICcuLi91dGlscyc7CmltcG9ydCB7IEV1aUkxOG4gfSBmcm9tICcuLi8uLi9pMThuJzsKaW1wb3J0IHsgRXVpU2NyZWVuUmVhZGVyT25seSB9IGZyb20gJy4uLy4uL2FjY2Vzc2liaWxpdHknOwppbXBvcnQgeyBFdWlSYW5nZUhpZ2hsaWdodCB9IGZyb20gJy4uLy4uL2Zvcm0vcmFuZ2UvcmFuZ2VfaGlnaGxpZ2h0JzsKaW1wb3J0IHsgRXVpUmFuZ2VUcmFjayB9IGZyb20gJy4uLy4uL2Zvcm0vcmFuZ2UvcmFuZ2VfdHJhY2snOwppbXBvcnQgeyBFdWlSYW5nZVdyYXBwZXIgfSBmcm9tICcuLi8uLi9mb3JtL3JhbmdlL3JhbmdlX3dyYXBwZXInOwovLyBCZWNhdXNlIG9mIGhvdyB0aGUgdGh1bWJzIGFyZSByZW5kZXJlZCBpbiB0aGUgcG9wb3ZlciwgdXNpbmcgcmVmIHJlc3VsdHMgaW4gYW4gaW5maW5pdGUgbG9vcC4KLy8gV2UnbGwgaW5zdGVhZCB1c2Ugb2xkIGZhc2hpb25lZCBuYW1lc3BhY2VkIERPTSBzZWxlY3RvcnMgdG8gZ2V0IHJlZmVyZW5jZXMKdmFyIFNUT1BfQVRUUiA9ICdldWlDb2xvclN0b3BfJzsKdmFyIERFRkFVTFRfTUlOID0gMDsKdmFyIERFRkFVTFRfTUFYID0gMTAwOwoKZnVuY3Rpb24gaXNUYXJnZXRBVGh1bWIodGFyZ2V0KSB7CiAgdmFyIGVsZW1lbnQgPSB0YXJnZXQ7CiAgdmFyIGF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpOwogIHJldHVybiBhdHRyICYmIGF0dHIuaW5kZXhPZihTVE9QX0FUVFIpID4gLTE7Cn0KCmZ1bmN0aW9uIHNvcnRTdG9wcyhjb2xvclN0b3BzKSB7CiAgcmV0dXJuIGNvbG9yU3RvcHMubWFwKGZ1bmN0aW9uIChlbCwgaW5kZXgpIHsKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGVsKSwge30sIHsKICAgICAgaWQ6IGluZGV4CiAgICB9KTsKICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gYS5zdG9wIC0gYi5zdG9wOwogIH0pOwp9CgpmdW5jdGlvbiBnZXRWYWxpZFN0b3BzKGNvbG9yU3RvcHMpIHsKICByZXR1cm4gY29sb3JTdG9wcy5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwuc3RvcDsKICB9KS5maWx0ZXIoZnVuY3Rpb24gKHN0b3ApIHsKICAgIHJldHVybiAhaXNOYU4oc3RvcCk7CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldFJhbmdlTWluKGNvbG9yU3RvcHMsIG1pbikgewogIHZhciByYW5nZU1pbiA9IG1pbiB8fCBERUZBVUxUX01JTjsKICB2YXIgc3RvcHMgPSBnZXRWYWxpZFN0b3BzKGNvbG9yU3RvcHMpOwogIHZhciBmaXJzdCA9IE1hdGgubWluLmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheShzdG9wcykpOyAvLyBodHRwczovL2pvaG5yZXNpZy5jb20vYmxvZy9mYXN0LWphdmFzY3JpcHQtbWF4bWluLwoKICBpZiAoZmlyc3QgPCByYW5nZU1pbikgewogICAgaWYgKHN0b3BzLmxlbmd0aCA9PT0gMSkgewogICAgICByZXR1cm4gZmlyc3QgLSBERUZBVUxUX01JTjsKICAgIH0gZWxzZSBpZiAoc3RvcHMubGVuZ3RoID49IDIpIHsKICAgICAgcmV0dXJuIGZpcnN0OwogICAgfQogIH0KCiAgcmV0dXJuIERFRkFVTFRfTUlOOwp9CgpmdW5jdGlvbiBnZXRSYW5nZU1heChjb2xvclN0b3BzLCBtYXgpIHsKICB2YXIgcmFuZ2VNYXggPSBtYXggfHwgREVGQVVMVF9NQVg7CiAgdmFyIHN0b3BzID0gZ2V0VmFsaWRTdG9wcyhjb2xvclN0b3BzKTsKICB2YXIgbGFzdCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheShzdG9wcykpOyAvLyBodHRwczovL2pvaG5yZXNpZy5jb20vYmxvZy9mYXN0LWphdmFzY3JpcHQtbWF4bWluLwoKICBpZiAobGFzdCA+IHJhbmdlTWF4KSB7CiAgICBpZiAoc3RvcHMubGVuZ3RoID09PSAxKSB7CiAgICAgIHJldHVybiBsYXN0ICsgREVGQVVMVF9NQVg7CiAgICB9IGVsc2UgaWYgKHN0b3BzLmxlbmd0aCA+PSAyKSB7CiAgICAgIHJldHVybiBsYXN0OwogICAgfQogIH0KCiAgcmV0dXJuIERFRkFVTFRfTUFYOwp9CgpleHBvcnQgdmFyIEV1aUNvbG9yU3RvcHMgPSBmdW5jdGlvbiBFdWlDb2xvclN0b3BzKF9yZWYpIHsKICB2YXIgX3JlZiRhZGRDb2xvciA9IF9yZWYuYWRkQ29sb3IsCiAgICAgIGFkZENvbG9yID0gX3JlZiRhZGRDb2xvciA9PT0gdm9pZCAwID8gREVGQVVMVF9WSVNVQUxJWkFUSU9OX0NPTE9SIDogX3JlZiRhZGRDb2xvciwKICAgICAgbWF4ID0gX3JlZi5tYXgsCiAgICAgIG1pbiA9IF9yZWYubWluLAogICAgICBfcmVmJG1vZGUgPSBfcmVmLm1vZGUsCiAgICAgIG1vZGUgPSBfcmVmJG1vZGUgPT09IHZvaWQgMCA/ICdkZWZhdWx0JyA6IF9yZWYkbW9kZSwKICAgICAgY29sb3JTdG9wcyA9IF9yZWYuY29sb3JTdG9wcywKICAgICAgb25DaGFuZ2UgPSBfcmVmLm9uQ2hhbmdlLAogICAgICBkaXNhYmxlZCA9IF9yZWYuZGlzYWJsZWQsCiAgICAgIHJlYWRPbmx5ID0gX3JlZi5yZWFkT25seSwKICAgICAgY29tcHJlc3NlZCA9IF9yZWYuY29tcHJlc3NlZCwKICAgICAgZnVsbFdpZHRoID0gX3JlZi5mdWxsV2lkdGgsCiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLAogICAgICBsYWJlbCA9IF9yZWYubGFiZWwsCiAgICAgIF9yZWYkc3RvcFR5cGUgPSBfcmVmLnN0b3BUeXBlLAogICAgICBzdG9wVHlwZSA9IF9yZWYkc3RvcFR5cGUgPT09IHZvaWQgMCA/ICdncmFkaWVudCcgOiBfcmVmJHN0b3BUeXBlLAogICAgICBfcmVmJHN0ZXBOdW1iZXIgPSBfcmVmLnN0ZXBOdW1iZXIsCiAgICAgIHN0ZXBOdW1iZXIgPSBfcmVmJHN0ZXBOdW1iZXIgPT09IHZvaWQgMCA/IDEwIDogX3JlZiRzdGVwTnVtYmVyLAogICAgICBzd2F0Y2hlcyA9IF9yZWYuc3dhdGNoZXMsCiAgICAgIF9yZWYkc2hvd0FscGhhID0gX3JlZi5zaG93QWxwaGEsCiAgICAgIHNob3dBbHBoYSA9IF9yZWYkc2hvd0FscGhhID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkc2hvd0FscGhhLAogICAgICB2YWx1ZUlucHV0UHJvcHMgPSBfcmVmLnZhbHVlSW5wdXRQcm9wczsKICB2YXIgc29ydGVkU3RvcHMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzb3J0U3RvcHMoY29sb3JTdG9wcyk7CiAgfSwgW2NvbG9yU3RvcHNdKTsKICB2YXIgcmFuZ2VNYXggPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHsKICAgIHZhciByZXN1bHQgPSBtYXggIT0gbnVsbCA/IG1heCA6IGdldFJhbmdlTWF4KGNvbG9yU3RvcHMsIG1heCk7CiAgICB2YXIgd2lkdGggPSBtYXggIT0gbnVsbCA/IDAgOiBNYXRoLnJvdW5kKHJlc3VsdCAqIDAuMDUpOwogICAgcmV0dXJuICFpc05hTihyZXN1bHQpID8gcmVzdWx0ICsgd2lkdGggOiBERUZBVUxUX01BWDsKICB9LCBbY29sb3JTdG9wcywgbWF4XSk7CiAgdmFyIHJhbmdlTWluID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICB2YXIgcmVzdWx0ID0gbWluICE9IG51bGwgPyBtaW4gOiBnZXRSYW5nZU1pbihjb2xvclN0b3BzLCBtaW4pOwogICAgdmFyIHdpZHRoID0gbWluICE9IG51bGwgPyAwIDogTWF0aC5yb3VuZChyYW5nZU1heCAqIDAuMDUpOwogICAgcmV0dXJuICFpc05hTihyZXN1bHQpID8gcmVzdWx0IC0gd2lkdGggOiBERUZBVUxUX01JTjsKICB9LCBbY29sb3JTdG9wcywgbWluLCByYW5nZU1heF0pOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgaGFzRm9jdXMgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRIYXNGb2N1cyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgZm9jdXNlZFN0b3BJbmRleCA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldEZvY3VzZWRTdG9wSW5kZXggPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIG9wZW5lZFN0b3BJZCA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldE9wZW5lZFN0b3BJZCA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBfdXNlU3RhdGU3ID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSwKICAgICAgd3JhcHBlclJlZiA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldFdyYXBwZXJSZWYgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgX3VzZVN0YXRlOSA9IHVzZVN0YXRlKDApLAogICAgICBfdXNlU3RhdGUxMCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTksIDIpLAogICAgICBhZGRUYXJnZXRQb3NpdGlvbiA9IF91c2VTdGF0ZTEwWzBdLAogICAgICBzZXRBZGRUYXJnZXRQb3NpdGlvbiA9IF91c2VTdGF0ZTEwWzFdOwoKICB2YXIgX3VzZVN0YXRlMTEgPSB1c2VTdGF0ZShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTEyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTEsIDIpLAogICAgICBpc0hvdmVyRGlzYWJsZWQgPSBfdXNlU3RhdGUxMlswXSwKICAgICAgc2V0SXNIb3ZlckRpc2FibGVkID0gX3VzZVN0YXRlMTJbMV07CgogIHZhciBfdXNlU3RhdGUxMyA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGUxNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTEzLCAyKSwKICAgICAgZm9jdXNTdG9wT25VcGRhdGUgPSBfdXNlU3RhdGUxNFswXSwKICAgICAgc2V0Rm9jdXNTdG9wT25VcGRhdGUgPSBfdXNlU3RhdGUxNFsxXTsKCiAgdmFyIGlzTm90SW50ZXJhY3RpdmUgPSBkaXNhYmxlZCB8fCByZWFkT25seTsKICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2V1aUNvbG9yU3RvcHMnLCB7CiAgICAnZXVpQ29sb3JTdG9wcy1pc0RyYWdnaW5nJzogaXNIb3ZlckRpc2FibGVkLAogICAgJ2V1aUNvbG9yU3RvcHMtaXNEaXNhYmxlZCc6IGRpc2FibGVkLAogICAgJ2V1aUNvbG9yU3RvcHMtaXNSZWFkT25seSc6IHJlYWRPbmx5CiAgfSwgY2xhc3NOYW1lKTsKCiAgdmFyIGdldFN0b3BGcm9tTW91c2VMb2NhdGlvbkZuID0gZnVuY3Rpb24gZ2V0U3RvcEZyb21Nb3VzZUxvY2F0aW9uRm4obG9jYXRpb24pIHsKICAgIC8vIEd1YXJkIGFnYWluc3QgYG51bGxgIHJlZiBpbiB1c2FnZQogICAgcmV0dXJuIGdldFN0b3BGcm9tTW91c2VMb2NhdGlvbihsb2NhdGlvbiwgd3JhcHBlclJlZiwgbWluIHx8IHJhbmdlTWluLCBtYXggfHwgcmFuZ2VNYXgpOwogIH07CgogIHZhciBnZXRQb3NpdGlvbkZyb21TdG9wRm4gPSBmdW5jdGlvbiBnZXRQb3NpdGlvbkZyb21TdG9wRm4oc3RvcCkgewogICAgLy8gR3VhcmQgYWdhaW5zdCBgbnVsbGAgcmVmIGluIHVzYWdlCiAgICByZXR1cm4gZ2V0UG9zaXRpb25Gcm9tU3RvcChzdG9wLCB3cmFwcGVyUmVmLCBtaW4gfHwgcmFuZ2VNaW4sIG1heCB8fCByYW5nZU1heCk7CiAgfTsKCiAgdmFyIGhhbmRsZU9uQ2hhbmdlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGNvbG9yU3RvcHMpIHsKICAgIG9uQ2hhbmdlKGNvbG9yU3RvcHMsIGlzSW52YWxpZChjb2xvclN0b3BzLCBzaG93QWxwaGEpKTsKICB9LCBbb25DaGFuZ2UsIHNob3dBbHBoYV0pOwogIHZhciBvbkZvY3VzU3RvcCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpbmRleCkgewogICAgaWYgKGRpc2FibGVkIHx8ICF3cmFwcGVyUmVmKSByZXR1cm47CiAgICB2YXIgdG9Gb2N1cyA9IHdyYXBwZXJSZWYucXVlcnlTZWxlY3RvcigiW2RhdGEtaW5kZXg9Ii5jb25jYXQoU1RPUF9BVFRSKS5jb25jYXQoaW5kZXgsICJdIikpOwoKICAgIGlmICh0b0ZvY3VzKSB7CiAgICAgIHNldEhhc0ZvY3VzKGZhbHNlKTsKICAgICAgc2V0Rm9jdXNlZFN0b3BJbmRleChpbmRleCk7CiAgICAgIHRvRm9jdXMuZm9jdXMoKTsKICAgIH0KICB9LCBbZGlzYWJsZWQsIHdyYXBwZXJSZWZdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGZvY3VzU3RvcE9uVXBkYXRlICE9PSBudWxsKSB7CiAgICAgIHZhciB0b0ZvY3VzSW5kZXggPSBzb3J0ZWRTdG9wcy5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLnN0b3A7CiAgICAgIH0pLmluZGV4T2YoZm9jdXNTdG9wT25VcGRhdGUpOwogICAgICB2YXIgdG9Gb2N1c0lkID0gdG9Gb2N1c0luZGV4ID4gLTEgPyBzb3J0ZWRTdG9wc1t0b0ZvY3VzSW5kZXhdLmlkIDogbnVsbDsKICAgICAgb25Gb2N1c1N0b3AodG9Gb2N1c0luZGV4KTsKICAgICAgc2V0T3BlbmVkU3RvcElkKHRvRm9jdXNJZCk7CiAgICAgIHNldEZvY3VzU3RvcE9uVXBkYXRlKG51bGwpOwogICAgfQogIH0sIFtzb3J0ZWRTdG9wcywgb25Gb2N1c1N0b3AsIHNldEZvY3VzU3RvcE9uVXBkYXRlLCBmb2N1c1N0b3BPblVwZGF0ZV0pOwogIHZhciBvbkZvY3VzV3JhcHBlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHsKICAgIHNldEZvY3VzZWRTdG9wSW5kZXgobnVsbCk7CgogICAgaWYgKHdyYXBwZXJSZWYpIHsKICAgICAgd3JhcHBlclJlZi5mb2N1cygpOwogICAgfQogIH0sIFt3cmFwcGVyUmVmXSk7CgogIHZhciBzZXRXcmFwcGVySGFzRm9jdXMgPSBmdW5jdGlvbiBzZXRXcmFwcGVySGFzRm9jdXMoZSkgewogICAgaWYgKGUudGFyZ2V0ID09PSB3cmFwcGVyUmVmKSB7CiAgICAgIHNldEhhc0ZvY3VzKHRydWUpOwogICAgfQogIH07CgogIHZhciByZW1vdmVXcmFwcGVyRm9jdXMgPSBmdW5jdGlvbiByZW1vdmVXcmFwcGVyRm9jdXMoKSB7CiAgICBzZXRIYXNGb2N1cyhmYWxzZSk7CiAgfTsKCiAgdmFyIG9uQWRkID0gZnVuY3Rpb24gb25BZGQoKSB7CiAgICB2YXIgc3RvcHMgPSBzb3J0ZWRTdG9wcy5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgIHZhciBjb2xvciA9IF9yZWYyLmNvbG9yLAogICAgICAgICAgc3RvcCA9IF9yZWYyLnN0b3A7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgIHN0b3A6IHN0b3AKICAgICAgfTsKICAgIH0pOwogICAgdmFyIG5ld0NvbG9yU3RvcHMgPSBhZGRTdG9wKHN0b3BzLCBhZGRDb2xvciwgbWF4IHx8IHJhbmdlTWF4KTsKICAgIHNldEZvY3VzU3RvcE9uVXBkYXRlKG5ld0NvbG9yU3RvcHNbY29sb3JTdG9wcy5sZW5ndGhdLnN0b3ApOwogICAgaGFuZGxlT25DaGFuZ2UobmV3Q29sb3JTdG9wcyk7CiAgfTsKCiAgdmFyIG9uUmVtb3ZlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGluZGV4KSB7CiAgICB2YXIgbmV3Q29sb3JTdG9wcyA9IHJlbW92ZVN0b3AoY29sb3JTdG9wcywgaW5kZXgpOwogICAgb25Gb2N1c1dyYXBwZXIoKTsKICAgIGhhbmRsZU9uQ2hhbmdlKG5ld0NvbG9yU3RvcHMpOwogIH0sIFtjb2xvclN0b3BzLCBoYW5kbGVPbkNoYW5nZSwgb25Gb2N1c1dyYXBwZXJdKTsKCiAgdmFyIGRpc2FibGVIb3ZlciA9IGZ1bmN0aW9uIGRpc2FibGVIb3ZlcigpIHsKICAgIGlmIChkaXNhYmxlZCkgcmV0dXJuOwogICAgc2V0SXNIb3ZlckRpc2FibGVkKHRydWUpOwogIH07CgogIHZhciBlbmFibGVIb3ZlciA9IGZ1bmN0aW9uIGVuYWJsZUhvdmVyKCkgewogICAgaWYgKGRpc2FibGVkKSByZXR1cm47CiAgICBzZXRJc0hvdmVyRGlzYWJsZWQoZmFsc2UpOwogIH07CgogIHZhciBoYW5kbGVBZGRIb3ZlciA9IGZ1bmN0aW9uIGhhbmRsZUFkZEhvdmVyKGUpIHsKICAgIGlmIChpc05vdEludGVyYWN0aXZlIHx8ICF3cmFwcGVyUmVmKSByZXR1cm47CiAgICB2YXIgc3RvcCA9IGdldFN0b3BGcm9tTW91c2VMb2NhdGlvbkZuKHsKICAgICAgeDogZS5wYWdlWCwKICAgICAgeTogZS5wYWdlWQogICAgfSk7CiAgICB2YXIgcG9zaXRpb24gPSBnZXRQb3NpdGlvbkZyb21TdG9wRm4oc3RvcCk7CiAgICBzZXRBZGRUYXJnZXRQb3NpdGlvbihwb3NpdGlvbik7CiAgfTsKCiAgdmFyIGhhbmRsZUFkZENsaWNrID0gZnVuY3Rpb24gaGFuZGxlQWRkQ2xpY2soZSkgewogICAgaWYgKGlzTm90SW50ZXJhY3RpdmUgfHwgaXNUYXJnZXRBVGh1bWIoZS50YXJnZXQpIHx8ICF3cmFwcGVyUmVmKSByZXR1cm47CiAgICB2YXIgbmV3U3RvcCA9IGdldFN0b3BGcm9tTW91c2VMb2NhdGlvbkZuKHsKICAgICAgeDogZS5wYWdlWCwKICAgICAgeTogZS5wYWdlWQogICAgfSk7CiAgICB2YXIgbmV3Q29sb3JTdG9wcyA9IGFkZERlZmluZWRTdG9wKGNvbG9yU3RvcHMsIG5ld1N0b3AsIGFkZENvbG9yKTsKICAgIHNldEZvY3VzU3RvcE9uVXBkYXRlKG5ld1N0b3ApOwogICAgaGFuZGxlT25DaGFuZ2UobmV3Q29sb3JTdG9wcyk7CiAgfTsKCiAgdmFyIGhhbmRsZUtleURvd24gPSBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7CiAgICBpZiAoZGlzYWJsZWQpIHJldHVybjsKCiAgICBzd2l0Y2ggKGV2ZW50LmtleSkgewogICAgICBjYXNlIGtleXMuRVNDQVBFOgogICAgICAgIG9uRm9jdXNXcmFwcGVyKCk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIGtleXMuRU5URVI6CiAgICAgICAgaWYgKHJlYWRPbmx5IHx8ICFoYXNGb2N1cykgcmV0dXJuOwogICAgICAgIG9uQWRkKCk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIGtleXMuQkFDS1NQQUNFOgogICAgICAgIGlmIChyZWFkT25seSB8fCBoYXNGb2N1cyB8fCBmb2N1c2VkU3RvcEluZGV4ID09IG51bGwpIHJldHVybjsKCiAgICAgICAgaWYgKGlzVGFyZ2V0QVRodW1iKGV2ZW50LnRhcmdldCkpIHsKICAgICAgICAgIGlmIChtaW4gPT0gbnVsbCAmJiBmb2N1c2VkU3RvcEluZGV4ID09PSAwIHx8IG1heCA9PSBudWxsICYmIGZvY3VzZWRTdG9wSW5kZXggPT09IHNvcnRlZFN0b3BzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBpbmRleCA9IHNvcnRlZFN0b3BzW2ZvY3VzZWRTdG9wSW5kZXhdLmlkOwogICAgICAgICAgb25SZW1vdmUoaW5kZXgpOwogICAgICAgIH0KCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIGtleXMuQVJST1dfRE9XTjoKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB3cmFwcGVyUmVmIHx8IGlzVGFyZ2V0QVRodW1iKGV2ZW50LnRhcmdldCkpIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgaWYgKGZvY3VzZWRTdG9wSW5kZXggPT0gbnVsbCkgewogICAgICAgICAgICBvbkZvY3VzU3RvcCgwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBuZXh0ID0gZm9jdXNlZFN0b3BJbmRleCA9PT0gc29ydGVkU3RvcHMubGVuZ3RoIC0gMSA/IGZvY3VzZWRTdG9wSW5kZXggOiBmb2N1c2VkU3RvcEluZGV4ICsgMTsKICAgICAgICAgICAgb25Gb2N1c1N0b3AobmV4dCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBicmVhazsKCiAgICAgIGNhc2Uga2V5cy5BUlJPV19VUDoKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB3cmFwcGVyUmVmIHx8IGlzVGFyZ2V0QVRodW1iKGV2ZW50LnRhcmdldCkpIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgaWYgKGZvY3VzZWRTdG9wSW5kZXggPT0gbnVsbCkgewogICAgICAgICAgICBvbkZvY3VzU3RvcCgwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBfbmV4dCA9IGZvY3VzZWRTdG9wSW5kZXggPT09IDAgPyBmb2N1c2VkU3RvcEluZGV4IDogZm9jdXNlZFN0b3BJbmRleCAtIDE7CgogICAgICAgICAgICBvbkZvY3VzU3RvcChfbmV4dCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBicmVhazsKICAgIH0KICB9OwoKICB2YXIgdGh1bWJzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICB2YXIgaGFuZGxlU3RvcENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVN0b3BDaGFuZ2Uoc3RvcCwgaWQpIHsKICAgICAgdmFyIG5ld0NvbG9yU3RvcHMgPSBfdG9Db25zdW1hYmxlQXJyYXkoY29sb3JTdG9wcyk7CgogICAgICBuZXdDb2xvclN0b3BzLnNwbGljZShpZCwgMSwgc3RvcCk7CiAgICAgIGhhbmRsZU9uQ2hhbmdlKG5ld0NvbG9yU3RvcHMpOwogICAgfTsKCiAgICByZXR1cm4gc29ydGVkU3RvcHMubWFwKGZ1bmN0aW9uIChjb2xvclN0b3AsIGluZGV4KSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlDb2xvclN0b3BUaHVtYiwgewogICAgICAgIGlzUmFuZ2VNaW46IG1pbiA9PSBudWxsICYmIGNvbG9yU3RvcC5zdG9wID09PSByYW5nZU1pbiwKICAgICAgICBpc1JhbmdlTWF4OiBtYXggPT0gbnVsbCAmJiBjb2xvclN0b3Auc3RvcCA9PT0gcmFuZ2VNYXgsCiAgICAgICAgImRhdGEtaW5kZXgiOiAiIi5jb25jYXQoU1RPUF9BVFRSKS5jb25jYXQoaW5kZXgpLAogICAgICAgIGtleTogY29sb3JTdG9wLmlkLAogICAgICAgIGdsb2JhbE1pbjogbWluIHx8IHJhbmdlTWluLAogICAgICAgIGdsb2JhbE1heDogbWF4IHx8IHJhbmdlTWF4LAogICAgICAgIG1pbjogbWluLAogICAgICAgIG1heDogbWF4LAogICAgICAgIGxvY2FsTWluOiBpbmRleCA9PT0gMCA/IG1pbiB8fCByYW5nZU1pbiA6IHNvcnRlZFN0b3BzW2luZGV4IC0gMV0uc3RvcCArIDEsCiAgICAgICAgbG9jYWxNYXg6IGluZGV4ID09PSBzb3J0ZWRTdG9wcy5sZW5ndGggLSAxID8gbWF4IHx8IHJhbmdlTWF4IDogc29ydGVkU3RvcHNbaW5kZXggKyAxXS5zdG9wIC0gMSwKICAgICAgICBzdG9wOiBjb2xvclN0b3Auc3RvcCwKICAgICAgICBjb2xvcjogY29sb3JTdG9wLmNvbG9yLAogICAgICAgIG9uUmVtb3ZlOiBzb3J0ZWRTdG9wcy5sZW5ndGggPiAxID8gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG9uUmVtb3ZlKGNvbG9yU3RvcC5pZCk7CiAgICAgICAgfSA6IHVuZGVmaW5lZCwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uoc3RvcCkgewogICAgICAgICAgcmV0dXJuIGhhbmRsZVN0b3BDaGFuZ2Uoc3RvcCwgY29sb3JTdG9wLmlkKTsKICAgICAgICB9LAogICAgICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7CiAgICAgICAgICByZXR1cm4gc2V0Rm9jdXNlZFN0b3BJbmRleChpbmRleCk7CiAgICAgICAgfSwKICAgICAgICBwYXJlbnRSZWY6IHdyYXBwZXJSZWYsCiAgICAgICAgY29sb3JQaWNrZXJNb2RlOiBtb2RlLAogICAgICAgIGNvbG9yUGlja2VyU2hvd0FscGhhOiBzaG93QWxwaGEsCiAgICAgICAgY29sb3JQaWNrZXJTd2F0Y2hlczogc3dhdGNoZXMsCiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLAogICAgICAgIHJlYWRPbmx5OiByZWFkT25seSwKICAgICAgICAiYXJpYS12YWx1ZXRleHQiOiAiU3RvcDogIi5jb25jYXQoY29sb3JTdG9wLnN0b3AsICIsIENvbG9yOiAiKS5jb25jYXQoY29sb3JTdG9wLmNvbG9yLCAiICgiKS5jb25jYXQoaW5kZXggKyAxLCAiIG9mICIpLmNvbmNhdChjb2xvclN0b3BzLmxlbmd0aCwgIikiKSwKICAgICAgICBpc1BvcG92ZXJPcGVuOiBjb2xvclN0b3AuaWQgPT09IG9wZW5lZFN0b3BJZCwKICAgICAgICBvcGVuUG9wb3ZlcjogZnVuY3Rpb24gb3BlblBvcG92ZXIoKSB7CiAgICAgICAgICBzZXRPcGVuZWRTdG9wSWQoY29sb3JTdG9wLmlkKTsKICAgICAgICB9LAogICAgICAgIGNsb3NlUG9wb3ZlcjogZnVuY3Rpb24gY2xvc2VQb3BvdmVyKCkgewogICAgICAgICAgc2V0T3BlbmVkU3RvcElkKG51bGwpOwogICAgICAgIH0sCiAgICAgICAgdmFsdWVJbnB1dFByb3BzOiB2YWx1ZUlucHV0UHJvcHMKICAgICAgfSk7CiAgICB9KTsKICB9LCBbY29sb3JTdG9wcywgZGlzYWJsZWQsIGhhbmRsZU9uQ2hhbmdlLCBtYXgsIG1pbiwgbW9kZSwgb25SZW1vdmUsIG9wZW5lZFN0b3BJZCwgcmFuZ2VNYXgsIHJhbmdlTWluLCByZWFkT25seSwgc2hvd0FscGhhLCBzb3J0ZWRTdG9wcywgc3dhdGNoZXMsIHdyYXBwZXJSZWYsIHZhbHVlSW5wdXRQcm9wc10pOwogIHZhciBwb3NpdGlvbnMgPSB3cmFwcGVyUmVmID8gc29ydGVkU3RvcHMubWFwKGZ1bmN0aW9uIChfcmVmMykgewogICAgdmFyIHN0b3AgPSBfcmVmMy5zdG9wOwogICAgcmV0dXJuIGdldFBvc2l0aW9uRnJvbVN0b3BGbihzdG9wKTsKICB9KSA6IFtdOwoKICB2YXIgZ3JhZGllbnRTdG9wID0gZnVuY3Rpb24gZ3JhZGllbnRTdG9wKGNvbG9yU3RvcCwgaW5kZXgpIHsKICAgIHZhciBjb2xvciA9IGdldENocm9tYUNvbG9yKGNvbG9yU3RvcC5jb2xvciwgc2hvd0FscGhhKTsKICAgIHZhciByZ2JhID0gY29sb3IgPyBjb2xvci5jc3MoKSA6ICdjdXJyZW50Q29sb3InOwoKICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICByZXR1cm4gImN1cnJlbnRDb2xvciwgY3VycmVudENvbG9yICIuY29uY2F0KHBvc2l0aW9uc1tpbmRleF0sICIlLCAiKS5jb25jYXQocmdiYSwgIiAiKS5jb25jYXQocG9zaXRpb25zW2luZGV4XSwgIiUiKTsKICAgIH0KCiAgICByZXR1cm4gIiIuY29uY2F0KHJnYmEsICIgIikuY29uY2F0KHBvc2l0aW9uc1tpbmRleF0sICIlIik7CiAgfTsKCiAgdmFyIGZpeGVkU3RvcCA9IGZ1bmN0aW9uIGZpeGVkU3RvcChjb2xvclN0b3AsIGluZGV4KSB7CiAgICBpZiAoaW5kZXggPT09IHNvcnRlZFN0b3BzLmxlbmd0aCAtIDEpIHsKICAgICAgcmV0dXJuIGdyYWRpZW50U3RvcChjb2xvclN0b3AsIGluZGV4KTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAiIi5jb25jYXQoZ3JhZGllbnRTdG9wKGNvbG9yU3RvcCwgaW5kZXgpLCAiLCAiKS5jb25jYXQoZ3JhZGllbnRTdG9wKGNvbG9yU3RvcCwgaW5kZXggKyAxKSk7CiAgICB9CiAgfTsKCiAgdmFyIGdyYWRpZW50ID0gJyc7CgogIGlmIChzdG9wVHlwZSA9PT0gJ3N0ZXBwZWQnICYmIHBvc2l0aW9ucy5sZW5ndGggPiAwKSB7CiAgICB2YXIgdHJhaWxpbmdQZXJjZW50YWdlID0gcG9zaXRpb25zWzBdOwogICAgdmFyIGVuZGluZ1BlcmNlbnRhZ2UgPSBwb3NpdGlvbnNbcG9zaXRpb25zLmxlbmd0aCAtIDFdOwogICAgdmFyIHN0ZXBwZWRDb2xvcnMgPSBnZXRTdGVwcGVkR3JhZGllbnQoY29sb3JTdG9wcywgc3RlcE51bWJlcik7CiAgICB2YXIgc3RlcHBlZEdyYWRpZW50ID0gJyc7CiAgICB2YXIgcGVyY2VudGFnZSA9IChlbmRpbmdQZXJjZW50YWdlIC0gdHJhaWxpbmdQZXJjZW50YWdlKSAvIHN0ZXBwZWRDb2xvcnMubGVuZ3RoOwogICAgdmFyIHBlcmNlbnRhZ2VTdGVwcyA9IChlbmRpbmdQZXJjZW50YWdlIC0gdHJhaWxpbmdQZXJjZW50YWdlKSAvIHN0ZXBwZWRDb2xvcnMubGVuZ3RoICsgdHJhaWxpbmdQZXJjZW50YWdlOwogICAgc3RlcHBlZENvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjb2xvcikgewogICAgICBzdGVwcGVkR3JhZGllbnQgPSBzdGVwcGVkR3JhZGllbnQuY29uY2F0KCIiLmNvbmNhdChjb2xvciwgIiAiKS5jb25jYXQocGVyY2VudGFnZVN0ZXBzIC0gcGVyY2VudGFnZSwgIiUgIikuY29uY2F0KHBlcmNlbnRhZ2VTdGVwcywgIiUsICIpKTsKICAgICAgcGVyY2VudGFnZVN0ZXBzID0gcGVyY2VudGFnZVN0ZXBzICsgcGVyY2VudGFnZTsKICAgIH0pOwogICAgc3RlcHBlZEdyYWRpZW50ID0gc3RlcHBlZEdyYWRpZW50LnN1YnN0cmluZygwLCBzdGVwcGVkR3JhZGllbnQubGVuZ3RoIC0gMik7CiAgICBncmFkaWVudCA9ICJsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIGN1cnJlbnRDb2xvciAiLmNvbmNhdCh0cmFpbGluZ1BlcmNlbnRhZ2UsICIlLCAiKS5jb25jYXQoc3RlcHBlZEdyYWRpZW50LCAiKSIpOwogIH0gZWxzZSB7CiAgICB2YXIgbGluZWFyR3JhZGllbnQgPSBzb3J0ZWRTdG9wcy5tYXAoc3RvcFR5cGUgPT09ICdncmFkaWVudCcgPyBncmFkaWVudFN0b3AgOiBmaXhlZFN0b3ApOwogICAgZ3JhZGllbnQgPSAibGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCIuY29uY2F0KGxpbmVhckdyYWRpZW50LCAiKSIpOwogIH0KCiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVJhbmdlV3JhcHBlciwgewogICAgImRhdGEtdGVzdC1zdWJqIjogImV1aUNvbG9yU3RvcHMiLAogICAgcmVmOiBzZXRXcmFwcGVyUmVmLAogICAgY2xhc3NOYW1lOiBjbGFzc2VzLAogICAgZnVsbFdpZHRoOiBmdWxsV2lkdGgsCiAgICB0YWJJbmRleDogZGlzYWJsZWQgPyAtMSA6IDAsCiAgICBvbk1vdXNlRG93bjogZGlzYWJsZUhvdmVyLAogICAgb25Nb3VzZVVwOiBlbmFibGVIb3ZlciwKICAgIG9uTW91c2VMZWF2ZTogZW5hYmxlSG92ZXIsCiAgICBvbktleURvd246IGhhbmRsZUtleURvd24sCiAgICBvbkZvY3VzOiBzZXRXcmFwcGVySGFzRm9jdXMsCiAgICBvbkJsdXI6IHJlbW92ZVdyYXBwZXJGb2N1cwogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVNjcmVlblJlYWRlck9ubHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJwIiwgewogICAgImFyaWEtbGl2ZSI6ICJwb2xpdGUiCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgdmFsdWVzOiB7CiAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkID8gJ0Rpc2FibGVkLicgOiAnJywKICAgICAgcmVhZE9ubHk6IHJlYWRPbmx5ID8gJ1JlYWQtb25seS4nIDogJycKICAgIH0sCiAgICB0b2tlbjogImV1aUNvbG9yU3RvcHMuc2NyZWVuUmVhZGVyQW5ub3VuY2VtZW50IiwKICAgIGRlZmF1bHQ6ICJ7bGFiZWx9OiB7cmVhZE9ubHl9IHtkaXNhYmxlZH0gQ29sb3Igc3RvcCBwaWNrZXIuIEVhY2ggc3RvcCBjb25zaXN0cyBvZiBhIG51bWJlciBhbmQgY29ycmVzcG9uZGluZyBjb2xvciB2YWx1ZS4gVXNlIHRoZSBEb3duIGFuZCBVcCBhcnJvdyBrZXlzIHRvIHNlbGVjdCBpbmRpdmlkdWFsIHN0b3BzLiBQcmVzcyB0aGUgRW50ZXIga2V5IHRvIGNyZWF0ZSBhIG5ldyBzdG9wLiIKICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlSYW5nZVRyYWNrLCB7CiAgICBtaW46IG1pbiB8fCByYW5nZU1pbiwKICAgIG1heDogbWF4IHx8IHJhbmdlTWF4LAogICAgY29tcHJlc3NlZDogY29tcHJlc3NlZCwKICAgIGRpc2FibGVkOiBkaXNhYmxlZCwKICAgIHN0ZXA6IDEKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlSYW5nZUhpZ2hsaWdodCwgewogICAgY2xhc3NOYW1lOiAiZXVpQ29sb3JTdG9wc19faGlnaGxpZ2h0IiwKICAgIG1pbjogbWluIHx8IHJhbmdlTWluLAogICAgbWF4OiBtYXggfHwgcmFuZ2VNYXgsCiAgICBsb3dlclZhbHVlOiBtaW4gfHwgcmFuZ2VNaW4sCiAgICB1cHBlclZhbHVlOiBtYXggfHwgcmFuZ2VNYXgsCiAgICBiYWNrZ3JvdW5kOiBncmFkaWVudCwKICAgIGNvbXByZXNzZWQ6IGNvbXByZXNzZWQKICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJldWlDb2xvclN0b3BzQWRkIiwKICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcygnZXVpQ29sb3JTdG9wc19fYWRkQ29udGFpbmVyJywgewogICAgICAnZXVpQ29sb3JTdG9wc19fYWRkQ29udGFpbmVyLWlzRGlzYWJsZWQnOiBpc0hvdmVyRGlzYWJsZWQgfHwgZGlzYWJsZWQgfHwgcmVhZE9ubHkKICAgIH0pLAogICAgb25DbGljazogaGFuZGxlQWRkQ2xpY2ssCiAgICBvbk1vdXNlTW92ZTogaGFuZGxlQWRkSG92ZXIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAiZXVpQ29sb3JTdG9wc19fYWRkVGFyZ2V0IiwKICAgIHN0eWxlOiB7CiAgICAgIGxlZnQ6ICIiLmNvbmNhdChhZGRUYXJnZXRQb3NpdGlvbiwgIiUiKQogICAgfQogIH0pKSwgdGh1bWJzKSk7Cn07CkV1aUNvbG9yU3RvcHMucHJvcFR5cGVzID0gewogIGFkZENvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLAoKICAvKioKICAgICAqIEFuIGFycmF5IG9mICNDb2xvclN0b3AuIFRoZSBzdG9wcyBtdXN0IGJlIG51bWJlcnMgaW4gYW4gb3JkZXJlZCByYW5nZS4KICAgICAqLwogIGNvbG9yU3RvcHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7CiAgICBzdG9wOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsCiAgICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkCiAgfSkuaXNSZXF1aXJlZCkuaXNSZXF1aXJlZCwKICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICBmdWxsV2lkdGg6IFByb3BUeXBlcy5ib29sLAogIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCwKICByZWFkT25seTogUHJvcFR5cGVzLmJvb2wsCiAgaW52YWxpZDogUHJvcFR5cGVzLmJvb2wsCiAgY29tcHJlc3NlZDogUHJvcFR5cGVzLmJvb2wsCiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLAogIG1heDogUHJvcFR5cGVzLm51bWJlciwKICBtaW46IFByb3BUeXBlcy5udW1iZXIsCiAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKCiAgLyoqCiAgICAgKiAgU3BlY2lmeSB0aGUgdHlwZSBvZiBzdG9wczoKICAgICAqICBgZml4ZWRgOiBpbmRpdmlkdWFsIGNvbG9yIGJsb2Nrcy4KICAgICAqICBgZ3JhZGllbnRgOiBlYWNoIGNvbG9yIGZhZGVzIGludG8gdGhlIG5leHQuCiAgICAgKiAgYHN0ZXBwZWRgOiBpbnRlcnBvbGF0aW9uIGJldHdlZW4gY29sb3JzIHdpdGggYSBmaXhlZCBudW1iZXIgb2Ygc3RlcHMuCiAgICAgKi8KICBzdG9wVHlwZTogUHJvcFR5cGVzLm9uZU9mKFsiZml4ZWQiLCAiZ3JhZGllbnQiLCAic3RlcHBlZCJdKSwKCiAgLyoqCiAgICAgKiBPbmx5IHdvcmtzIHdoZW4gYHN0b3BUeXBlPSJzdGVwcGVkImAKICAgICAqLwogIHN0ZXBOdW1iZXI6IFByb3BUeXBlcy5udW1iZXIsCiAgbW9kZTogUHJvcFR5cGVzLm9uZU9mKFsiZGVmYXVsdCIsICJzd2F0Y2giLCAicGlja2VyIiwgInNlY29uZGFyeUlucHV0Il0pLAogIHN3YXRjaGVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQpLAogIHNob3dBbHBoYTogUHJvcFR5cGVzLmJvb2wsCgogIC8qKgogICAgICogUHJvcHMgcGFzc2VkIHRvIHRoZSB2YWx1ZSBpbnB1dCBmaWVsZCBpbiB0aGUgY29sb3Igc3RvcCBwb3BvdmVyLgogICAgICogQ2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIGZ1bmN0aW9uYWxpdHkgbGlrZSBhcHBlbmQgb3IgcHJlcGVuZC4KICAgICAqLwogIHZhbHVlSW5wdXRQcm9wczogUHJvcFR5cGVzLmFueSwKICAiYXJpYS1sYWJlbCI6IFByb3BUeXBlcy5zdHJpbmcsCiAgImRhdGEtdGVzdC1zdWJqIjogUHJvcFR5cGVzLnN0cmluZwp9OwoKdHJ5IHsKICBFdWlDb2xvclN0b3BzLl9fZG9jZ2VuSW5mbyA9IHsKICAgIGRlc2NyaXB0aW9uOiAnJywKICAgIGRpc3BsYXlOYW1lOiAnRXVpQ29sb3JTdG9wcycsCiAgICBtZXRob2RzOiBbXSwKICAgIHByb3BzOiB7CiAgICAgIGFkZENvbG9yOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbAogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdhZGRDb2xvcicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcHMudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BzUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbG9yU3RvcHM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdBbiBhcnJheSBvZiAjQ29sb3JTdG9wLiBUaGUgc3RvcHMgbXVzdCBiZSBudW1iZXJzIGluIGFuIG9yZGVyZWQgcmFuZ2UuJywKICAgICAgICBuYW1lOiAnY29sb3JTdG9wcycsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcHMudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BzUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnQ29sb3JTdG9wW10nCiAgICAgICAgfQogICAgICB9LAogICAgICBvbkNoYW5nZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ29uQ2hhbmdlJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wcy50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcHNQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICcoc3RvcHM/OiBDb2xvclN0b3BbXSwgaXNJbnZhbGlkPzogYm9vbGVhbikgPT4gdm9pZCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZ1bGxXaWR0aDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2Z1bGxXaWR0aCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcHMudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BzUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBkaXNhYmxlZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2Rpc2FibGVkJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wcy50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcHNQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlYWRPbmx5OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAncmVhZE9ubHknLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BzLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wc1Byb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW52YWxpZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2ludmFsaWQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BzLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wc1Byb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tcHJlc3NlZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2NvbXByZXNzZWQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BzLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wc1Byb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgY2xhc3NOYW1lOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnY2xhc3NOYW1lJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wcy50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcHNQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWF4OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnbWF4JywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wcy50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcHNQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnbnVtYmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWluOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnbWluJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wcy50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcHNQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnbnVtYmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgbGFiZWw6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdsYWJlbCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcHMudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BzUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgc3RvcFR5cGU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnZ3JhZGllbnQnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ1NwZWNpZnkgdGhlIHR5cGUgb2Ygc3RvcHM6XG4nICsgJ2BmaXhlZGA6IGluZGl2aWR1YWwgY29sb3IgYmxvY2tzLlxuJyArICdgZ3JhZGllbnRgOiBlYWNoIGNvbG9yIGZhZGVzIGludG8gdGhlIG5leHQuXG4nICsgJ2BzdGVwcGVkYDogaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIGNvbG9ycyB3aXRoIGEgZml4ZWQgbnVtYmVyIG9mIHN0ZXBzLicsCiAgICAgICAgbmFtZTogJ3N0b3BUeXBlJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wcy50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcHNQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnZW51bScsCiAgICAgICAgICByYXc6ICciZml4ZWQiIHwgImdyYWRpZW50IiB8ICJzdGVwcGVkIicsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICciZml4ZWQiJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJncmFkaWVudCInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInN0ZXBwZWQiJwogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHN0ZXBOdW1iZXI6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnMTAnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ09ubHkgd29ya3Mgd2hlbiBgc3RvcFR5cGU9InN0ZXBwZWQiYCcsCiAgICAgICAgbmFtZTogJ3N0ZXBOdW1iZXInLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BzLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wc1Byb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdudW1iZXInCiAgICAgICAgfQogICAgICB9LAogICAgICBtb2RlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2RlZmF1bHQnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ21vZGUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BzLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wc1Byb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdlbnVtJywKICAgICAgICAgIHJhdzogJ0V1aUNvbG9yUGlja2VyTW9kZScsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICciZGVmYXVsdCInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInN3YXRjaCInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInBpY2tlciInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInNlY29uZGFyeUlucHV0IicKICAgICAgICAgIH1dCiAgICAgICAgfQogICAgICB9LAogICAgICBzd2F0Y2hlczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3N3YXRjaGVzJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wcy50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcHNQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nW10nCiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93QWxwaGE6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnZmFsc2UnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3Nob3dBbHBoYScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcHMudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BzUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICB2YWx1ZUlucHV0UHJvcHM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdQcm9wcyBwYXNzZWQgdG8gdGhlIHZhbHVlIGlucHV0IGZpZWxkIGluIHRoZSBjb2xvciBzdG9wIHBvcG92ZXIuXG4nICsgJ0NhbiBiZSB1c2VkIHRvIGNvbmZpZ3VyZSBmdW5jdGlvbmFsaXR5IGxpa2UgYXBwZW5kIG9yIHByZXBlbmQuJywKICAgICAgICBuYW1lOiAndmFsdWVJbnB1dFByb3BzJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wcy50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcHNQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUGFydGlhbDxQaWNrPEV1aUZpZWxkTnVtYmVyUHJvcHMsICJhcHBlbmQiIHwgInByb3BlcnR5IiB8ICJkaXIiIHwgImZvcm0iIHwgInNsb3QiIHwgInN0eWxlIiB8ICJ0aXRsZSIgfCAicGF0dGVybiIgfCAiY2hpbGRyZW4iIHwgIndpZHRoIiB8ICJoZWlnaHQiIHwgImlkIiB8ICJkZWZhdWx0Q2hlY2tlZCIgfCAuLi4gMjczIG1vcmUgLi4uIHwgImNvbnRyb2xPbmx5Ij4+JwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2FyaWEtbGFiZWwnOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnYXJpYS1sYWJlbCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb21tb24udHMnLAogICAgICAgICAgbmFtZTogJ0NvbW1vblByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdzdHJpbmcnCiAgICAgICAgfQogICAgICB9LAogICAgICAnZGF0YS10ZXN0LXN1YmonOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnZGF0YS10ZXN0LXN1YmonLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29tbW9uLnRzJywKICAgICAgICAgIG5hbWU6ICdDb21tb25Qcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGV4dGVuZGVkSW50ZXJmYWNlczogWydFdWlDb2xvclN0b3BzUHJvcHMnLCAnQ29tbW9uUHJvcHMnXQogIH07Cn0gY2F0Y2ggKGUpIHt9"},{"version":3,"sources":["D:/work/eui/src/components/color_picker/color_stops/color_stops.tsx"],"names":["React","useCallback","useEffect","useMemo","useState","classNames","keys","DEFAULT_VISUALIZATION_COLOR","getSteppedGradient","EuiColorStopThumb","addStop","addDefinedStop","getPositionFromStop","getStopFromMouseLocation","isInvalid","removeStop","getChromaColor","EuiI18n","EuiScreenReaderOnly","EuiRangeHighlight","EuiRangeTrack","EuiRangeWrapper","STOP_ATTR","DEFAULT_MIN","DEFAULT_MAX","isTargetAThumb","target","element","attr","getAttribute","indexOf","sortStops","colorStops","map","el","index","id","sort","a","b","stop","getValidStops","filter","isNaN","getRangeMin","min","rangeMin","stops","first","Math","length","getRangeMax","max","rangeMax","last","EuiColorStops","addColor","mode","onChange","disabled","readOnly","compressed","fullWidth","className","label","stopType","stepNumber","swatches","showAlpha","valueInputProps","sortedStops","result","width","round","hasFocus","setHasFocus","focusedStopIndex","setFocusedStopIndex","openedStopId","setOpenedStopId","wrapperRef","setWrapperRef","addTargetPosition","setAddTargetPosition","isHoverDisabled","setIsHoverDisabled","focusStopOnUpdate","setFocusStopOnUpdate","isNotInteractive","classes","getStopFromMouseLocationFn","location","getPositionFromStopFn","handleOnChange","onFocusStop","toFocus","querySelector","focus","toFocusIndex","toFocusId","onFocusWrapper","setWrapperHasFocus","e","removeWrapperFocus","onAdd","color","newColorStops","onRemove","disableHover","enableHover","handleAddHover","x","pageX","y","pageY","position","handleAddClick","newStop","handleKeyDown","event","key","ESCAPE","ENTER","BACKSPACE","ARROW_DOWN","preventDefault","next","ARROW_UP","thumbs","handleStopChange","splice","colorStop","undefined","positions","gradientStop","rgba","css","fixedStop","gradient","trailingPercentage","endingPercentage","steppedColors","steppedGradient","percentage","percentageSteps","forEach","concat","substring","linearGradient","left"],"mappings":"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","sourcesContent":["function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nimport PropTypes from \"prop-types\";\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport classNames from 'classnames';\nimport { keys, DEFAULT_VISUALIZATION_COLOR, getSteppedGradient } from '../../../services';\nimport { EuiColorStopThumb } from './color_stop_thumb';\nimport { addStop, addDefinedStop, getPositionFromStop, getStopFromMouseLocation, isInvalid, removeStop } from './utils';\nimport { getChromaColor } from '../utils';\nimport { EuiI18n } from '../../i18n';\nimport { EuiScreenReaderOnly } from '../../accessibility';\nimport { EuiRangeHighlight } from '../../form/range/range_highlight';\nimport { EuiRangeTrack } from '../../form/range/range_track';\nimport { EuiRangeWrapper } from '../../form/range/range_wrapper'; // Because of how the thumbs are rendered in the popover, using ref results in an infinite loop.\n// We'll instead use old fashioned namespaced DOM selectors to get references\n\nvar STOP_ATTR = 'euiColorStop_';\nvar DEFAULT_MIN = 0;\nvar DEFAULT_MAX = 100;\n\nfunction isTargetAThumb(target) {\n  var element = target;\n  var attr = element.getAttribute('data-index');\n  return attr && attr.indexOf(STOP_ATTR) > -1;\n}\n\nfunction sortStops(colorStops) {\n  return colorStops.map(function (el, index) {\n    return _objectSpread(_objectSpread({}, el), {}, {\n      id: index\n    });\n  }).sort(function (a, b) {\n    return a.stop - b.stop;\n  });\n}\n\nfunction getValidStops(colorStops) {\n  return colorStops.map(function (el) {\n    return el.stop;\n  }).filter(function (stop) {\n    return !isNaN(stop);\n  });\n}\n\nfunction getRangeMin(colorStops, min) {\n  var rangeMin = min || DEFAULT_MIN;\n  var stops = getValidStops(colorStops);\n  var first = Math.min.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (first < rangeMin) {\n    if (stops.length === 1) {\n      return first - DEFAULT_MIN;\n    } else if (stops.length >= 2) {\n      return first;\n    }\n  }\n\n  return DEFAULT_MIN;\n}\n\nfunction getRangeMax(colorStops, max) {\n  var rangeMax = max || DEFAULT_MAX;\n  var stops = getValidStops(colorStops);\n  var last = Math.max.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (last > rangeMax) {\n    if (stops.length === 1) {\n      return last + DEFAULT_MAX;\n    } else if (stops.length >= 2) {\n      return last;\n    }\n  }\n\n  return DEFAULT_MAX;\n}\n\nexport var EuiColorStops = ({\n  addColor = DEFAULT_VISUALIZATION_COLOR,\n  max,\n  min,\n  mode = 'default',\n  colorStops,\n  onChange,\n  disabled,\n  readOnly,\n  compressed,\n  fullWidth,\n  className,\n  label,\n  stopType = 'gradient',\n  stepNumber = 10,\n  swatches,\n  showAlpha = false,\n  valueInputProps\n}) => {\n  const sortedStops = useMemo(() => sortStops(colorStops), [colorStops]);\n  const rangeMax = useMemo(() => {\n    const result = max != null ? max : getRangeMax(colorStops, max);\n    const width = max != null ? 0 : Math.round(result * 0.05);\n    return !isNaN(result) ? result + width : DEFAULT_MAX;\n  }, [colorStops, max]);\n  const rangeMin = useMemo(() => {\n    const result = min != null ? min : getRangeMin(colorStops, min);\n    const width = min != null ? 0 : Math.round(rangeMax * 0.05);\n    return !isNaN(result) ? result - width : DEFAULT_MIN;\n  }, [colorStops, min, rangeMax]);\n  const [hasFocus, setHasFocus] = useState(false);\n  const [focusedStopIndex, setFocusedStopIndex] = useState(null);\n  const [openedStopId, setOpenedStopId] = useState(null);\n  const [wrapperRef, setWrapperRef] = useState(null);\n  const [addTargetPosition, setAddTargetPosition] = useState(0);\n  const [isHoverDisabled, setIsHoverDisabled] = useState(false);\n  const [focusStopOnUpdate, setFocusStopOnUpdate] = useState(null);\n  const isNotInteractive = disabled || readOnly;\n  const classes = classNames('euiColorStops', {\n    'euiColorStops-isDragging': isHoverDisabled,\n    'euiColorStops-isDisabled': disabled,\n    'euiColorStops-isReadOnly': readOnly\n  }, className);\n\n  const getStopFromMouseLocationFn = location => {\n    // Guard against `null` ref in usage\n    return getStopFromMouseLocation(location, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  const getPositionFromStopFn = stop => {\n    // Guard against `null` ref in usage\n    return getPositionFromStop(stop, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  const handleOnChange = useCallback(colorStops => {\n    onChange(colorStops, isInvalid(colorStops, showAlpha));\n  }, [onChange, showAlpha]);\n  const onFocusStop = useCallback(index => {\n    if (disabled || !wrapperRef) return;\n    const toFocus = wrapperRef.querySelector(`[data-index=${STOP_ATTR}${index}]`);\n\n    if (toFocus) {\n      setHasFocus(false);\n      setFocusedStopIndex(index);\n      toFocus.focus();\n    }\n  }, [disabled, wrapperRef]);\n  useEffect(() => {\n    if (focusStopOnUpdate !== null) {\n      const toFocusIndex = sortedStops.map(el => el.stop).indexOf(focusStopOnUpdate);\n      const toFocusId = toFocusIndex > -1 ? sortedStops[toFocusIndex].id : null;\n      onFocusStop(toFocusIndex);\n      setOpenedStopId(toFocusId);\n      setFocusStopOnUpdate(null);\n    }\n  }, [sortedStops, onFocusStop, setFocusStopOnUpdate, focusStopOnUpdate]);\n  const onFocusWrapper = useCallback(() => {\n    setFocusedStopIndex(null);\n\n    if (wrapperRef) {\n      wrapperRef.focus();\n    }\n  }, [wrapperRef]);\n\n  const setWrapperHasFocus = e => {\n    if (e.target === wrapperRef) {\n      setHasFocus(true);\n    }\n  };\n\n  const removeWrapperFocus = () => {\n    setHasFocus(false);\n  };\n\n  const onAdd = () => {\n    const stops = sortedStops.map(({\n      color,\n      stop\n    }) => {\n      return {\n        color,\n        stop\n      };\n    });\n    const newColorStops = addStop(stops, addColor, max || rangeMax);\n    setFocusStopOnUpdate(newColorStops[colorStops.length].stop);\n    handleOnChange(newColorStops);\n  };\n\n  const onRemove = useCallback(index => {\n    const newColorStops = removeStop(colorStops, index);\n    onFocusWrapper();\n    handleOnChange(newColorStops);\n  }, [colorStops, handleOnChange, onFocusWrapper]);\n\n  const disableHover = () => {\n    if (disabled) return;\n    setIsHoverDisabled(true);\n  };\n\n  const enableHover = () => {\n    if (disabled) return;\n    setIsHoverDisabled(false);\n  };\n\n  const handleAddHover = e => {\n    if (isNotInteractive || !wrapperRef) return;\n    const stop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    const position = getPositionFromStopFn(stop);\n    setAddTargetPosition(position);\n  };\n\n  const handleAddClick = e => {\n    if (isNotInteractive || isTargetAThumb(e.target) || !wrapperRef) return;\n    const newStop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    const newColorStops = addDefinedStop(colorStops, newStop, addColor);\n    setFocusStopOnUpdate(newStop);\n    handleOnChange(newColorStops);\n  };\n\n  const handleKeyDown = event => {\n    if (disabled) return;\n\n    switch (event.key) {\n      case keys.ESCAPE:\n        onFocusWrapper();\n        break;\n\n      case keys.ENTER:\n        if (readOnly || !hasFocus) return;\n        onAdd();\n        break;\n\n      case keys.BACKSPACE:\n        if (readOnly || hasFocus || focusedStopIndex == null) return;\n\n        if (isTargetAThumb(event.target)) {\n          if (min == null && focusedStopIndex === 0 || max == null && focusedStopIndex === sortedStops.length - 1) {\n            return;\n          }\n\n          const index = sortedStops[focusedStopIndex].id;\n          onRemove(index);\n        }\n\n        break;\n\n      case keys.ARROW_DOWN:\n        if (event.target === wrapperRef || isTargetAThumb(event.target)) {\n          event.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            const next = focusedStopIndex === sortedStops.length - 1 ? focusedStopIndex : focusedStopIndex + 1;\n            onFocusStop(next);\n          }\n        }\n\n        break;\n\n      case keys.ARROW_UP:\n        if (event.target === wrapperRef || isTargetAThumb(event.target)) {\n          event.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            const next = focusedStopIndex === 0 ? focusedStopIndex : focusedStopIndex - 1;\n            onFocusStop(next);\n          }\n        }\n\n        break;\n    }\n  };\n\n  const thumbs = useMemo(() => {\n    const handleStopChange = (stop, id) => {\n      const newColorStops = [...colorStops];\n      newColorStops.splice(id, 1, stop);\n      handleOnChange(newColorStops);\n    };\n\n    return sortedStops.map((colorStop, index) => <EuiColorStopThumb isRangeMin={min == null && colorStop.stop === rangeMin} isRangeMax={max == null && colorStop.stop === rangeMax} data-index={`${STOP_ATTR}${index}`} key={colorStop.id} globalMin={min || rangeMin} globalMax={max || rangeMax} min={min} max={max} localMin={index === 0 ? min || rangeMin : sortedStops[index - 1].stop + 1} localMax={index === sortedStops.length - 1 ? max || rangeMax : sortedStops[index + 1].stop - 1} stop={colorStop.stop} color={colorStop.color} onRemove={sortedStops.length > 1 ? () => onRemove(colorStop.id) : undefined} onChange={stop => handleStopChange(stop, colorStop.id)} onFocus={() => setFocusedStopIndex(index)} parentRef={wrapperRef} colorPickerMode={mode} colorPickerShowAlpha={showAlpha} colorPickerSwatches={swatches} disabled={disabled} readOnly={readOnly} aria-valuetext={`Stop: ${colorStop.stop}, Color: ${colorStop.color} (${index + 1} of ${colorStops.length})`} isPopoverOpen={colorStop.id === openedStopId} openPopover={() => {\n      setOpenedStopId(colorStop.id);\n    }} closePopover={() => {\n      setOpenedStopId(null);\n    }} valueInputProps={valueInputProps} />);\n  }, [colorStops, disabled, handleOnChange, max, min, mode, onRemove, openedStopId, rangeMax, rangeMin, readOnly, showAlpha, sortedStops, swatches, wrapperRef, valueInputProps]);\n  const positions = wrapperRef ? sortedStops.map(({\n    stop\n  }) => getPositionFromStopFn(stop)) : [];\n\n  const gradientStop = (colorStop, index) => {\n    const color = getChromaColor(colorStop.color, showAlpha);\n    const rgba = color ? color.css() : 'currentColor';\n\n    if (index === 0) {\n      return `currentColor, currentColor ${positions[index]}%, ${rgba} ${positions[index]}%`;\n    }\n\n    return `${rgba} ${positions[index]}%`;\n  };\n\n  const fixedStop = (colorStop, index) => {\n    if (index === sortedStops.length - 1) {\n      return gradientStop(colorStop, index);\n    } else {\n      return `${gradientStop(colorStop, index)}, ${gradientStop(colorStop, index + 1)}`;\n    }\n  };\n\n  let gradient = '';\n\n  if (stopType === 'stepped' && positions.length > 0) {\n    const trailingPercentage = positions[0];\n    const endingPercentage = positions[positions.length - 1];\n    const steppedColors = getSteppedGradient(colorStops, stepNumber);\n    let steppedGradient = '';\n    const percentage = (endingPercentage - trailingPercentage) / steppedColors.length;\n    let percentageSteps = (endingPercentage - trailingPercentage) / steppedColors.length + trailingPercentage;\n    steppedColors.forEach(color => {\n      steppedGradient = steppedGradient.concat(`${color} ${percentageSteps - percentage}% ${percentageSteps}%, `);\n      percentageSteps = percentageSteps + percentage;\n    });\n    steppedGradient = steppedGradient.substring(0, steppedGradient.length - 2);\n    gradient = `linear-gradient(to right, currentColor ${trailingPercentage}%, ${steppedGradient})`;\n  } else {\n    const linearGradient = sortedStops.map(stopType === 'gradient' ? gradientStop : fixedStop);\n    gradient = `linear-gradient(to right,${linearGradient})`;\n  }\n\n  return <EuiRangeWrapper data-test-subj=\"euiColorStops\" ref={setWrapperRef} className={classes} fullWidth={fullWidth} tabIndex={disabled ? -1 : 0} onMouseDown={disableHover} onMouseUp={enableHover} onMouseLeave={enableHover} onKeyDown={handleKeyDown} onFocus={setWrapperHasFocus} onBlur={removeWrapperFocus}>\n      <EuiScreenReaderOnly>\n        <p aria-live=\"polite\">\n          <EuiI18n values={{\n          label,\n          disabled: disabled ? 'Disabled.' : '',\n          readOnly: readOnly ? 'Read-only.' : ''\n        }} token=\"euiColorStops.screenReaderAnnouncement\" default=\"{label}: {readOnly} {disabled} Color stop picker. Each stop consists of a number and corresponding color value. Use the Down and Up arrow keys to select individual stops. Press the Enter key to create a new stop.\" />\n        </p>\n      </EuiScreenReaderOnly>\n      <EuiRangeTrack min={min || rangeMin} max={max || rangeMax} compressed={compressed} disabled={disabled} step={1}>\n        <EuiRangeHighlight className=\"euiColorStops__highlight\" min={min || rangeMin} max={max || rangeMax} lowerValue={min || rangeMin} upperValue={max || rangeMax} background={gradient} compressed={compressed} />\n        <div data-test-subj=\"euiColorStopsAdd\" className={classNames('euiColorStops__addContainer', {\n        'euiColorStops__addContainer-isDisabled': isHoverDisabled || disabled || readOnly\n      })} onClick={handleAddClick} onMouseMove={handleAddHover}>\n          <div className=\"euiColorStops__addTarget\" style={{\n          left: `${addTargetPosition}%`\n        }} />\n        </div>\n        {thumbs}\n      </EuiRangeTrack>\n    </EuiRangeWrapper>;\n};\nEuiColorStops.propTypes = {\n  addColor: PropTypes.string,\n\n  /**\n     * An array of #ColorStop. The stops must be numbers in an ordered range.\n     */\n  colorStops: PropTypes.arrayOf(PropTypes.shape({\n    stop: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired\n  }).isRequired).isRequired,\n  onChange: PropTypes.func.isRequired,\n  fullWidth: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  invalid: PropTypes.bool,\n  compressed: PropTypes.bool,\n  className: PropTypes.string,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  label: PropTypes.string.isRequired,\n\n  /**\n     *  Specify the type of stops:\n     *  `fixed`: individual color blocks.\n     *  `gradient`: each color fades into the next.\n     *  `stepped`: interpolation between colors with a fixed number of steps.\n     */\n  stopType: PropTypes.oneOf([\"fixed\", \"gradient\", \"stepped\"]),\n\n  /**\n     * Only works when `stopType=\"stepped\"`\n     */\n  stepNumber: PropTypes.number,\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]),\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n  showAlpha: PropTypes.bool,\n\n  /**\n     * Props passed to the value input field in the color stop popover.\n     * Can be used to configure functionality like append or prepend.\n     */\n  valueInputProps: PropTypes.any,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string\n};\n\ntry {\n  EuiColorStops.__docgenInfo = {\n    description: '',\n    displayName: 'EuiColorStops',\n    methods: [],\n    props: {\n      addColor: {\n        defaultValue: {\n          value: null\n        },\n        description: '',\n        name: 'addColor',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      colorStops: {\n        defaultValue: null,\n        description: 'An array of #ColorStop. The stops must be numbers in an ordered range.',\n        name: 'colorStops',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: true,\n        type: {\n          name: 'ColorStop[]'\n        }\n      },\n      onChange: {\n        defaultValue: null,\n        description: '',\n        name: 'onChange',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: true,\n        type: {\n          name: '(stops?: ColorStop[], isInvalid?: boolean) => void'\n        }\n      },\n      fullWidth: {\n        defaultValue: null,\n        description: '',\n        name: 'fullWidth',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      disabled: {\n        defaultValue: null,\n        description: '',\n        name: 'disabled',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      readOnly: {\n        defaultValue: null,\n        description: '',\n        name: 'readOnly',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      invalid: {\n        defaultValue: null,\n        description: '',\n        name: 'invalid',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      compressed: {\n        defaultValue: null,\n        description: '',\n        name: 'compressed',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      className: {\n        defaultValue: null,\n        description: '',\n        name: 'className',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      max: {\n        defaultValue: null,\n        description: '',\n        name: 'max',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      min: {\n        defaultValue: null,\n        description: '',\n        name: 'min',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      label: {\n        defaultValue: null,\n        description: '',\n        name: 'label',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: true,\n        type: {\n          name: 'string'\n        }\n      },\n      stopType: {\n        defaultValue: {\n          value: 'gradient'\n        },\n        description: 'Specify the type of stops:\\n' + '`fixed`: individual color blocks.\\n' + '`gradient`: each color fades into the next.\\n' + '`stepped`: interpolation between colors with a fixed number of steps.',\n        name: 'stopType',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: '\"fixed\" | \"gradient\" | \"stepped\"',\n          value: [{\n            value: '\"fixed\"'\n          }, {\n            value: '\"gradient\"'\n          }, {\n            value: '\"stepped\"'\n          }]\n        }\n      },\n      stepNumber: {\n        defaultValue: {\n          value: '10'\n        },\n        description: 'Only works when `stopType=\"stepped\"`',\n        name: 'stepNumber',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      mode: {\n        defaultValue: {\n          value: 'default'\n        },\n        description: '',\n        name: 'mode',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: 'EuiColorPickerMode',\n          value: [{\n            value: '\"default\"'\n          }, {\n            value: '\"swatch\"'\n          }, {\n            value: '\"picker\"'\n          }, {\n            value: '\"secondaryInput\"'\n          }]\n        }\n      },\n      swatches: {\n        defaultValue: null,\n        description: '',\n        name: 'swatches',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'string[]'\n        }\n      },\n      showAlpha: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: '',\n        name: 'showAlpha',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      valueInputProps: {\n        defaultValue: null,\n        description: 'Props passed to the value input field in the color stop popover.\\n' + 'Can be used to configure functionality like append or prepend.',\n        name: 'valueInputProps',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stops.tsx',\n          name: 'EuiColorStopsProps'\n        },\n        required: false,\n        type: {\n          name: 'Partial<Pick<EuiFieldNumberProps, \"append\" | \"property\" | \"dir\" | \"form\" | \"slot\" | \"style\" | \"title\" | \"pattern\" | \"children\" | \"width\" | \"height\" | \"id\" | \"defaultChecked\" | ... 273 more ... | \"controlOnly\">>'\n        }\n      },\n      'aria-label': {\n        defaultValue: null,\n        description: '',\n        name: 'aria-label',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'data-test-subj': {\n        defaultValue: null,\n        description: '',\n        name: 'data-test-subj',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      }\n    },\n    extendedInterfaces: ['EuiColorStopsProps', 'CommonProps']\n  };\n} catch (e) {}"]}]}