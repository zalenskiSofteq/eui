{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\date_picker\\super_date_picker\\quick_select_popover\\quick_select.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\date_picker\\super_date_picker\\quick_select_popover\\quick_select.tsx","mtime":1649070093380},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1pc28tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAicHJvcC10eXBlcyI7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IGRhdGVNYXRoIGZyb20gJ0BlbGFzdGljL2RhdGVtYXRoJzsKaW1wb3J0IHsgaHRtbElkR2VuZXJhdG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMnOwppbXBvcnQgeyBFdWlCdXR0b24sIEV1aUJ1dHRvbkljb24gfSBmcm9tICcuLi8uLi8uLi9idXR0b24nOwppbXBvcnQgeyBFdWlGbGV4R3JvdXAsIEV1aUZsZXhJdGVtIH0gZnJvbSAnLi4vLi4vLi4vZmxleCc7CmltcG9ydCB7IEV1aVNwYWNlciB9IGZyb20gJy4uLy4uLy4uL3NwYWNlcic7CmltcG9ydCB7IEV1aVNlbGVjdCwgRXVpRmllbGROdW1iZXIgfSBmcm9tICcuLi8uLi8uLi9mb3JtJzsKaW1wb3J0IHsgRXVpVG9vbFRpcCB9IGZyb20gJy4uLy4uLy4uL3Rvb2xfdGlwJzsKaW1wb3J0IHsgRXVpSG9yaXpvbnRhbFJ1bGUgfSBmcm9tICcuLi8uLi8uLi9ob3Jpem9udGFsX3J1bGUnOwppbXBvcnQgeyBFdWlJMThuIH0gZnJvbSAnLi4vLi4vLi4vaTE4bic7CmltcG9ydCB7IHRpbWVVbml0cyB9IGZyb20gJy4uL3RpbWVfdW5pdHMnOwppbXBvcnQgeyBFdWlTY3JlZW5SZWFkZXJPbmx5IH0gZnJvbSAnLi4vLi4vLi4vYWNjZXNzaWJpbGl0eSc7CmltcG9ydCB7IGtleXNPZiB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbic7CmltcG9ydCB7IHBhcnNlVGltZVBhcnRzIH0gZnJvbSAnLi9xdWlja19zZWxlY3RfdXRpbHMnOwp2YXIgTEFTVCA9ICdsYXN0JzsKdmFyIE5FWFQgPSAnbmV4dCc7CnZhciB0aW1lVGVuc2VPcHRpb25zID0gW3sKICB2YWx1ZTogTEFTVCwKICB0ZXh0OiAnTGFzdCcKfSwgewogIHZhbHVlOiBORVhULAogIHRleHQ6ICdOZXh0Jwp9XTsKdmFyIHRpbWVVbml0c09wdGlvbnMgPSBrZXlzT2YodGltZVVuaXRzKS5tYXAoZnVuY3Rpb24gKGtleSkgewogIHJldHVybiB7CiAgICB2YWx1ZToga2V5LAogICAgdGV4dDogIiIuY29uY2F0KHRpbWVVbml0c1trZXldLCAicyIpCiAgfTsKfSk7CmV4cG9ydCB2YXIgRXVpUXVpY2tTZWxlY3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHsKICBfaW5oZXJpdHMoRXVpUXVpY2tTZWxlY3QsIF9Db21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEV1aVF1aWNrU2VsZWN0KTsKCiAgZnVuY3Rpb24gRXVpUXVpY2tTZWxlY3QocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXVpUXVpY2tTZWxlY3QpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImdlbmVyYXRlSWQiLCBodG1sSWRHZW5lcmF0b3IoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25UaW1lVGVuc2VDaGFuZ2UiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIHRpbWVUZW5zZTogZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25UaW1lVmFsdWVDaGFuZ2UiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIHNhbml0aXplZFZhbHVlID0gcGFyc2VJbnQoZXZlbnQudGFyZ2V0LnZhbHVlLCAxMCk7CgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgdGltZVZhbHVlOiBpc05hTihzYW5pdGl6ZWRWYWx1ZSkgPyAwIDogc2FuaXRpemVkVmFsdWUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvblRpbWVVbml0c0NoYW5nZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgdGltZVVuaXRzOiBldmVudC50YXJnZXQudmFsdWUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYW5kbGVLZXlEb3duIiwgZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIGtleSA9IF9yZWYua2V5OwoKICAgICAgaWYgKGtleSA9PT0gJ0VudGVyJykgewogICAgICAgIF90aGlzLmFwcGx5UXVpY2tTZWxlY3QoKTsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiYXBwbHlRdWlja1NlbGVjdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsCiAgICAgICAgICB0aW1lVGVuc2UgPSBfdGhpcyRzdGF0ZS50aW1lVGVuc2UsCiAgICAgICAgICB0aW1lVmFsdWUgPSBfdGhpcyRzdGF0ZS50aW1lVmFsdWUsCiAgICAgICAgICB0aW1lVW5pdHMgPSBfdGhpcyRzdGF0ZS50aW1lVW5pdHM7CgogICAgICBpZiAodGltZVRlbnNlID09PSBORVhUKSB7CiAgICAgICAgX3RoaXMucHJvcHMuYXBwbHlUaW1lKHsKICAgICAgICAgIHN0YXJ0OiAnbm93JywKICAgICAgICAgIGVuZDogIm5vdysiLmNvbmNhdCh0aW1lVmFsdWUpLmNvbmNhdCh0aW1lVW5pdHMpLAogICAgICAgICAgcXVpY2tTZWxlY3Q6IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLnN0YXRlKQogICAgICAgIH0pOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIF90aGlzLnByb3BzLmFwcGx5VGltZSh7CiAgICAgICAgc3RhcnQ6ICJub3ctIi5jb25jYXQodGltZVZhbHVlKS5jb25jYXQodGltZVVuaXRzKSwKICAgICAgICBlbmQ6ICdub3cnLAogICAgICAgIHF1aWNrU2VsZWN0OiBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5zdGF0ZSkKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJnZXRCb3VuZHMiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzdGFydE1vbWVudCA9IGRhdGVNYXRoLnBhcnNlKF90aGlzLnByb3BzLnN0YXJ0KTsKICAgICAgdmFyIGVuZE1vbWVudCA9IGRhdGVNYXRoLnBhcnNlKF90aGlzLnByb3BzLmVuZCwgewogICAgICAgIHJvdW5kVXA6IHRydWUKICAgICAgfSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgbWluOiBzdGFydE1vbWVudCAmJiBzdGFydE1vbWVudC5pc1ZhbGlkKCkgPyBzdGFydE1vbWVudCA6IG1vbWVudCgpLnN1YnRyYWN0KDE1LCAnbWludXRlJyksCiAgICAgICAgbWF4OiBlbmRNb21lbnQgJiYgZW5kTW9tZW50LmlzVmFsaWQoKSA/IGVuZE1vbWVudCA6IG1vbWVudCgpCiAgICAgIH07CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzdGVwRm9yd2FyZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF90aGlzJGdldEJvdW5kcyA9IF90aGlzLmdldEJvdW5kcygpLAogICAgICAgICAgbWluID0gX3RoaXMkZ2V0Qm91bmRzLm1pbiwKICAgICAgICAgIG1heCA9IF90aGlzJGdldEJvdW5kcy5tYXg7CgogICAgICB2YXIgZGlmZiA9IG1heC5kaWZmKG1pbik7CgogICAgICBfdGhpcy5wcm9wcy5hcHBseVRpbWUoewogICAgICAgIHN0YXJ0OiBtb21lbnQobWF4KS5hZGQoMSwgJ21zJykudG9JU09TdHJpbmcoKSwKICAgICAgICBlbmQ6IG1vbWVudChtYXgpLmFkZChkaWZmICsgMSwgJ21zJykudG9JU09TdHJpbmcoKSwKICAgICAgICBrZWVwUG9wb3Zlck9wZW46IHRydWUKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzdGVwQmFja3dhcmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyRnZXRCb3VuZHMyID0gX3RoaXMuZ2V0Qm91bmRzKCksCiAgICAgICAgICBtaW4gPSBfdGhpcyRnZXRCb3VuZHMyLm1pbiwKICAgICAgICAgIG1heCA9IF90aGlzJGdldEJvdW5kczIubWF4OwoKICAgICAgdmFyIGRpZmYgPSBtYXguZGlmZihtaW4pOwoKICAgICAgX3RoaXMucHJvcHMuYXBwbHlUaW1lKHsKICAgICAgICBzdGFydDogbW9tZW50KG1pbikuc3VidHJhY3QoZGlmZiArIDEsICdtcycpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgZW5kOiBtb21lbnQobWluKS5zdWJ0cmFjdCgxLCAnbXMnKS50b0lTT1N0cmluZygpLAogICAgICAgIGtlZXBQb3BvdmVyT3BlbjogdHJ1ZQogICAgICB9KTsKICAgIH0pOwoKICAgIHZhciBfcGFyc2VUaW1lUGFydHMgPSBwYXJzZVRpbWVQYXJ0cyhwcm9wcy5zdGFydCwgcHJvcHMuZW5kKSwKICAgICAgICB0aW1lVGVuc2VEZWZhdWx0ID0gX3BhcnNlVGltZVBhcnRzLnRpbWVUZW5zZSwKICAgICAgICB0aW1lVW5pdHNEZWZhdWx0ID0gX3BhcnNlVGltZVBhcnRzLnRpbWVVbml0cywKICAgICAgICB0aW1lVmFsdWVEZWZhdWx0ID0gX3BhcnNlVGltZVBhcnRzLnRpbWVWYWx1ZTsKCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgdGltZVRlbnNlOiBwcm9wcy5wcmV2UXVpY2tTZWxlY3QgJiYgcHJvcHMucHJldlF1aWNrU2VsZWN0LnRpbWVUZW5zZSA/IHByb3BzLnByZXZRdWlja1NlbGVjdC50aW1lVGVuc2UgOiB0aW1lVGVuc2VEZWZhdWx0LAogICAgICB0aW1lVmFsdWU6IHByb3BzLnByZXZRdWlja1NlbGVjdCAmJiBwcm9wcy5wcmV2UXVpY2tTZWxlY3QudGltZVZhbHVlID8gcHJvcHMucHJldlF1aWNrU2VsZWN0LnRpbWVWYWx1ZSA6IHRpbWVWYWx1ZURlZmF1bHQsCiAgICAgIHRpbWVVbml0czogcHJvcHMucHJldlF1aWNrU2VsZWN0ICYmIHByb3BzLnByZXZRdWlja1NlbGVjdC50aW1lVW5pdHMgPyBwcm9wcy5wcmV2UXVpY2tTZWxlY3QudGltZVVuaXRzIDogdGltZVVuaXRzRGVmYXVsdAogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhFdWlRdWlja1NlbGVjdCwgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRzdGF0ZTIgPSB0aGlzLnN0YXRlLAogICAgICAgICAgdGltZVRlbnNlID0gX3RoaXMkc3RhdGUyLnRpbWVUZW5zZSwKICAgICAgICAgIHRpbWVWYWx1ZSA9IF90aGlzJHN0YXRlMi50aW1lVmFsdWUsCiAgICAgICAgICB0aW1lVW5pdHMgPSBfdGhpcyRzdGF0ZTIudGltZVVuaXRzOwogICAgICB2YXIgdGltZVNlbGVjdGlvbklkID0gdGhpcy5nZW5lcmF0ZUlkKCk7CiAgICAgIHZhciBsZWdlbmRJZCA9IHRoaXMuZ2VuZXJhdGVJZCgpOwogICAgICB2YXIgbWF0Y2hlZFRpbWVVbml0ID0gdGltZVVuaXRzT3B0aW9ucy5maW5kKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciB2YWx1ZSA9IF9yZWYyLnZhbHVlOwogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdGltZVVuaXRzOwogICAgICB9KTsKICAgICAgdmFyIHRpbWVVbml0ID0gbWF0Y2hlZFRpbWVVbml0ID8gbWF0Y2hlZFRpbWVVbml0LnRleHQgOiAnJzsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICB0b2tlbjogImV1aVF1aWNrU2VsZWN0LmxlZ2VuZFRleHQiLAogICAgICAgIGRlZmF1bHQ6ICJRdWljayBzZWxlY3QgYSB0aW1lIHJhbmdlIgogICAgICB9LCBmdW5jdGlvbiAobGVnZW5kVGV4dCkgewogICAgICAgIHJldHVybiAoCiAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAvLyBMZWdlbmQgbmVlZHMgdG8gYmUgdGhlIGZpcnN0IHRoaW5nIGluIGEgZmllbGRzZXQsIGJ1dCB3ZSB3YW50IHRoZSB2aXNpYmxlIHRpdGxlIHdpdGhpbiB0aGUgZmxleC4KICAgICAgICAgIC8vIFNvIHdlIGhpZGUgaXQsIGJ1dCBhbGxvdyBzY3JlZW4gcmVhZGVycyB0byBzZWUgaXQKICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpU2NyZWVuUmVhZGVyT25seSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImxlZ2VuZCIsIHsKICAgICAgICAgICAgaWQ6IGxlZ2VuZElkLAogICAgICAgICAgICBjbGFzc05hbWU6ICJldWlGb3JtTGFiZWwiCiAgICAgICAgICB9LCBsZWdlbmRUZXh0KSkKICAgICAgICApOwogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEdyb3VwLCB7CiAgICAgICAgcmVzcG9uc2l2ZTogZmFsc2UsCiAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIsCiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICJzcGFjZUJldHdlZW4iLAogICAgICAgIGd1dHRlclNpemU6ICJzIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlGbGV4SXRlbSwgewogICAgICAgIGdyb3c6IGZhbHNlCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICB0b2tlbjogImV1aVF1aWNrU2VsZWN0LnF1aWNrU2VsZWN0VGl0bGUiLAogICAgICAgIGRlZmF1bHQ6ICJRdWljayBzZWxlY3QiCiAgICAgIH0sIGZ1bmN0aW9uIChxdWlja1NlbGVjdFRpdGxlKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAiYXJpYS1oaWRkZW4iOiB0cnVlLAogICAgICAgICAgY2xhc3NOYW1lOiAiZXVpRm9ybUxhYmVsIgogICAgICAgIH0sIHF1aWNrU2VsZWN0VGl0bGUpOwogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEdyb3VwLCB7CiAgICAgICAgYWxpZ25JdGVtczogImNlbnRlciIsCiAgICAgICAgZ3V0dGVyU2l6ZTogInMiLAogICAgICAgIHJlc3BvbnNpdmU6IGZhbHNlCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgICAgIHRva2VuOiAiZXVpUXVpY2tTZWxlY3QucHJldmlvdXNMYWJlbCIsCiAgICAgICAgZGVmYXVsdDogIlByZXZpb3VzIHRpbWUgd2luZG93IgogICAgICB9LCBmdW5jdGlvbiAocHJldmlvdXNMYWJlbCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlUb29sVGlwLCB7CiAgICAgICAgICBjb250ZW50OiBwcmV2aW91c0xhYmVsCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpQnV0dG9uSWNvbiwgewogICAgICAgICAgImFyaWEtbGFiZWwiOiBwcmV2aW91c0xhYmVsLAogICAgICAgICAgaWNvblR5cGU6ICJhcnJvd0xlZnQiLAogICAgICAgICAgb25DbGljazogX3RoaXMyLnN0ZXBCYWNrd2FyZAogICAgICAgIH0pKTsKICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlGbGV4SXRlbSwgewogICAgICAgIGdyb3c6IGZhbHNlCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICB0b2tlbjogImV1aVF1aWNrU2VsZWN0Lm5leHRMYWJlbCIsCiAgICAgICAgZGVmYXVsdDogIk5leHQgdGltZSB3aW5kb3ciCiAgICAgIH0sIGZ1bmN0aW9uIChuZXh0TGFiZWwpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpVG9vbFRpcCwgewogICAgICAgICAgY29udGVudDogbmV4dExhYmVsCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpQnV0dG9uSWNvbiwgewogICAgICAgICAgImFyaWEtbGFiZWwiOiBuZXh0TGFiZWwsCiAgICAgICAgICBpY29uVHlwZTogImFycm93UmlnaHQiLAogICAgICAgICAgb25DbGljazogX3RoaXMyLnN0ZXBGb3J3YXJkCiAgICAgICAgfSkpOwogICAgICB9KSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVNwYWNlciwgewogICAgICAgIHNpemU6ICJzIgogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEdyb3VwLCB7CiAgICAgICAgZ3V0dGVyU2l6ZTogInMiLAogICAgICAgIHJlc3BvbnNpdmU6IGZhbHNlCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhJdGVtLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICAgICAgdG9rZW46ICJldWlRdWlja1NlbGVjdC50ZW5zZUxhYmVsIiwKICAgICAgICBkZWZhdWx0OiAiVGltZSB0ZW5zZSIKICAgICAgfSwgZnVuY3Rpb24gKHRlbnNlTGFiZWwpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpU2VsZWN0LCB7CiAgICAgICAgICBjb21wcmVzc2VkOiB0cnVlLAogICAgICAgICAgb25LZXlEb3duOiBfdGhpczIuaGFuZGxlS2V5RG93biwKICAgICAgICAgICJhcmlhLWxhYmVsIjogdGVuc2VMYWJlbCwKICAgICAgICAgICJhcmlhLWRlc2NyaWJlZGJ5IjogIiIuY29uY2F0KHRpbWVTZWxlY3Rpb25JZCwgIiAiKS5jb25jYXQobGVnZW5kSWQpLAogICAgICAgICAgdmFsdWU6IHRpbWVUZW5zZSwKICAgICAgICAgIG9wdGlvbnM6IHRpbWVUZW5zZU9wdGlvbnMsCiAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLm9uVGltZVRlbnNlQ2hhbmdlCiAgICAgICAgfSk7CiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEl0ZW0sIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICB0b2tlbjogImV1aVF1aWNrU2VsZWN0LnZhbHVlTGFiZWwiLAogICAgICAgIGRlZmF1bHQ6ICJUaW1lIHZhbHVlIgogICAgICB9LCBmdW5jdGlvbiAodmFsdWVMYWJlbCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlGaWVsZE51bWJlciwgewogICAgICAgICAgY29tcHJlc3NlZDogdHJ1ZSwKICAgICAgICAgIG9uS2V5RG93bjogX3RoaXMyLmhhbmRsZUtleURvd24sCiAgICAgICAgICAiYXJpYS1kZXNjcmliZWRieSI6ICIiLmNvbmNhdCh0aW1lU2VsZWN0aW9uSWQsICIgIikuY29uY2F0KGxlZ2VuZElkKSwKICAgICAgICAgICJhcmlhLWxhYmVsIjogdmFsdWVMYWJlbCwKICAgICAgICAgIHZhbHVlOiB0aW1lVmFsdWUsCiAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLm9uVGltZVZhbHVlQ2hhbmdlCiAgICAgICAgfSk7CiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEl0ZW0sIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICB0b2tlbjogImV1aVF1aWNrU2VsZWN0LnVuaXRMYWJlbCIsCiAgICAgICAgZGVmYXVsdDogIlRpbWUgdW5pdCIKICAgICAgfSwgZnVuY3Rpb24gKHVuaXRMYWJlbCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlTZWxlY3QsIHsKICAgICAgICAgIGNvbXByZXNzZWQ6IHRydWUsCiAgICAgICAgICBvbktleURvd246IF90aGlzMi5oYW5kbGVLZXlEb3duLAogICAgICAgICAgImFyaWEtbGFiZWwiOiB1bml0TGFiZWwsCiAgICAgICAgICAiYXJpYS1kZXNjcmliZWRieSI6ICIiLmNvbmNhdCh0aW1lU2VsZWN0aW9uSWQsICIgIikuY29uY2F0KGxlZ2VuZElkKSwKICAgICAgICAgIHZhbHVlOiB0aW1lVW5pdHMsCiAgICAgICAgICBvcHRpb25zOiB0aW1lVW5pdHNPcHRpb25zLAogICAgICAgICAgb25DaGFuZ2U6IF90aGlzMi5vblRpbWVVbml0c0NoYW5nZQogICAgICAgIH0pOwogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpQnV0dG9uLCB7CiAgICAgICAgImFyaWEtZGVzY3JpYmVkYnkiOiAiIi5jb25jYXQodGltZVNlbGVjdGlvbklkLCAiICIpLmNvbmNhdChsZWdlbmRJZCksCiAgICAgICAgY2xhc3NOYW1lOiAiZXVpUXVpY2tTZWxlY3RfX2FwcGx5QnV0dG9uIiwKICAgICAgICBzaXplOiAicyIsCiAgICAgICAgb25DbGljazogdGhpcy5hcHBseVF1aWNrU2VsZWN0LAogICAgICAgIGRpc2FibGVkOiB0aW1lVmFsdWUgPD0gMAogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICAgICAgdG9rZW46ICJldWlRdWlja1NlbGVjdC5hcHBseUJ1dHRvbiIsCiAgICAgICAgZGVmYXVsdDogIkFwcGx5IgogICAgICB9KSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSG9yaXpvbnRhbFJ1bGUsIHsKICAgICAgICBtYXJnaW46ICJzIgogICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpU2NyZWVuUmVhZGVyT25seSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInAiLCB7CiAgICAgICAgaWQ6IHRpbWVTZWxlY3Rpb25JZAogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICAgICAgdG9rZW46ICJldWlRdWlja1NlbGVjdC5mdWxsRGVzY3JpcHRpb24iLAogICAgICAgIGRlZmF1bHQ6ICJDdXJyZW50bHkgc2V0IHRvIHt0aW1lVGVuc2V9IHt0aW1lVmFsdWV9IHt0aW1lVW5pdH0uIiwKICAgICAgICB2YWx1ZXM6IHsKICAgICAgICAgIHRpbWVUZW5zZTogdGltZVRlbnNlLAogICAgICAgICAgdGltZVZhbHVlOiB0aW1lVmFsdWUsCiAgICAgICAgICB0aW1lVW5pdDogdGltZVVuaXQKICAgICAgICB9CiAgICAgIH0pKSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEV1aVF1aWNrU2VsZWN0Owp9KENvbXBvbmVudCk7CkV1aVF1aWNrU2VsZWN0LnByb3BUeXBlcyA9IHsKICBhcHBseVRpbWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgc3RhcnQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICBlbmQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICBwcmV2UXVpY2tTZWxlY3Q6IFByb3BUeXBlcy5zaGFwZSh7CiAgICB0aW1lVGVuc2U6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICAgIHRpbWVWYWx1ZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLAogICAgdGltZVVuaXRzOiBQcm9wVHlwZXMub25lT2YoWyJzIiwgIm0iLCAiaCIsICJkIiwgInciLCAiTSIsICJ5Il0pLmlzUmVxdWlyZWQKICB9KQp9OwoKdHJ5IHsKICBFdWlRdWlja1NlbGVjdC5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ0V1aVF1aWNrU2VsZWN0JywKICAgIG1ldGhvZHM6IFtdLAogICAgcHJvcHM6IHsKICAgICAgYXBwbHlUaW1lOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnYXBwbHlUaW1lJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2RhdGVfcGlja2VyL3N1cGVyX2RhdGVfcGlja2VyL3F1aWNrX3NlbGVjdF9wb3BvdmVyL3F1aWNrX3NlbGVjdC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVF1aWNrU2VsZWN0UHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnQXBwbHlUaW1lJwogICAgICAgIH0KICAgICAgfSwKICAgICAgc3RhcnQ6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdzdGFydCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9kYXRlX3BpY2tlci9zdXBlcl9kYXRlX3BpY2tlci9xdWlja19zZWxlY3RfcG9wb3Zlci9xdWlja19zZWxlY3QudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlRdWlja1NlbGVjdFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVuZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2VuZCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9kYXRlX3BpY2tlci9zdXBlcl9kYXRlX3BpY2tlci9xdWlja19zZWxlY3RfcG9wb3Zlci9xdWlja19zZWxlY3QudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlRdWlja1NlbGVjdFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByZXZRdWlja1NlbGVjdDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3ByZXZRdWlja1NlbGVjdCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9kYXRlX3BpY2tlci9zdXBlcl9kYXRlX3BpY2tlci9xdWlja19zZWxlY3RfcG9wb3Zlci9xdWlja19zZWxlY3QudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlRdWlja1NlbGVjdFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdRdWlja1NlbGVjdCcKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBleHRlbmRlZEludGVyZmFjZXM6IFsnRXVpUXVpY2tTZWxlY3RQcm9wcyddCiAgfTsKfSBjYXRjaCAoZSkge30="},{"version":3,"sources":["D:/work/eui/src/components/date_picker/super_date_picker/quick_select_popover/quick_select.tsx"],"names":["React","Component","moment","dateMath","htmlIdGenerator","EuiButton","EuiButtonIcon","EuiFlexGroup","EuiFlexItem","EuiSpacer","EuiSelect","EuiFieldNumber","EuiToolTip","EuiHorizontalRule","EuiI18n","timeUnits","EuiScreenReaderOnly","keysOf","parseTimeParts","LAST","NEXT","timeTenseOptions","value","text","timeUnitsOptions","map","key","EuiQuickSelect","props","event","setState","timeTense","target","sanitizedValue","parseInt","timeValue","isNaN","applyQuickSelect","state","applyTime","start","end","quickSelect","startMoment","parse","endMoment","roundUp","min","isValid","subtract","max","getBounds","diff","add","toISOString","keepPopoverOpen","timeTenseDefault","timeUnitsDefault","timeValueDefault","prevQuickSelect","timeSelectionId","generateId","legendId","matchedTimeUnit","find","timeUnit","legendText","quickSelectTitle","previousLabel","stepBackward","nextLabel","stepForward","tenseLabel","handleKeyDown","onTimeTenseChange","valueLabel","onTimeValueChange","unitLabel","onTimeUnitsChange"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport moment from 'moment';\nimport dateMath from '@elastic/datemath';\nimport { htmlIdGenerator } from '../../../../services';\nimport { EuiButton, EuiButtonIcon } from '../../../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../../../flex';\nimport { EuiSpacer } from '../../../spacer';\nimport { EuiSelect, EuiFieldNumber } from '../../../form';\nimport { EuiToolTip } from '../../../tool_tip';\nimport { EuiHorizontalRule } from '../../../horizontal_rule';\nimport { EuiI18n } from '../../../i18n';\nimport { timeUnits } from '../time_units';\nimport { EuiScreenReaderOnly } from '../../../accessibility';\nimport { keysOf } from '../../../common';\nimport { parseTimeParts } from './quick_select_utils';\nvar LAST = 'last';\nvar NEXT = 'next';\nvar timeTenseOptions = [{\n  value: LAST,\n  text: 'Last'\n}, {\n  value: NEXT,\n  text: 'Next'\n}];\nvar timeUnitsOptions = keysOf(timeUnits).map(function (key) {\n  return {\n    value: key,\n    text: \"\".concat(timeUnits[key], \"s\")\n  };\n});\nexport class EuiQuickSelect extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      timeTense: timeTenseDefault,\n      timeUnits: timeUnitsDefault,\n      timeValue: timeValueDefault\n    } = parseTimeParts(props.start, props.end);\n    this.state = {\n      timeTense: props.prevQuickSelect && props.prevQuickSelect.timeTense ? props.prevQuickSelect.timeTense : timeTenseDefault,\n      timeValue: props.prevQuickSelect && props.prevQuickSelect.timeValue ? props.prevQuickSelect.timeValue : timeValueDefault,\n      timeUnits: props.prevQuickSelect && props.prevQuickSelect.timeUnits ? props.prevQuickSelect.timeUnits : timeUnitsDefault\n    };\n  }\n\n  generateId = htmlIdGenerator();\n  onTimeTenseChange = event => {\n    this.setState({\n      timeTense: event.target.value\n    });\n  };\n  onTimeValueChange = event => {\n    const sanitizedValue = parseInt(event.target.value, 10);\n    this.setState({\n      timeValue: isNaN(sanitizedValue) ? 0 : sanitizedValue\n    });\n  };\n  onTimeUnitsChange = event => {\n    this.setState({\n      timeUnits: event.target.value\n    });\n  };\n  handleKeyDown = ({\n    key\n  }) => {\n    if (key === 'Enter') {\n      this.applyQuickSelect();\n    }\n  };\n  applyQuickSelect = () => {\n    const {\n      timeTense,\n      timeValue,\n      timeUnits\n    } = this.state;\n\n    if (timeTense === NEXT) {\n      this.props.applyTime({\n        start: 'now',\n        end: `now+${timeValue}${timeUnits}`,\n        quickSelect: { ...this.state\n        }\n      });\n      return;\n    }\n\n    this.props.applyTime({\n      start: `now-${timeValue}${timeUnits}`,\n      end: 'now',\n      quickSelect: { ...this.state\n      }\n    });\n  };\n  getBounds = () => {\n    const startMoment = dateMath.parse(this.props.start);\n    const endMoment = dateMath.parse(this.props.end, {\n      roundUp: true\n    });\n    return {\n      min: startMoment && startMoment.isValid() ? startMoment : moment().subtract(15, 'minute'),\n      max: endMoment && endMoment.isValid() ? endMoment : moment()\n    };\n  };\n  stepForward = () => {\n    const {\n      min,\n      max\n    } = this.getBounds();\n    const diff = max.diff(min);\n    this.props.applyTime({\n      start: moment(max).add(1, 'ms').toISOString(),\n      end: moment(max).add(diff + 1, 'ms').toISOString(),\n      keepPopoverOpen: true\n    });\n  };\n  stepBackward = () => {\n    const {\n      min,\n      max\n    } = this.getBounds();\n    const diff = max.diff(min);\n    this.props.applyTime({\n      start: moment(min).subtract(diff + 1, 'ms').toISOString(),\n      end: moment(min).subtract(1, 'ms').toISOString(),\n      keepPopoverOpen: true\n    });\n  };\n\n  render() {\n    const {\n      timeTense,\n      timeValue,\n      timeUnits\n    } = this.state;\n    const timeSelectionId = this.generateId();\n    const legendId = this.generateId();\n    const matchedTimeUnit = timeUnitsOptions.find(({\n      value\n    }) => value === timeUnits);\n    const timeUnit = matchedTimeUnit ? matchedTimeUnit.text : '';\n    return <fieldset>\n        <EuiI18n token=\"euiQuickSelect.legendText\" default=\"Quick select a time range\">\n          {legendText => // Legend needs to be the first thing in a fieldset, but we want the visible title within the flex.\n        // So we hide it, but allow screen readers to see it\n        <EuiScreenReaderOnly>\n              <legend id={legendId} className=\"euiFormLabel\">\n                {legendText}\n              </legend>\n            </EuiScreenReaderOnly>}\n        </EuiI18n>\n        <EuiFlexGroup responsive={false} alignItems=\"center\" justifyContent=\"spaceBetween\" gutterSize=\"s\">\n          <EuiFlexItem grow={false}>\n            <EuiI18n token=\"euiQuickSelect.quickSelectTitle\" default=\"Quick select\">\n              {quickSelectTitle => <div aria-hidden className=\"euiFormLabel\">\n                  {quickSelectTitle}\n                </div>}\n            </EuiI18n>\n          </EuiFlexItem>\n          <EuiFlexItem grow={false}>\n            <EuiFlexGroup alignItems=\"center\" gutterSize=\"s\" responsive={false}>\n              <EuiFlexItem grow={false}>\n                <EuiI18n token=\"euiQuickSelect.previousLabel\" default=\"Previous time window\">\n                  {previousLabel => <EuiToolTip content={previousLabel}>\n                      <EuiButtonIcon aria-label={previousLabel} iconType=\"arrowLeft\" onClick={this.stepBackward} />\n                    </EuiToolTip>}\n                </EuiI18n>\n              </EuiFlexItem>\n              <EuiFlexItem grow={false}>\n                <EuiI18n token=\"euiQuickSelect.nextLabel\" default=\"Next time window\">\n                  {nextLabel => <EuiToolTip content={nextLabel}>\n                      <EuiButtonIcon aria-label={nextLabel} iconType=\"arrowRight\" onClick={this.stepForward} />\n                    </EuiToolTip>}\n                </EuiI18n>\n              </EuiFlexItem>\n            </EuiFlexGroup>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiSpacer size=\"s\" />\n        <EuiFlexGroup gutterSize=\"s\" responsive={false}>\n          <EuiFlexItem>\n            <EuiI18n token=\"euiQuickSelect.tenseLabel\" default=\"Time tense\">\n              {tenseLabel => <EuiSelect compressed onKeyDown={this.handleKeyDown} aria-label={tenseLabel} aria-describedby={`${timeSelectionId} ${legendId}`} value={timeTense} options={timeTenseOptions} onChange={this.onTimeTenseChange} />}\n            </EuiI18n>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiI18n token=\"euiQuickSelect.valueLabel\" default=\"Time value\">\n              {valueLabel => <EuiFieldNumber compressed onKeyDown={this.handleKeyDown} aria-describedby={`${timeSelectionId} ${legendId}`} aria-label={valueLabel} value={timeValue} onChange={this.onTimeValueChange} />}\n            </EuiI18n>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiI18n token=\"euiQuickSelect.unitLabel\" default=\"Time unit\">\n              {unitLabel => <EuiSelect compressed onKeyDown={this.handleKeyDown} aria-label={unitLabel} aria-describedby={`${timeSelectionId} ${legendId}`} value={timeUnits} options={timeUnitsOptions} onChange={this.onTimeUnitsChange} />}\n            </EuiI18n>\n          </EuiFlexItem>\n          <EuiFlexItem grow={false}>\n            <EuiButton aria-describedby={`${timeSelectionId} ${legendId}`} className=\"euiQuickSelect__applyButton\" size=\"s\" onClick={this.applyQuickSelect} disabled={timeValue <= 0}>\n              <EuiI18n token=\"euiQuickSelect.applyButton\" default=\"Apply\" />\n            </EuiButton>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiHorizontalRule margin=\"s\" />\n        <EuiScreenReaderOnly>\n          <p id={timeSelectionId}>\n            <EuiI18n token=\"euiQuickSelect.fullDescription\" default=\"Currently set to {timeTense} {timeValue} {timeUnit}.\" values={{\n            timeTense,\n            timeValue,\n            timeUnit\n          }} />\n          </p>\n        </EuiScreenReaderOnly>\n      </fieldset>;\n  }\n\n}\nEuiQuickSelect.propTypes = {\n  applyTime: PropTypes.func.isRequired,\n  start: PropTypes.string.isRequired,\n  end: PropTypes.string.isRequired,\n  prevQuickSelect: PropTypes.shape({\n    timeTense: PropTypes.string.isRequired,\n    timeValue: PropTypes.number.isRequired,\n    timeUnits: PropTypes.oneOf([\"s\", \"m\", \"h\", \"d\", \"w\", \"M\", \"y\"]).isRequired\n  })\n};\n\ntry {\n  EuiQuickSelect.__docgenInfo = {\n    description: '',\n    displayName: 'EuiQuickSelect',\n    methods: [],\n    props: {\n      applyTime: {\n        defaultValue: null,\n        description: '',\n        name: 'applyTime',\n        parent: {\n          fileName: 'eui/src/components/date_picker/super_date_picker/quick_select_popover/quick_select.tsx',\n          name: 'EuiQuickSelectProps'\n        },\n        required: true,\n        type: {\n          name: 'ApplyTime'\n        }\n      },\n      start: {\n        defaultValue: null,\n        description: '',\n        name: 'start',\n        parent: {\n          fileName: 'eui/src/components/date_picker/super_date_picker/quick_select_popover/quick_select.tsx',\n          name: 'EuiQuickSelectProps'\n        },\n        required: true,\n        type: {\n          name: 'string'\n        }\n      },\n      end: {\n        defaultValue: null,\n        description: '',\n        name: 'end',\n        parent: {\n          fileName: 'eui/src/components/date_picker/super_date_picker/quick_select_popover/quick_select.tsx',\n          name: 'EuiQuickSelectProps'\n        },\n        required: true,\n        type: {\n          name: 'string'\n        }\n      },\n      prevQuickSelect: {\n        defaultValue: null,\n        description: '',\n        name: 'prevQuickSelect',\n        parent: {\n          fileName: 'eui/src/components/date_picker/super_date_picker/quick_select_popover/quick_select.tsx',\n          name: 'EuiQuickSelectProps'\n        },\n        required: false,\n        type: {\n          name: 'QuickSelect'\n        }\n      }\n    },\n    extendedInterfaces: ['EuiQuickSelectProps']\n  };\n} catch (e) {}"]}]}