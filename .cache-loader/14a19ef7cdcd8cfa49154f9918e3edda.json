{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\form\\field_search\\field_search.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\form\\field_search\\field_search.tsx","mtime":1649070093422},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKCmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAicHJvcC10eXBlcyI7CmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgeyBCcm93c2VyIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvYnJvd3Nlcic7CmltcG9ydCB7IGtleXMgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcyc7CmltcG9ydCB7IEV1aUZvcm1Db250cm9sTGF5b3V0IH0gZnJvbSAnLi4vZm9ybV9jb250cm9sX2xheW91dCc7CmltcG9ydCB7IEV1aVZhbGlkYXRhYmxlQ29udHJvbCB9IGZyb20gJy4uL3ZhbGlkYXRhYmxlX2NvbnRyb2wnOwp2YXIgaXNTZWFyY2hTdXBwb3J0ZWQgPSBmYWxzZTsKZXhwb3J0IHZhciBFdWlGaWVsZFNlYXJjaCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhFdWlGaWVsZFNlYXJjaCwgX0NvbXBvbmVudCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRXVpRmllbGRTZWFyY2gpOwoKICBmdW5jdGlvbiBFdWlGaWVsZFNlYXJjaCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXVpRmllbGRTZWFyY2gpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJzdGF0ZSIsIHsKICAgICAgdmFsdWU6IF90aGlzLnByb3BzLnZhbHVlIHx8IChfdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgPyAiIi5jb25jYXQoX3RoaXMucHJvcHMuZGVmYXVsdFZhbHVlKSA6ICcnKQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiaW5wdXRFbGVtZW50IiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY2xlYW51cHMiLCBbXSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25DbGVhciIsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gY2xlYXIgdGhlIGZpZWxkJ3MgdmFsdWUKICAgICAgLy8gMS4gUmVhY3QgZG9lc24ndCBsaXN0ZW4gZm9yIGBjaGFuZ2VgIGV2ZW50cywgaW5zdGVhZCBpdCBtYXBzIGBpbnB1dGAgZXZlbnRzIHRvIGBjaGFuZ2VgCiAgICAgIC8vIDIuIFJlYWN0IG9ubHkgZmlyZXMgdGhlIG1hcHBlZCBgY2hhbmdlYCBldmVudCBpZiB0aGUgZWxlbWVudCdzIHZhbHVlIGhhcyBjaGFuZ2VkCiAgICAgIC8vIDMuIEFuIGlucHV0J3MgdmFsdWUgaXMsIGluIGFkZGl0aW9uIHRvIG90aGVyIG1ldGhvZHMsIHRyYWNrZWQgYnkgaW50ZXJjZXB0aW5nIGVsZW1lbnQudmFsdWUgPSAnLi4uJwogICAgICAvLwogICAgICAvLyBTbyB3ZSBoYXZlIHRvIGdvIGJlbG93IHRoZSBlbGVtZW50J3MgdmFsdWUgc2V0dGVyIHRvIGF2b2lkIFJlYWN0IGludGVyY2VwdGluZyBpdCwKICAgICAgLy8gb25seSB0aGVuIHdpbGwgUmVhY3QgdHJlYXQgdGhlIHZhbHVlIGFzIGRpZmZlcmVudCBhbmQgZmlyZSBpdHMgYGNoYW5nZWAgZXZlbnQKICAgICAgLy8KICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjM4OTI1NDcvd2hhdC1pcy10aGUtYmVzdC13YXktdG8tdHJpZ2dlci1vbmNoYW5nZS1ldmVudC1pbi1yZWFjdC1qcwogICAgICB2YXIgbmF0aXZlSW5wdXRWYWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUsICd2YWx1ZScpOwogICAgICB2YXIgbmF0aXZlSW5wdXRWYWx1ZVNldHRlciA9IG5hdGl2ZUlucHV0VmFsdWUgPyBuYXRpdmVJbnB1dFZhbHVlLnNldCA6IHVuZGVmaW5lZDsKCiAgICAgIGlmIChuYXRpdmVJbnB1dFZhbHVlU2V0dGVyKSB7CiAgICAgICAgbmF0aXZlSW5wdXRWYWx1ZVNldHRlci5jYWxsKF90aGlzLmlucHV0RWxlbWVudCwgJycpOwogICAgICB9IC8vIGRpc3BhdGNoIGlucHV0IGV2ZW50LCB3aXRoIElFMTEgc3VwcG9ydC9mYWxsYmFjawoKCiAgICAgIHZhciBldmVudDsKCiAgICAgIGlmICgnRXZlbnQnIGluIHdpbmRvdyAmJiB0eXBlb2YgRXZlbnQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBldmVudCA9IG5ldyBFdmVudCgnaW5wdXQnLCB7CiAgICAgICAgICBidWJibGVzOiB0cnVlLAogICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2UKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBJRTExCiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTsKICAgICAgICBldmVudC5pbml0RXZlbnQoJ2lucHV0JywgdHJ1ZSwgZmFsc2UpOwogICAgICB9CgogICAgICBpZiAoX3RoaXMuaW5wdXRFbGVtZW50KSB7CiAgICAgICAgaWYgKGV2ZW50KSB7CiAgICAgICAgICBfdGhpcy5pbnB1dEVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAgfSAvLyBzZXQgZm9jdXMgb24gdGhlIHNlYXJjaCBmaWVsZAoKCiAgICAgICAgX3RoaXMuaW5wdXRFbGVtZW50LmZvY3VzKCk7CgogICAgICAgIF90aGlzLmlucHV0RWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpOwogICAgICB9CgogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0pOwoKICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsCiAgICAgICAgICBpbmNyZW1lbnRhbCA9IF90aGlzJHByb3BzLmluY3JlbWVudGFsLAogICAgICAgICAgb25TZWFyY2ggPSBfdGhpcyRwcm9wcy5vblNlYXJjaDsKCiAgICAgIGlmIChvblNlYXJjaCAmJiBpbmNyZW1lbnRhbCkgewogICAgICAgIG9uU2VhcmNoKCcnKTsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2V0UmVmIiwgZnVuY3Rpb24gKGlucHV0RWxlbWVudCkgewogICAgICBfdGhpcy5pbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7CgogICAgICBpZiAoX3RoaXMucHJvcHMuaW5wdXRSZWYpIHsKICAgICAgICBfdGhpcy5wcm9wcy5pbnB1dFJlZihpbnB1dEVsZW1lbnQpOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbktleVVwIiwgZnVuY3Rpb24gKGV2ZW50LCBpbmNyZW1lbnRhbCwgb25TZWFyY2gpIHsKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIHZhbHVlOiBldmVudC50YXJnZXQudmFsdWUKICAgICAgfSk7CgogICAgICBpZiAoX3RoaXMucHJvcHMub25LZXlVcCkgewogICAgICAgIF90aGlzLnByb3BzLm9uS2V5VXAoZXZlbnQpOwoKICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKG9uU2VhcmNoICYmIChldmVudC5rZXkgIT09IGtleXMuRU5URVIgJiYgaW5jcmVtZW50YWwgfHwgZXZlbnQua2V5ID09PSBrZXlzLkVOVEVSICYmICFpc1NlYXJjaFN1cHBvcnRlZCkpIHsKICAgICAgICBvblNlYXJjaChldmVudC50YXJnZXQudmFsdWUpOwogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRXVpRmllbGRTZWFyY2gsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmlucHV0RWxlbWVudCkgcmV0dXJuOwogICAgICBpc1NlYXJjaFN1cHBvcnRlZCA9IEJyb3dzZXIuaXNFdmVudFN1cHBvcnRlZCgnc2VhcmNoJywgdGhpcy5pbnB1dEVsZW1lbnQpOwoKICAgICAgaWYgKGlzU2VhcmNoU3VwcG9ydGVkKSB7CiAgICAgICAgdmFyIG9uU2VhcmNoID0gZnVuY3Rpb24gb25TZWFyY2goZXZlbnQpIHsKICAgICAgICAgIGlmIChfdGhpczIucHJvcHMub25TZWFyY2gpIHsKICAgICAgICAgICAgaWYgKCFldmVudCB8fCAhZXZlbnQudGFyZ2V0IHx8IGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjsKCiAgICAgICAgICAgIF90aGlzMi5wcm9wcy5vblNlYXJjaChldmVudC50YXJnZXQudmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHRoaXMuaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlYXJjaCcsIG9uU2VhcmNoKTsKICAgICAgICB0aGlzLmNsZWFudXBzLnB1c2goZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCFfdGhpczIuaW5wdXRFbGVtZW50KSByZXR1cm47CgogICAgICAgICAgX3RoaXMyLmlucHV0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWFyY2gnLCBvblNlYXJjaCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQudmFsdWUgIT09IF90aGlzMi5zdGF0ZS52YWx1ZSkgewogICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsKICAgICAgICAgICAgdmFsdWU6IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKF90aGlzMi5wcm9wcy5vblNlYXJjaCkgewogICAgICAgICAgICBfdGhpczIucHJvcHMub25TZWFyY2goZXZlbnQudGFyZ2V0LnZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICB0aGlzLmlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNoYW5nZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICB0aGlzLmNsZWFudXBzLmZvckVhY2goZnVuY3Rpb24gKGNsZWFudXApIHsKICAgICAgICByZXR1cm4gY2xlYW51cCgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcywKICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzMi5jbGFzc05hbWUsCiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzMi5pZCwKICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wczIubmFtZSwKICAgICAgICAgIHBsYWNlaG9sZGVyID0gX3RoaXMkcHJvcHMyLnBsYWNlaG9sZGVyLAogICAgICAgICAgaXNJbnZhbGlkID0gX3RoaXMkcHJvcHMyLmlzSW52YWxpZCwKICAgICAgICAgIGZ1bGxXaWR0aCA9IF90aGlzJHByb3BzMi5mdWxsV2lkdGgsCiAgICAgICAgICBpc0xvYWRpbmcgPSBfdGhpcyRwcm9wczIuaXNMb2FkaW5nLAogICAgICAgICAgaW5wdXRSZWYgPSBfdGhpcyRwcm9wczIuaW5wdXRSZWYsCiAgICAgICAgICBpbmNyZW1lbnRhbCA9IF90aGlzJHByb3BzMi5pbmNyZW1lbnRhbCwKICAgICAgICAgIGNvbXByZXNzZWQgPSBfdGhpcyRwcm9wczIuY29tcHJlc3NlZCwKICAgICAgICAgIG9uU2VhcmNoID0gX3RoaXMkcHJvcHMyLm9uU2VhcmNoLAogICAgICAgICAgaXNDbGVhcmFibGUgPSBfdGhpcyRwcm9wczIuaXNDbGVhcmFibGUsCiAgICAgICAgICBhcHBlbmQgPSBfdGhpcyRwcm9wczIuYXBwZW5kLAogICAgICAgICAgcHJlcGVuZCA9IF90aGlzJHByb3BzMi5wcmVwZW5kLAogICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRwcm9wczIsIFsiY2xhc3NOYW1lIiwgImlkIiwgIm5hbWUiLCAicGxhY2Vob2xkZXIiLCAiaXNJbnZhbGlkIiwgImZ1bGxXaWR0aCIsICJpc0xvYWRpbmciLCAiaW5wdXRSZWYiLCAiaW5jcmVtZW50YWwiLCAiY29tcHJlc3NlZCIsICJvblNlYXJjaCIsICJpc0NsZWFyYWJsZSIsICJhcHBlbmQiLCAicHJlcGVuZCJdKTsKCiAgICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWU7CiAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy52YWx1ZSAhPT0gJ3N0cmluZycpIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTsKICAgICAgdmFyIGNsYXNzZXMgPSBjbGFzc05hbWVzKCdldWlGaWVsZFNlYXJjaCcsIHsKICAgICAgICAnZXVpRmllbGRTZWFyY2gtLWZ1bGxXaWR0aCc6IGZ1bGxXaWR0aCwKICAgICAgICAnZXVpRmllbGRTZWFyY2gtLWNvbXByZXNzZWQnOiBjb21wcmVzc2VkLAogICAgICAgICdldWlGaWVsZFNlYXJjaC0taW5Hcm91cCc6IHByZXBlbmQgfHwgYXBwZW5kLAogICAgICAgICdldWlGaWVsZFNlYXJjaC1pc0xvYWRpbmcnOiBpc0xvYWRpbmcsCiAgICAgICAgJ2V1aUZpZWxkU2VhcmNoLWlzQ2xlYXJhYmxlJzogaXNDbGVhcmFibGUgJiYgdmFsdWUKICAgICAgfSwgY2xhc3NOYW1lKTsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZvcm1Db250cm9sTGF5b3V0LCB7CiAgICAgICAgaWNvbjogInNlYXJjaCIsCiAgICAgICAgZnVsbFdpZHRoOiBmdWxsV2lkdGgsCiAgICAgICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcsCiAgICAgICAgY2xlYXI6IGlzQ2xlYXJhYmxlICYmIHZhbHVlICYmICFyZXN0LnJlYWRPbmx5ICYmICFyZXN0LmRpc2FibGVkID8gewogICAgICAgICAgb25DbGljazogdGhpcy5vbkNsZWFyCiAgICAgICAgfSA6IHVuZGVmaW5lZCwKICAgICAgICBjb21wcmVzc2VkOiBjb21wcmVzc2VkLAogICAgICAgIGFwcGVuZDogYXBwZW5kLAogICAgICAgIHByZXBlbmQ6IHByZXBlbmQKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpVmFsaWRhdGFibGVDb250cm9sLCB7CiAgICAgICAgaXNJbnZhbGlkOiBpc0ludmFsaWQKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImlucHV0IiwgX2V4dGVuZHMoewogICAgICAgIHR5cGU6ICJzZWFyY2giLAogICAgICAgIGlkOiBpZCwKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwKICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMsCiAgICAgICAgb25LZXlVcDogZnVuY3Rpb24gb25LZXlVcChlKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMzLm9uS2V5VXAoZSwgaW5jcmVtZW50YWwsIG9uU2VhcmNoKTsKICAgICAgICB9LAogICAgICAgIHJlZjogdGhpcy5zZXRSZWYKICAgICAgfSwgcmVzdCkpKSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRXVpRmllbGRTZWFyY2g7Cn0oQ29tcG9uZW50KTsKCl9kZWZpbmVQcm9wZXJ0eShFdWlGaWVsZFNlYXJjaCwgImRlZmF1bHRQcm9wcyIsIHsKICBmdWxsV2lkdGg6IGZhbHNlLAogIGlzTG9hZGluZzogZmFsc2UsCiAgaW5jcmVtZW50YWw6IGZhbHNlLAogIGNvbXByZXNzZWQ6IGZhbHNlLAogIGlzQ2xlYXJhYmxlOiB0cnVlCn0pOwoKRXVpRmllbGRTZWFyY2gucHJvcFR5cGVzID0gewogIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsCiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsCiAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcsCiAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsCiAgaXNJbnZhbGlkOiBQcm9wVHlwZXMuYm9vbCwKICBmdWxsV2lkdGg6IFByb3BUeXBlcy5ib29sLAogIGlzTG9hZGluZzogUHJvcFR5cGVzLmJvb2wsCgogIC8qKgogICAgICogQ2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBbRW50ZXJdIE9SIG9uIGNoYW5nZSBpZiB0aGUgaW5jcmVtZW50YWwgcHJvcCBpcyBgdHJ1ZWAuCiAgICAgKiBJZiB5b3UgZG9uJ3QgbmVlZCB0aGUgb25bRW50ZXJdIGZ1bmN0aW9uYWxpdHksIHByZWZlciB1c2luZyBvbkNoYW5nZQogICAgICovCiAgb25TZWFyY2g6IFByb3BUeXBlcy5mdW5jLAoKICAvKioKICAgICAqIFdoZW4gYHRydWVgIHRoZSBzZWFyY2ggd2lsbCBiZSBleGVjdXRlZCAodGhhdCBpcywgdGhlIGBvblNlYXJjaGAgd2lsbCBiZSBjYWxsZWQpIGFzIHRoZQogICAgICogdXNlciB0eXBlcy4KICAgICAqLwogIGluY3JlbWVudGFsOiBQcm9wVHlwZXMuYm9vbCwKCiAgLyoqCiAgICAgKiB3aGVuIGB0cnVlYCBjcmVhdGVzIGEgc2hvcnRlciBoZWlnaHQgaW5wdXQKICAgICAqLwogIGNvbXByZXNzZWQ6IFByb3BUeXBlcy5ib29sLAogIGlucHV0UmVmOiBQcm9wVHlwZXMuZnVuYywKCiAgLyoqCiAgICAgKiBTaG93cyBhIGJ1dHRvbiB0aGF0IHF1aWNrbHkgY2xlYXJzIGFueSBpbnB1dAogICAgICovCiAgaXNDbGVhcmFibGU6IFByb3BUeXBlcy5ib29sLAoKICAvKioKICAgICAqIENyZWF0ZXMgYW4gaW5wdXQgZ3JvdXAgd2l0aCBlbGVtZW50KHMpIGNvbWluZyBiZWZvcmUgaW5wdXQKICAgICAqIGBzdHJpbmdgIHwgYFJlYWN0RWxlbWVudGAgb3IgYW4gYXJyYXkgb2YgdGhlc2UKICAgICAqLwogIHByZXBlbmQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZF0pLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZF0pLmlzUmVxdWlyZWQpLmlzUmVxdWlyZWRdKSwKCiAgLyoqCiAgICAgKiBDcmVhdGVzIGFuIGlucHV0IGdyb3VwIHdpdGggZWxlbWVudChzKSBjb21pbmcgYWZ0ZXIgaW5wdXQuCiAgICAgKiBgc3RyaW5nYCB8IGBSZWFjdEVsZW1lbnRgIG9yIGFuIGFycmF5IG9mIHRoZXNlCiAgICAgKi8KICBhcHBlbmQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZF0pLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZF0pLmlzUmVxdWlyZWQpLmlzUmVxdWlyZWRdKSwKICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsCiAgImFyaWEtbGFiZWwiOiBQcm9wVHlwZXMuc3RyaW5nLAogICJkYXRhLXRlc3Qtc3ViaiI6IFByb3BUeXBlcy5zdHJpbmcKfTsKCnRyeSB7CiAgRXVpRmllbGRTZWFyY2guX19kb2NnZW5JbmZvID0gewogICAgZGVzY3JpcHRpb246ICcnLAogICAgZGlzcGxheU5hbWU6ICdFdWlGaWVsZFNlYXJjaCcsCiAgICBtZXRob2RzOiBbXSwKICAgIHByb3BzOiB7CiAgICAgIG5hbWU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2Zvcm0vZmllbGRfc2VhcmNoL2ZpZWxkX3NlYXJjaC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUZpZWxkU2VhcmNoUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlkOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnaWQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvZm9ybS9maWVsZF9zZWFyY2gvZmllbGRfc2VhcmNoLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpRmllbGRTZWFyY2hQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGxhY2Vob2xkZXI6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdwbGFjZWhvbGRlcicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9mb3JtL2ZpZWxkX3NlYXJjaC9maWVsZF9zZWFyY2gudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlGaWVsZFNlYXJjaFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdzdHJpbmcnCiAgICAgICAgfQogICAgICB9LAogICAgICB2YWx1ZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3ZhbHVlJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2Zvcm0vZmllbGRfc2VhcmNoL2ZpZWxkX3NlYXJjaC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUZpZWxkU2VhcmNoUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlzSW52YWxpZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2lzSW52YWxpZCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9mb3JtL2ZpZWxkX3NlYXJjaC9maWVsZF9zZWFyY2gudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlGaWVsZFNlYXJjaFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgZnVsbFdpZHRoOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2ZhbHNlJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdmdWxsV2lkdGgnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvZm9ybS9maWVsZF9zZWFyY2gvZmllbGRfc2VhcmNoLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpRmllbGRTZWFyY2hQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlzTG9hZGluZzogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdmYWxzZScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnaXNMb2FkaW5nJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2Zvcm0vZmllbGRfc2VhcmNoL2ZpZWxkX3NlYXJjaC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUZpZWxkU2VhcmNoUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBvblNlYXJjaDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0NhbGxlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgW0VudGVyXSBPUiBvbiBjaGFuZ2UgaWYgdGhlIGluY3JlbWVudGFsIHByb3AgaXMgYHRydWVgLlxuJyArICJJZiB5b3UgZG9uJ3QgbmVlZCB0aGUgb25bRW50ZXJdIGZ1bmN0aW9uYWxpdHksIHByZWZlciB1c2luZyBvbkNoYW5nZSIsCiAgICAgICAgbmFtZTogJ29uU2VhcmNoJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2Zvcm0vZmllbGRfc2VhcmNoL2ZpZWxkX3NlYXJjaC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUZpZWxkU2VhcmNoUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJyh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5jcmVtZW50YWw6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnZmFsc2UnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gYHRydWVgIHRoZSBzZWFyY2ggd2lsbCBiZSBleGVjdXRlZCAodGhhdCBpcywgdGhlIGBvblNlYXJjaGAgd2lsbCBiZSBjYWxsZWQpIGFzIHRoZVxuJyArICd1c2VyIHR5cGVzLicsCiAgICAgICAgbmFtZTogJ2luY3JlbWVudGFsJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2Zvcm0vZmllbGRfc2VhcmNoL2ZpZWxkX3NlYXJjaC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUZpZWxkU2VhcmNoUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wcmVzc2VkOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2ZhbHNlJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICd3aGVuIGB0cnVlYCBjcmVhdGVzIGEgc2hvcnRlciBoZWlnaHQgaW5wdXQnLAogICAgICAgIG5hbWU6ICdjb21wcmVzc2VkJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2Zvcm0vZmllbGRfc2VhcmNoL2ZpZWxkX3NlYXJjaC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUZpZWxkU2VhcmNoUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBpbnB1dFJlZjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2lucHV0UmVmJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2Zvcm0vZmllbGRfc2VhcmNoL2ZpZWxkX3NlYXJjaC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUZpZWxkU2VhcmNoUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJyhub2RlOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaXNDbGVhcmFibGU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAndHJ1ZScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnU2hvd3MgYSBidXR0b24gdGhhdCBxdWlja2x5IGNsZWFycyBhbnkgaW5wdXQnLAogICAgICAgIG5hbWU6ICdpc0NsZWFyYWJsZScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9mb3JtL2ZpZWxkX3NlYXJjaC9maWVsZF9zZWFyY2gudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlGaWVsZFNlYXJjaFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJlcGVuZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZXMgYW4gaW5wdXQgZ3JvdXAgd2l0aCBlbGVtZW50KHMpIGNvbWluZyBiZWZvcmUgaW5wdXRcbicgKyAnYHN0cmluZ2AgfCBgUmVhY3RFbGVtZW50YCBvciBhbiBhcnJheSBvZiB0aGVzZScsCiAgICAgICAgbmFtZTogJ3ByZXBlbmQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvZm9ybS9maWVsZF9zZWFyY2gvZmllbGRfc2VhcmNoLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpRmllbGRTZWFyY2hQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUHJlcGVuZEFwcGVuZFR5cGUnCiAgICAgICAgfQogICAgICB9LAogICAgICBhcHBlbmQ6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdDcmVhdGVzIGFuIGlucHV0IGdyb3VwIHdpdGggZWxlbWVudChzKSBjb21pbmcgYWZ0ZXIgaW5wdXQuXG4nICsgJ2BzdHJpbmdgIHwgYFJlYWN0RWxlbWVudGAgb3IgYW4gYXJyYXkgb2YgdGhlc2UnLAogICAgICAgIG5hbWU6ICdhcHBlbmQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvZm9ybS9maWVsZF9zZWFyY2gvZmllbGRfc2VhcmNoLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpRmllbGRTZWFyY2hQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUHJlcGVuZEFwcGVuZFR5cGUnCiAgICAgICAgfQogICAgICB9LAogICAgICBjbGFzc05hbWU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdjbGFzc05hbWUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29tbW9uLnRzJywKICAgICAgICAgIG5hbWU6ICdDb21tb25Qcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2FyaWEtbGFiZWwnOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnYXJpYS1sYWJlbCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb21tb24udHMnLAogICAgICAgICAgbmFtZTogJ0NvbW1vblByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdzdHJpbmcnCiAgICAgICAgfQogICAgICB9LAogICAgICAnZGF0YS10ZXN0LXN1YmonOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnZGF0YS10ZXN0LXN1YmonLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29tbW9uLnRzJywKICAgICAgICAgIG5hbWU6ICdDb21tb25Qcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGV4dGVuZGVkSW50ZXJmYWNlczogWydFdWlGaWVsZFNlYXJjaFByb3BzJywgJ0NvbW1vblByb3BzJywgJ0lucHV0SFRNTEF0dHJpYnV0ZXMnLCAnSFRNTEF0dHJpYnV0ZXMnLCAnQXJpYUF0dHJpYnV0ZXMnLCAnRE9NQXR0cmlidXRlcyddCiAgfTsKfSBjYXRjaCAoZSkge30="},{"version":3,"sources":["D:/work/eui/src/components/form/field_search/field_search.tsx"],"names":["React","Component","classNames","Browser","keys","EuiFormControlLayout","EuiValidatableControl","isSearchSupported","EuiFieldSearch","value","props","defaultValue","nativeInputValue","Object","getOwnPropertyDescriptor","HTMLInputElement","prototype","nativeInputValueSetter","set","undefined","call","inputElement","event","window","Event","bubbles","cancelable","document","createEvent","initEvent","dispatchEvent","focus","setState","incremental","onSearch","inputRef","target","onKeyUp","defaultPrevented","key","ENTER","isEventSupported","addEventListener","cleanups","push","removeEventListener","onChange","state","forEach","cleanup","className","id","name","placeholder","isInvalid","fullWidth","isLoading","compressed","isClearable","append","prepend","rest","classes","readOnly","disabled","onClick","onClear","e","setRef"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport { Browser } from '../../../services/browser';\nimport { keys } from '../../../services';\nimport { EuiFormControlLayout } from '../form_control_layout';\nimport { EuiValidatableControl } from '../validatable_control';\nvar isSearchSupported = false;\nexport class EuiFieldSearch extends Component {\n  static defaultProps = {\n    fullWidth: false,\n    isLoading: false,\n    incremental: false,\n    compressed: false,\n    isClearable: true\n  };\n  state = {\n    value: this.props.value || (this.props.defaultValue ? `${this.props.defaultValue}` : '')\n  };\n  inputElement = null;\n  cleanups = [];\n\n  componentDidMount() {\n    if (!this.inputElement) return;\n    isSearchSupported = Browser.isEventSupported('search', this.inputElement);\n\n    if (isSearchSupported) {\n      const onSearch = event => {\n        if (this.props.onSearch) {\n          if (!event || !event.target || event.defaultPrevented) return;\n          this.props.onSearch(event.target.value);\n        }\n      };\n\n      this.inputElement.addEventListener('search', onSearch);\n      this.cleanups.push(() => {\n        if (!this.inputElement) return;\n        this.inputElement.removeEventListener('search', onSearch);\n      });\n    }\n\n    const onChange = event => {\n      if (event.target && event.target.value !== this.state.value) {\n        this.setState({\n          value: event.target.value\n        });\n\n        if (this.props.onSearch) {\n          this.props.onSearch(event.target.value);\n        }\n      }\n    };\n\n    this.inputElement.addEventListener('change', onChange);\n  }\n\n  onClear = () => {\n    // clear the field's value\n    // 1. React doesn't listen for `change` events, instead it maps `input` events to `change`\n    // 2. React only fires the mapped `change` event if the element's value has changed\n    // 3. An input's value is, in addition to other methods, tracked by intercepting element.value = '...'\n    //\n    // So we have to go below the element's value setter to avoid React intercepting it,\n    // only then will React treat the value as different and fire its `change` event\n    //\n    // https://stackoverflow.com/questions/23892547/what-is-the-best-way-to-trigger-onchange-event-in-react-js\n    const nativeInputValue = Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, 'value');\n    const nativeInputValueSetter = nativeInputValue ? nativeInputValue.set : undefined;\n\n    if (nativeInputValueSetter) {\n      nativeInputValueSetter.call(this.inputElement, '');\n    } // dispatch input event, with IE11 support/fallback\n\n\n    let event;\n\n    if ('Event' in window && typeof Event === 'function') {\n      event = new Event('input', {\n        bubbles: true,\n        cancelable: false\n      });\n    } else {\n      // IE11\n      event = document.createEvent('Event');\n      event.initEvent('input', true, false);\n    }\n\n    if (this.inputElement) {\n      if (event) {\n        this.inputElement.dispatchEvent(event);\n      } // set focus on the search field\n\n\n      this.inputElement.focus();\n      this.inputElement.dispatchEvent(new Event('change'));\n    }\n\n    this.setState({\n      value: ''\n    });\n    const {\n      incremental,\n      onSearch\n    } = this.props;\n\n    if (onSearch && incremental) {\n      onSearch('');\n    }\n  };\n\n  componentWillUnmount() {\n    this.cleanups.forEach(cleanup => cleanup());\n  }\n\n  setRef = inputElement => {\n    this.inputElement = inputElement;\n\n    if (this.props.inputRef) {\n      this.props.inputRef(inputElement);\n    }\n  };\n  onKeyUp = (event, incremental, onSearch) => {\n    this.setState({\n      value: event.target.value\n    });\n\n    if (this.props.onKeyUp) {\n      this.props.onKeyUp(event);\n\n      if (event.defaultPrevented) {\n        return;\n      }\n    }\n\n    if (onSearch && (event.key !== keys.ENTER && incremental || event.key === keys.ENTER && !isSearchSupported)) {\n      onSearch(event.target.value);\n    }\n  };\n\n  render() {\n    const {\n      className,\n      id,\n      name,\n      placeholder,\n      isInvalid,\n      fullWidth,\n      isLoading,\n      inputRef,\n      incremental,\n      compressed,\n      onSearch,\n      isClearable,\n      append,\n      prepend,\n      ...rest\n    } = this.props;\n    let value = this.props.value;\n    if (typeof this.props.value !== 'string') value = this.state.value;\n    const classes = classNames('euiFieldSearch', {\n      'euiFieldSearch--fullWidth': fullWidth,\n      'euiFieldSearch--compressed': compressed,\n      'euiFieldSearch--inGroup': prepend || append,\n      'euiFieldSearch-isLoading': isLoading,\n      'euiFieldSearch-isClearable': isClearable && value\n    }, className);\n    return <EuiFormControlLayout icon=\"search\" fullWidth={fullWidth} isLoading={isLoading} clear={isClearable && value && !rest.readOnly && !rest.disabled ? {\n      onClick: this.onClear\n    } : undefined} compressed={compressed} append={append} prepend={prepend}>\n        <EuiValidatableControl isInvalid={isInvalid}>\n          <input type=\"search\" id={id} name={name} placeholder={placeholder} className={classes} onKeyUp={e => this.onKeyUp(e, incremental, onSearch)} ref={this.setRef} {...rest} />\n        </EuiValidatableControl>\n      </EuiFormControlLayout>;\n  }\n\n}\nEuiFieldSearch.propTypes = {\n  name: PropTypes.string,\n  id: PropTypes.string,\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n  isInvalid: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  isLoading: PropTypes.bool,\n\n  /**\n     * Called when the user presses [Enter] OR on change if the incremental prop is `true`.\n     * If you don't need the on[Enter] functionality, prefer using onChange\n     */\n  onSearch: PropTypes.func,\n\n  /**\n     * When `true` the search will be executed (that is, the `onSearch` will be called) as the\n     * user types.\n     */\n  incremental: PropTypes.bool,\n\n  /**\n     * when `true` creates a shorter height input\n     */\n  compressed: PropTypes.bool,\n  inputRef: PropTypes.func,\n\n  /**\n     * Shows a button that quickly clears any input\n     */\n  isClearable: PropTypes.bool,\n\n  /**\n     * Creates an input group with element(s) coming before input\n     * `string` | `ReactElement` or an array of these\n     */\n  prepend: PropTypes.oneOfType([PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.element.isRequired]).isRequired, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.element.isRequired]).isRequired).isRequired]),\n\n  /**\n     * Creates an input group with element(s) coming after input.\n     * `string` | `ReactElement` or an array of these\n     */\n  append: PropTypes.oneOfType([PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.element.isRequired]).isRequired, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.element.isRequired]).isRequired).isRequired]),\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string\n};\n\ntry {\n  EuiFieldSearch.__docgenInfo = {\n    description: '',\n    displayName: 'EuiFieldSearch',\n    methods: [],\n    props: {\n      name: {\n        defaultValue: null,\n        description: '',\n        name: 'name',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      id: {\n        defaultValue: null,\n        description: '',\n        name: 'id',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      placeholder: {\n        defaultValue: null,\n        description: '',\n        name: 'placeholder',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      value: {\n        defaultValue: null,\n        description: '',\n        name: 'value',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      isInvalid: {\n        defaultValue: null,\n        description: '',\n        name: 'isInvalid',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      fullWidth: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: '',\n        name: 'fullWidth',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      isLoading: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: '',\n        name: 'isLoading',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      onSearch: {\n        defaultValue: null,\n        description: 'Called when the user presses [Enter] OR on change if the incremental prop is `true`.\\n' + \"If you don't need the on[Enter] functionality, prefer using onChange\",\n        name: 'onSearch',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: '(value: string) => void'\n        }\n      },\n      incremental: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'When `true` the search will be executed (that is, the `onSearch` will be called) as the\\n' + 'user types.',\n        name: 'incremental',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      compressed: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'when `true` creates a shorter height input',\n        name: 'compressed',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      inputRef: {\n        defaultValue: null,\n        description: '',\n        name: 'inputRef',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: '(node: HTMLInputElement) => void'\n        }\n      },\n      isClearable: {\n        defaultValue: {\n          value: 'true'\n        },\n        description: 'Shows a button that quickly clears any input',\n        name: 'isClearable',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      prepend: {\n        defaultValue: null,\n        description: 'Creates an input group with element(s) coming before input\\n' + '`string` | `ReactElement` or an array of these',\n        name: 'prepend',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'PrependAppendType'\n        }\n      },\n      append: {\n        defaultValue: null,\n        description: 'Creates an input group with element(s) coming after input.\\n' + '`string` | `ReactElement` or an array of these',\n        name: 'append',\n        parent: {\n          fileName: 'eui/src/components/form/field_search/field_search.tsx',\n          name: 'EuiFieldSearchProps'\n        },\n        required: false,\n        type: {\n          name: 'PrependAppendType'\n        }\n      },\n      className: {\n        defaultValue: null,\n        description: '',\n        name: 'className',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'aria-label': {\n        defaultValue: null,\n        description: '',\n        name: 'aria-label',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'data-test-subj': {\n        defaultValue: null,\n        description: '',\n        name: 'data-test-subj',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      }\n    },\n    extendedInterfaces: ['EuiFieldSearchProps', 'CommonProps', 'InputHTMLAttributes', 'HTMLAttributes', 'AriaAttributes', 'DOMAttributes']\n  };\n} catch (e) {}"]}]}