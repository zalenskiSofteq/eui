{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\services\\paging\\pager.ts","dependencies":[{"path":"D:\\work\\eui\\src\\services\\paging\\pager.ts","mtime":1649070093835},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAnLi4vcHJlZGljYXRlJzsKZXhwb3J0IHZhciBQYWdlciA9IGZ1bmN0aW9uIFBhZ2VyKF90b3RhbEl0ZW1zLCBfaXRlbXNQZXJQYWdlKSB7CiAgdmFyIF90aGlzID0gdGhpczsKCiAgdmFyIGluaXRpYWxQYWdlSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7CgogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdlcik7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiY3VycmVudFBhZ2VJbmRleCIsIHZvaWQgMCk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZmlyc3RJdGVtSW5kZXgiLCB2b2lkIDApOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgIml0ZW1zUGVyUGFnZSIsIHZvaWQgMCk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAibGFzdEl0ZW1JbmRleCIsIHZvaWQgMCk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidG90YWxJdGVtcyIsIHZvaWQgMCk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidG90YWxQYWdlcyIsIHZvaWQgMCk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic2V0VG90YWxJdGVtcyIsIGZ1bmN0aW9uICh0b3RhbEl0ZW1zKSB7CiAgICBfdGhpcy50b3RhbEl0ZW1zID0gdG90YWxJdGVtczsKCiAgICBfdGhpcy51cGRhdGUoKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJzZXRJdGVtc1BlclBhZ2UiLCBmdW5jdGlvbiAoaXRlbXNQZXJQYWdlKSB7CiAgICBfdGhpcy5pdGVtc1BlclBhZ2UgPSBpdGVtc1BlclBhZ2U7CgogICAgX3RoaXMudXBkYXRlKCk7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaXNQYWdlYWJsZSIsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfdGhpcy5maXJzdEl0ZW1JbmRleCAhPT0gLTE7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ2V0VG90YWxQYWdlcyIsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfdGhpcy50b3RhbFBhZ2VzOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgImdldEN1cnJlbnRQYWdlSW5kZXgiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX3RoaXMuY3VycmVudFBhZ2VJbmRleDsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRGaXJzdEl0ZW1JbmRleCIsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfdGhpcy5maXJzdEl0ZW1JbmRleDsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnZXRMYXN0SXRlbUluZGV4IiwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIF90aGlzLmxhc3RJdGVtSW5kZXg7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiaGFzTmV4dFBhZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX3RoaXMuY3VycmVudFBhZ2VJbmRleCA8IF90aGlzLnRvdGFsUGFnZXMgLSAxOwogIH0pOwoKICBfZGVmaW5lUHJvcGVydHkodGhpcywgImhhc1ByZXZpb3VzUGFnZSIsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfdGhpcy5jdXJyZW50UGFnZUluZGV4ID4gMDsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnb1RvTmV4dFBhZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICBfdGhpcy5nb1RvUGFnZUluZGV4KF90aGlzLmN1cnJlbnRQYWdlSW5kZXggKyAxKTsKICB9KTsKCiAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJnb1RvUHJldmlvdXNQYWdlIiwgZnVuY3Rpb24gKCkgewogICAgX3RoaXMuZ29Ub1BhZ2VJbmRleChfdGhpcy5jdXJyZW50UGFnZUluZGV4IC0gMSk7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiZ29Ub1BhZ2VJbmRleCIsIGZ1bmN0aW9uIChwYWdlSW5kZXgpIHsKICAgIF90aGlzLmN1cnJlbnRQYWdlSW5kZXggPSBwYWdlSW5kZXg7CgogICAgX3RoaXMudXBkYXRlKCk7CiAgfSk7CgogIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAidXBkYXRlIiwgZnVuY3Rpb24gKCkgewogICAgaWYgKF90aGlzLnRvdGFsSXRlbXMgPD0gMCkgewogICAgICBfdGhpcy50b3RhbFBhZ2VzID0gMDsKICAgICAgX3RoaXMuY3VycmVudFBhZ2VJbmRleCA9IDA7CiAgICAgIF90aGlzLmZpcnN0SXRlbUluZGV4ID0gLTE7CiAgICAgIF90aGlzLmxhc3RJdGVtSW5kZXggPSAtMTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIF90aGlzLnRvdGFsUGFnZXMgPSBNYXRoLmNlaWwoX3RoaXMudG90YWxJdGVtcyAvIF90aGlzLml0ZW1zUGVyUGFnZSk7IC8vIEVuc3VyZSB0aGUgY3VycmVudCBwYWdlIGZhbGxzIHdpdGhpbiBvdXIgcmFuZ2Ugb2YgdG90YWwgcGFnZXMuCgogICAgX3RoaXMuY3VycmVudFBhZ2VJbmRleCA9IE1hdGgubWluKE1hdGgubWF4KDAsIF90aGlzLmN1cnJlbnRQYWdlSW5kZXgpLCBfdGhpcy50b3RhbFBhZ2VzIC0gMSk7IC8vIEZpbmQgdGhlIHJhbmdlIG9mIHZpc2libGUgaXRlbXMgb24gdGhlIGN1cnJlbnQgcGFnZS4KCiAgICBfdGhpcy5maXJzdEl0ZW1JbmRleCA9IF90aGlzLmN1cnJlbnRQYWdlSW5kZXggKiBfdGhpcy5pdGVtc1BlclBhZ2U7CiAgICBfdGhpcy5sYXN0SXRlbUluZGV4ID0gTWF0aC5taW4oX3RoaXMuZmlyc3RJdGVtSW5kZXggKyBfdGhpcy5pdGVtc1BlclBhZ2UsIF90aGlzLnRvdGFsSXRlbXMpIC0gMTsKICB9KTsKCiAgaWYgKCFpc051bWJlcihfdG90YWxJdGVtcykgfHwgaXNOYU4oX3RvdGFsSXRlbXMpKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGEgbnVtYmVyIG9mIHRvdGFsSXRlbXMnKTsKICB9CgogIGlmICghaXNOdW1iZXIoX2l0ZW1zUGVyUGFnZSkgfHwgaXNOYU4oX2l0ZW1zUGVyUGFnZSkpIHsKICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHByb3ZpZGUgYSBudW1iZXIgb2YgaXRlbXNQZXJQYWdlJyk7CiAgfQoKICBpZiAoIWlzTnVtYmVyKGluaXRpYWxQYWdlSW5kZXgpIHx8IGlzTmFOKGluaXRpYWxQYWdlSW5kZXgpKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGEgbnVtYmVyIG9mIGluaXRpYWxQYWdlSW5kZXgnKTsKICB9CgogIHRoaXMuY3VycmVudFBhZ2VJbmRleCA9IGluaXRpYWxQYWdlSW5kZXg7CiAgdGhpcy5maXJzdEl0ZW1JbmRleCA9IC0xOwogIHRoaXMuaXRlbXNQZXJQYWdlID0gX2l0ZW1zUGVyUGFnZTsKICB0aGlzLmxhc3RJdGVtSW5kZXggPSAtMTsKICB0aGlzLnRvdGFsSXRlbXMgPSBfdG90YWxJdGVtczsKICB0aGlzLnRvdGFsUGFnZXMgPSAwOwogIHRoaXMudXBkYXRlKCk7Cn07"},{"version":3,"sources":["D:/work/eui/src/services/paging/pager.ts"],"names":["isNumber","Pager","totalItems","itemsPerPage","initialPageIndex","update","firstItemIndex","totalPages","currentPageIndex","lastItemIndex","goToPageIndex","pageIndex","Math","ceil","min","max","isNaN","Error"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { isNumber } from '../predicate';\n\nexport class Pager {\n  currentPageIndex: number;\n  firstItemIndex: number;\n  itemsPerPage: number;\n  lastItemIndex: number;\n  totalItems: number;\n  totalPages: number;\n\n  constructor(\n    totalItems: number,\n    itemsPerPage: number,\n    initialPageIndex: number = 0\n  ) {\n    if (!isNumber(totalItems) || isNaN(totalItems)) {\n      throw new Error('Please provide a number of totalItems');\n    }\n\n    if (!isNumber(itemsPerPage) || isNaN(itemsPerPage)) {\n      throw new Error('Please provide a number of itemsPerPage');\n    }\n\n    if (!isNumber(initialPageIndex) || isNaN(initialPageIndex)) {\n      throw new Error('Please provide a number of initialPageIndex');\n    }\n\n    this.currentPageIndex = initialPageIndex;\n    this.firstItemIndex = -1;\n    this.itemsPerPage = itemsPerPage;\n    this.lastItemIndex = -1;\n    this.totalItems = totalItems;\n    this.totalPages = 0;\n\n    this.update();\n  }\n\n  setTotalItems = (totalItems: number) => {\n    this.totalItems = totalItems;\n    this.update();\n  };\n\n  setItemsPerPage = (itemsPerPage: number) => {\n    this.itemsPerPage = itemsPerPage;\n    this.update();\n  };\n\n  isPageable = () => this.firstItemIndex !== -1;\n\n  getTotalPages = () => this.totalPages;\n\n  getCurrentPageIndex = () => this.currentPageIndex;\n\n  getFirstItemIndex = () => this.firstItemIndex;\n\n  getLastItemIndex = () => this.lastItemIndex;\n\n  hasNextPage = () => this.currentPageIndex < this.totalPages - 1;\n\n  hasPreviousPage = () => this.currentPageIndex > 0;\n\n  goToNextPage = () => {\n    this.goToPageIndex(this.currentPageIndex + 1);\n  };\n\n  goToPreviousPage = () => {\n    this.goToPageIndex(this.currentPageIndex - 1);\n  };\n\n  goToPageIndex = (pageIndex: number) => {\n    this.currentPageIndex = pageIndex;\n    this.update();\n  };\n\n  update = () => {\n    if (this.totalItems <= 0) {\n      this.totalPages = 0;\n      this.currentPageIndex = 0;\n      this.firstItemIndex = -1;\n      this.lastItemIndex = -1;\n      return;\n    }\n\n    this.totalPages = Math.ceil(this.totalItems / this.itemsPerPage);\n\n    // Ensure the current page falls within our range of total pages.\n    this.currentPageIndex = Math.min(\n      Math.max(0, this.currentPageIndex),\n      this.totalPages - 1\n    );\n\n    // Find the range of visible items on the current page.\n    this.firstItemIndex = this.currentPageIndex * this.itemsPerPage;\n    this.lastItemIndex =\n      Math.min(this.firstItemIndex + this.itemsPerPage, this.totalItems) - 1;\n  };\n}\n"]}]}