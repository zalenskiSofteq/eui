{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\search_bar\\query\\query.ts","dependencies":[{"path":"D:\\work\\eui\\src\\components\\search_bar\\query\\query.ts","mtime":1649070093754},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgovKgogKiBMaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IKICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQKICogb3duZXJzaGlwLiBFbGFzdGljc2VhcmNoIEIuVi4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlcgogKiB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heQogKiBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KaW1wb3J0IHsgZGVmYXVsdFN5bnRheCB9IGZyb20gJy4vZGVmYXVsdF9zeW50YXgnOwppbXBvcnQgeyBleGVjdXRlQXN0IH0gZnJvbSAnLi9leGVjdXRlX2FzdCc7CmltcG9ydCB7IGlzTmlsLCBpc1N0cmluZyB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL3ByZWRpY2F0ZSc7CmltcG9ydCB7IGFzdFRvRXNRdWVyeURzbCB9IGZyb20gJy4vYXN0X3RvX2VzX3F1ZXJ5X2RzbCc7CmltcG9ydCB7IGFzdFRvRXNRdWVyeVN0cmluZyB9IGZyb20gJy4vYXN0X3RvX2VzX3F1ZXJ5X3N0cmluZyc7CmltcG9ydCB7IEFTVCwgT3BlcmF0b3IgfSBmcm9tICcuL2FzdCc7Ci8qKgogKiBUaGlzIGlzIHRoZSBjb25zdW1lciBpbnRlcmZhY2UgZm9yIHRoZSBxdWVyeSAtIGl0J3MgZWZmZWN0aXZlbHkgYSB3cmFwcGVyIGNvbnN0cnVjdCBhcm91bmQKICogdGhlIEFTVCBhbmQgc29tZSBvZiBpdHMgcmVsYXRlZCB1dGlsaXR5IGZ1bmN0aW9ucyAoZS5nLiBwYXJzaW5nLCB0ZXh0IHJlcHJlc2VudGF0aW9uLCBleGVjdXRpbmcsIGV0Yy4uLikKICogSXQgaXMgaW1tdXRhYmxlIC0gYWxsIG11dGF0aW5nIG9wZXJhdGlvbnMgcmV0dXJuIGEgbmV3IChtdXRhdGVkKSBxdWVyeSBpbnN0YW5jZS4KICovCgpleHBvcnQgdmFyIFF1ZXJ5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBfY3JlYXRlQ2xhc3MoUXVlcnksIG51bGwsIFt7CiAgICBrZXk6ICJwYXJzZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2UodGV4dCwgb3B0aW9ucykgewogICAgICB2YXIgc3ludGF4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBkZWZhdWx0U3ludGF4OwogICAgICByZXR1cm4gbmV3IFF1ZXJ5KHN5bnRheC5wYXJzZSh0ZXh0LCBvcHRpb25zKSwgc3ludGF4LCB0ZXh0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc011c3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzTXVzdChjbGF1c2UpIHsKICAgICAgcmV0dXJuIEFTVC5NYXRjaC5pc011c3RDbGF1c2UoY2xhdXNlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1Rlcm0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzVGVybShjbGF1c2UpIHsKICAgICAgcmV0dXJuIEFTVC5UZXJtLmlzSW5zdGFuY2UoY2xhdXNlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0lzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0lzKGNsYXVzZSkgewogICAgICByZXR1cm4gQVNULklzLmlzSW5zdGFuY2UoY2xhdXNlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0ZpZWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0ZpZWxkKGNsYXVzZSkgewogICAgICByZXR1cm4gQVNULkZpZWxkLmlzSW5zdGFuY2UoY2xhdXNlKTsKICAgIH0gLy8gVGhpcyBvdWdodCB0byBiZSBgcHJpdmF0ZWAsIGJ1dCBLaWJhbmEgaGFzIHNvbWUgY3VzdG9taXphdGlvbnMgdGhhdCByZWx5IG9uIGFjY2VzcyB0byB0aGlzIGZpZWxkCgogIH1dKTsKCiAgZnVuY3Rpb24gUXVlcnkoYXN0KSB7CiAgICB2YXIgc3ludGF4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0U3ludGF4OwogICAgdmFyIHRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVlcnkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiYXN0Iiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgInRleHQiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAic3ludGF4Iiwgdm9pZCAwKTsKCiAgICB0aGlzLmFzdCA9IGFzdDsKICAgIHRoaXMudGV4dCA9IHRleHQgfHwgc3ludGF4LnByaW50KGFzdCk7CiAgICB0aGlzLnN5bnRheCA9IHN5bnRheDsKICB9CgogIF9jcmVhdGVDbGFzcyhRdWVyeSwgW3sKICAgIGtleTogImhhc1NpbXBsZUZpZWxkQ2xhdXNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNTaW1wbGVGaWVsZENsYXVzZShmaWVsZCwgdmFsdWUpIHsKICAgICAgcmV0dXJuIHRoaXMuYXN0Lmhhc1NpbXBsZUZpZWxkQ2xhdXNlKGZpZWxkLCB2YWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U2ltcGxlRmllbGRDbGF1c2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNpbXBsZUZpZWxkQ2xhdXNlKGZpZWxkLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5hc3QuZ2V0U2ltcGxlRmllbGRDbGF1c2UoZmllbGQsIHZhbHVlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVTaW1wbGVGaWVsZENsYXVzZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVNpbXBsZUZpZWxkQ2xhdXNlcyhmaWVsZCkgewogICAgICB2YXIgYXN0ID0gdGhpcy5hc3QucmVtb3ZlU2ltcGxlRmllbGRDbGF1c2VzKGZpZWxkKTsKICAgICAgcmV0dXJuIG5ldyBRdWVyeShhc3QsIHRoaXMuc3ludGF4KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRTaW1wbGVGaWVsZFZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTaW1wbGVGaWVsZFZhbHVlKGZpZWxkLCB2YWx1ZSkgewogICAgICB2YXIgbXVzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICAgICAgdmFyIG9wZXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBPcGVyYXRvci5FUTsKICAgICAgdmFyIGFzdCA9IHRoaXMuYXN0LmFkZFNpbXBsZUZpZWxkVmFsdWUoZmllbGQsIHZhbHVlLCBtdXN0LCBvcGVyYXRvcik7CiAgICAgIHJldHVybiBuZXcgUXVlcnkoYXN0LCB0aGlzLnN5bnRheCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlU2ltcGxlRmllbGRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU2ltcGxlRmllbGRWYWx1ZShmaWVsZCwgdmFsdWUpIHsKICAgICAgdmFyIGFzdCA9IHRoaXMuYXN0LnJlbW92ZVNpbXBsZUZpZWxkVmFsdWUoZmllbGQsIHZhbHVlKTsKICAgICAgcmV0dXJuIG5ldyBRdWVyeShhc3QsIHRoaXMuc3ludGF4KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNPckZpZWxkQ2xhdXNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNPckZpZWxkQ2xhdXNlKGZpZWxkLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5hc3QuaGFzT3JGaWVsZENsYXVzZShmaWVsZCwgdmFsdWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldE9yRmllbGRDbGF1c2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9yRmllbGRDbGF1c2UoZmllbGQsIHZhbHVlKSB7CiAgICAgIHJldHVybiB0aGlzLmFzdC5nZXRPckZpZWxkQ2xhdXNlKGZpZWxkLCB2YWx1ZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkT3JGaWVsZFZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRPckZpZWxkVmFsdWUoZmllbGQsIHZhbHVlKSB7CiAgICAgIHZhciBtdXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0cnVlOwogICAgICB2YXIgb3BlcmF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IE9wZXJhdG9yLkVROwogICAgICB2YXIgYXN0ID0gdGhpcy5hc3QuYWRkT3JGaWVsZFZhbHVlKGZpZWxkLCB2YWx1ZSwgbXVzdCwgb3BlcmF0b3IpOwogICAgICByZXR1cm4gbmV3IFF1ZXJ5KGFzdCwgdGhpcy5zeW50YXgpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZU9yRmllbGRWYWx1ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlT3JGaWVsZFZhbHVlKGZpZWxkLCB2YWx1ZSkgewogICAgICB2YXIgYXN0ID0gdGhpcy5hc3QucmVtb3ZlT3JGaWVsZFZhbHVlKGZpZWxkLCB2YWx1ZSk7CiAgICAgIHJldHVybiBuZXcgUXVlcnkoYXN0LCB0aGlzLnN5bnRheCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlT3JGaWVsZENsYXVzZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU9yRmllbGRDbGF1c2VzKGZpZWxkKSB7CiAgICAgIHZhciBhc3QgPSB0aGlzLmFzdC5yZW1vdmVPckZpZWxkQ2xhdXNlcyhmaWVsZCk7CiAgICAgIHJldHVybiBuZXcgUXVlcnkoYXN0LCB0aGlzLnN5bnRheCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzSXNDbGF1c2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0lzQ2xhdXNlKGZsYWcpIHsKICAgICAgcmV0dXJuICFpc05pbCh0aGlzLmFzdC5nZXRJc0NsYXVzZShmbGFnKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0SXNDbGF1c2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldElzQ2xhdXNlKGZsYWcpIHsKICAgICAgcmV0dXJuIHRoaXMuYXN0LmdldElzQ2xhdXNlKGZsYWcpOwogICAgfQogIH0sIHsKICAgIGtleTogImFkZE11c3RJc0NsYXVzZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTXVzdElzQ2xhdXNlKGZsYWcpIHsKICAgICAgdmFyIGFzdCA9IHRoaXMuYXN0LmFkZENsYXVzZShBU1QuSXMubXVzdChmbGFnKSk7CiAgICAgIHJldHVybiBuZXcgUXVlcnkoYXN0LCB0aGlzLnN5bnRheCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkTXVzdE5vdElzQ2xhdXNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRNdXN0Tm90SXNDbGF1c2UoZmxhZykgewogICAgICB2YXIgYXN0ID0gdGhpcy5hc3QuYWRkQ2xhdXNlKEFTVC5Jcy5tdXN0Tm90KGZsYWcpKTsKICAgICAgcmV0dXJuIG5ldyBRdWVyeShhc3QsIHRoaXMuc3ludGF4KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW1vdmVJc0NsYXVzZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSXNDbGF1c2UoZmxhZykgewogICAgICB2YXIgYXN0ID0gdGhpcy5hc3QucmVtb3ZlSXNDbGF1c2UoZmxhZyk7CiAgICAgIHJldHVybiBuZXcgUXVlcnkoYXN0LCB0aGlzLnN5bnRheCk7CiAgICB9CiAgICAvKioKICAgICAqIEV4ZWN1dGVzIHRoaXMgcXVlcnkgb3ZlciB0aGUgZ2l2ZW4gaXRlcmFibGUgaXRlbSBhbmQgcmV0dXJucwogICAgICogYW4gbmV3IGFycmF5IG9mIGFsbCBpdGVtcyB0aGF0IG1hdGNoZWQgdGhpcyBxdWVyeS4gT3B0aW9uczoKICAgICAqCiAgICAgKiBkZWZhdWx0RmllbGRzOiBzdHJpbmdbXQogICAgICoKICAgICAqICAgIEFuIGFycmF5IG9mIGZpZWxkIG5hbWVzIHRvIG1hdGNoIHRoZSBkZWZhdWx0IGNsYXVzZXMgYWdhaW5zdC4gV2hlbiBub3Qgc3BlY2lmaWVkLCB0aGUgcXVlcnkKICAgICAqICAgIHdpbGwgcGljayB1cCBhbGwgdGhlIHN0cmluZyBmaWVsZHMgb2YgZWFjaCByZWNvcmQgYW5kIHRyeSB0byBtYXRjaCBhZ2FpbnN0IHRob3NlLgogICAgICoKICAgICAqIGlzQ2xhdXNlTWF0Y2hlcj86IChyZWNvcmQ6IGFueSwgZmxhZzogc3RyaW5nLCBhcHBsaWVkOiBib29sZWFuLCBleHBsYWluPzogW10pID0+IGJvb2xlYW4KICAgICAqCiAgICAgKiAgICBCeSBkZWZhdWx0IHRoZSAnaXMnIGNsYXVzZXMgd2lsbCB0cnkgdG8gbWF0Y2ggYWdhaW5zdCBib29sZWFuIGZpZWxkcyAtIHdoZXJlIHRoZSBmbGFnIG9mIHRoZSBjbGF1c2UKICAgICAqICAgIGluZGljYXRlcyB0aGUgZmllbGQgbmFtZS4gWW91IGNhbiBjaGFuZ2UgdGhpcyBiZWhhdmlvdXIgYnkgcHJvdmlkaW5nIHRoaXMgbWF0Y2hlciBmdW5jdGlvbiBmb3IgdGhlCiAgICAgKiAgICBpcyBjbGF1c2UuIEZvciBleGFtcGxlLCBpZiB0aGUgb2JqZWN0IGhhcyBhIGB0YWdzYCBmaWVsZCwgb25lIGNhbiBjcmVhdGUgYSBtYXRjaGVyIHRoYXQgY2hlY2tzIGlmCiAgICAgKiAgICBhbiBvYmplY3QgaGFzIGEgc3BlY2lmaWMgdGFnIChlLmcuICJpczptYXJrZXRpbmciLCAiaXM6a2l0Y2hlbiIsIGV0Yy4uKQogICAgICoKICAgICAqIGV4cGxhaW4/OiBib29sZWFuCiAgICAgKgogICAgICogICAgV2hlbiBzZXQgdG8gYHRydWVgLCBlYWNoIGl0ZW0gaW4gdGhlIHJldHVybnMgYXJyYXkgd2lsbCBoYXZlIGFuIGBfX2V4cGxhaW5gIGZpZWxkIHRoYXQgd2lsbCBob2xkCiAgICAgKiAgICBpbmZvcm1hdGlvbiBhYm91dCB3aHkgdGhlIG9iamVjdHMgbWF0Y2hlZCB0aGUgcXVlcnkgKGRlZmF1bHQgdG8gYGZhbHNlYCwgbWFpbmx5L29ubHkgdXNlZnVsIGZvcgogICAgICogICAgZGVidWdnaW5nKQogICAgICovCgogIH1dLCBbewogICAga2V5OiAiZXhlY3V0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZShxdWVyeSwgaXRlbXMpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogICAgICB2YXIgcSA9IGlzU3RyaW5nKHF1ZXJ5KSA/IFF1ZXJ5LnBhcnNlKHF1ZXJ5KSA6IHF1ZXJ5OwogICAgICByZXR1cm4gZXhlY3V0ZUFzdChxLmFzdCwgaXRlbXMsIG9wdGlvbnMpOwogICAgfQogICAgLyoqCiAgICAgKiBCdWlsZHMgYW5kIHJldHVybnMgYW4gRWxhc3RpY3NlYXJjaCBxdWVyeSBvdXQgdGhpcyBxdWVyeS4gT3B0aW9uczoKICAgICAqCiAgICAgKiBkZWZhdWx0RmllbGRzPzogc3RyaW5nW10KICAgICAqCiAgICAgKiAgICBBbiBhcnJheSBvZiBmaWVsZCBuYW1lcyB0byBtYXRjaCB0aGUgZGVmYXVsdCBjbGF1c2VzIGFnYWluc3QuIFdoZW4gbm90IHNwZWNpZmllZCwgdGhlIHF1ZXJ5CiAgICAgKiAgICB3aWxsIHBpY2sgdXAgYWxsIHRoZSBzdHJpbmcgZmllbGRzIG9mIGVhY2ggcmVjb3JkIGFuZCB0cnkgdG8gbWF0Y2ggYWdhaW5zdCB0aG9zZS4KICAgICAqCiAgICAgKiBpc1RvUXVlcnk/OiAoZmxhZzogc3RyaW5nLCBvbjogYm9vbGVhbikgPT4gT2JqZWN0IChlbGFzdGljc2VhcmNoIHF1ZXJ5IG9iamVjdCkKICAgICAqCiAgICAgKiAgICBCeSBkZWZhdWx0LCAiaXMiIGNsYXVzZXMgd2lsbCBiZSB0cmFuc2xhdGVkIHRvIGEgdGVybSBxdWVyeSB3aGVyZSB0aGUgZmxhZyBpcyB0aGUgZmllbGQKICAgICAqICAgIGFuZCB0aGUgIm9uIiB2YWx1ZSB3aWxsIGJlIHRoZSB2YWx1ZSBvZiB0aGUgZmllbGQuIFRoaXMgZnVuY3Rpb24gbGV0cyB5b3UgY2hhbmdlIHRoaXMgZGVmYXVsdAogICAgICogICAgdHJhbnNsYXRpb24gYW5kIHByb3ZpZGUgeW91ciBvd24gY3VzdG9tIG9uZS4KICAgICAqCiAgICAgKiB0ZXJtVmFsdWVzVG9RdWVyeT86ICh2YWx1ZXM6IHN0cmluZ1tdKSA9PiBPYmplY3QgKGVsYXN0aWNzZWFyY2ggcXVlcnkgb2JqZWN0KQogICAgICoKICAgICAqICAgIEJ5IGRlZmF1bHQsICJ0ZXJtIiBjbGF1c2VzIHdpbGwgYmUgdHJhbnNsYXRlZCB0byBhICJzaW1wbGVfcXVlcnlfc3RyaW5nIiBxdWVyeSB3aGVyZSBhbGwKICAgICAqICAgIHRoZSB2YWx1ZXMgc2VydmUgYXMgdGVybXMgaW4gdGhlIHF1ZXJ5IHN0cmluZy4gVGhpcyBmdW5jdGlvbiBsZXRzIHlvdSBjaGFuZ2UgdGhpcyBkZWZhdWx0CiAgICAgKiAgICB0cmFuc2xhdGlvbiBhbmQgcHJvdmlkZSB5b3VyIG93biBjdXN0b20gb25lLgogICAgICoKICAgICAqIGZpZWxkVmFsdWVzVG9BbmRRdWVyeT86IChmaWVsZDogc3RyaW5nLCB2YWx1ZXM6IHN0cmluZ1tdKSA9PiBPYmplY3QgKGVsYXN0aWNzZWFyY2ggcXVlcnkgb2JqZWN0KQogICAgICoKICAgICAqICAgIEJ5IGRlZmF1bHQsICJmaWVsZCIgY2xhdXNlcyB3aWxsIGJlIHRyYW5zbGF0ZWQgdG8gYSBtYXRjaCBxdWVyeSB3aGVyZSBhbGwgdGhlIHZhbHVlcyBzZXJ2ZSBhcwogICAgICogICAgdGVybXMgaW4gdGhlIHF1ZXJ5KHRoZSBvcGVyYXRvciBpcyBBTkQpLiBUaGlzIGZ1bmN0aW9uIGxldHMgeW91IGNoYW5nZSB0aGlzIGRlZmF1bHQgdHJhbnNsYXRpb24KICAgICAqICAgIGFuZCBwcm92aWRlIHlvdXIgb3duIGN1c3RvbSBvbmUuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9FU1F1ZXJ5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0VTUXVlcnkocXVlcnkpIHsKICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICB2YXIgcSA9IGlzU3RyaW5nKHF1ZXJ5KSA/IFF1ZXJ5LnBhcnNlKHF1ZXJ5KSA6IHF1ZXJ5OwogICAgICByZXR1cm4gYXN0VG9Fc1F1ZXJ5RHNsKHEuYXN0LCBvcHRpb25zKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0VTUXVlcnlTdHJpbmciLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvRVNRdWVyeVN0cmluZyhxdWVyeSkgewogICAgICB2YXIgcSA9IGlzU3RyaW5nKHF1ZXJ5KSA/IFF1ZXJ5LnBhcnNlKHF1ZXJ5KSA6IHF1ZXJ5OwogICAgICByZXR1cm4gYXN0VG9Fc1F1ZXJ5U3RyaW5nKHEuYXN0KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBRdWVyeTsKfSgpOwoKX2RlZmluZVByb3BlcnR5KFF1ZXJ5LCAiTUFUQ0hfQUxMIiwgUXVlcnkucGFyc2UoJycpKTsKCnRyeSB7CiAgUXVlcnkuX19kb2NnZW5JbmZvID0gewogICAgZGVzY3JpcHRpb246ICJUaGlzIGlzIHRoZSBjb25zdW1lciBpbnRlcmZhY2UgZm9yIHRoZSBxdWVyeSAtIGl0J3MgZWZmZWN0aXZlbHkgYSB3cmFwcGVyIGNvbnN0cnVjdCBhcm91bmRcbiIgKyAndGhlIEFTVCBhbmQgc29tZSBvZiBpdHMgcmVsYXRlZCB1dGlsaXR5IGZ1bmN0aW9ucyAoZS5nLiBwYXJzaW5nLCB0ZXh0IHJlcHJlc2VudGF0aW9uLCBleGVjdXRpbmcsIGV0Yy4uLilcbicgKyAnSXQgaXMgaW1tdXRhYmxlIC0gYWxsIG11dGF0aW5nIG9wZXJhdGlvbnMgcmV0dXJuIGEgbmV3IChtdXRhdGVkKSBxdWVyeSBpbnN0YW5jZS4nLAogICAgZGlzcGxheU5hbWU6ICdRdWVyeScsCiAgICBtZXRob2RzOiBbXSwKICAgIHByb3BzOiB7fSwKICAgIGV4dGVuZGVkSW50ZXJmYWNlczogW10KICB9Owp9IGNhdGNoIChlKSB7fQoKdHJ5IHsKICBRdWVyeS5NQVRDSF9BTEwuX19kb2NnZW5JbmZvID0gewogICAgZGVzY3JpcHRpb246ICJUaGlzIGlzIHRoZSBjb25zdW1lciBpbnRlcmZhY2UgZm9yIHRoZSBxdWVyeSAtIGl0J3MgZWZmZWN0aXZlbHkgYSB3cmFwcGVyIGNvbnN0cnVjdCBhcm91bmRcbiIgKyAndGhlIEFTVCBhbmQgc29tZSBvZiBpdHMgcmVsYXRlZCB1dGlsaXR5IGZ1bmN0aW9ucyAoZS5nLiBwYXJzaW5nLCB0ZXh0IHJlcHJlc2VudGF0aW9uLCBleGVjdXRpbmcsIGV0Yy4uLilcbicgKyAnSXQgaXMgaW1tdXRhYmxlIC0gYWxsIG11dGF0aW5nIG9wZXJhdGlvbnMgcmV0dXJuIGEgbmV3IChtdXRhdGVkKSBxdWVyeSBpbnN0YW5jZS4nLAogICAgZGlzcGxheU5hbWU6ICdRdWVyeS5NQVRDSF9BTEwnLAogICAgbWV0aG9kczogW10sCiAgICBwcm9wczoge30sCiAgICBleHRlbmRlZEludGVyZmFjZXM6IFtdCiAgfTsKfSBjYXRjaCAoZSkge30="},{"version":3,"sources":["D:/work/eui/src/components/search_bar/query/query.ts"],"names":["defaultSyntax","executeAst","isNil","isString","astToEsQueryDsl","astToEsQueryString","AST","Operator","Query","text","options","syntax","parse","clause","Match","isMustClause","Term","isInstance","Is","Field","ast","print","field","value","hasSimpleFieldClause","getSimpleFieldClause","removeSimpleFieldClauses","must","operator","EQ","addSimpleFieldValue","removeSimpleFieldValue","hasOrFieldClause","getOrFieldClause","addOrFieldValue","removeOrFieldValue","removeOrFieldClauses","flag","getIsClause","addClause","mustNot","removeIsClause","query","items","q"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,aAAT,QAAoD,kBAApD;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,6BAAhC;AACA,SAASC,eAAT,QAAgC,uBAAhC;AACA,SAASC,kBAAT,QAAmC,0BAAnC;AACA,SAAeC,GAAf,EAA4BC,QAA5B,QAAiE,OAAjE;AAEA;AACA;AACA;AACA;AACA;;AACA,WAAaC,KAAb;AAAA;AAAA;AAAA,0BAEIC,IAFJ,EAGIC,OAHJ,EAKI;AAAA,UADAC,MACA,uEADiBX,aACjB;AACA,aAAO,IAAIQ,KAAJ,CAAUG,MAAM,CAACC,KAAP,CAAaH,IAAb,EAAmBC,OAAnB,CAAV,EAAuCC,MAAvC,EAA+CF,IAA/C,CAAP;AACD;AAPH;AAAA;AAAA,2BASgBI,MAThB,EASgC;AAC5B,aAAOP,GAAG,CAACQ,KAAJ,CAAUC,YAAV,CAAuBF,MAAvB,CAAP;AACD;AAXH;AAAA;AAAA,2BAegBA,MAfhB,EAegC;AAC5B,aAAOP,GAAG,CAACU,IAAJ,CAASC,UAAT,CAAoBJ,MAApB,CAAP;AACD;AAjBH;AAAA;AAAA,yBAmBcA,MAnBd,EAmB8B;AAC1B,aAAOP,GAAG,CAACY,EAAJ,CAAOD,UAAP,CAAkBJ,MAAlB,CAAP;AACD;AArBH;AAAA;AAAA,4BAuBiBA,MAvBjB,EAuBiC;AAC7B,aAAOP,GAAG,CAACa,KAAJ,CAAUF,UAAV,CAAqBJ,MAArB,CAAP;AACD,KAzBH,CA2BE;;AA3BF;;AAgCE,iBAAYO,GAAZ,EAAsE;AAAA,QAA/CT,MAA+C,uEAA9BX,aAA8B;AAAA,QAAfS,IAAe;;AAAA;;AAAA;;AAAA;;AAAA;;AACpE,SAAKW,GAAL,GAAWA,GAAX;AACA,SAAKX,IAAL,GAAYA,IAAI,IAAIE,MAAM,CAACU,KAAP,CAAaD,GAAb,CAApB;AACA,SAAKT,MAAL,GAAcA,MAAd;AACD;;AApCH;AAAA;AAAA,yCAsCuBW,KAtCvB,EAsCsCC,KAtCtC,EAsCsD;AAClD,aAAO,KAAKH,GAAL,CAASI,oBAAT,CAA8BF,KAA9B,EAAqCC,KAArC,CAAP;AACD;AAxCH;AAAA;AAAA,yCA0CuBD,KA1CvB,EA0CsCC,KA1CtC,EA0CqD;AACjD,aAAO,KAAKH,GAAL,CAASK,oBAAT,CAA8BH,KAA9B,EAAqCC,KAArC,CAAP;AACD;AA5CH;AAAA;AAAA,6CA8C2BD,KA9C3B,EA8C0C;AACtC,UAAMF,GAAG,GAAG,KAAKA,GAAL,CAASM,wBAAT,CAAkCJ,KAAlC,CAAZ;AACA,aAAO,IAAId,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AAjDH;AAAA;AAAA,wCAoDIW,KApDJ,EAqDIC,KArDJ,EAwDI;AAAA,UAFAI,IAEA,uEAFO,IAEP;AAAA,UADAC,QACA,uEADyBrB,QAAQ,CAACsB,EAClC;AACA,UAAMT,GAAG,GAAG,KAAKA,GAAL,CAASU,mBAAT,CAA6BR,KAA7B,EAAoCC,KAApC,EAA2CI,IAA3C,EAAiDC,QAAjD,CAAZ;AACA,aAAO,IAAIpB,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AA3DH;AAAA;AAAA,2CA6DyBW,KA7DzB,EA6DwCC,KA7DxC,EA6DsD;AAClD,UAAMH,GAAG,GAAG,KAAKA,GAAL,CAASW,sBAAT,CAAgCT,KAAhC,EAAuCC,KAAvC,CAAZ;AACA,aAAO,IAAIf,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AAhEH;AAAA;AAAA,qCAkEmBW,KAlEnB,EAkEkCC,KAlElC,EAkEiD;AAC7C,aAAO,KAAKH,GAAL,CAASY,gBAAT,CAA0BV,KAA1B,EAAiCC,KAAjC,CAAP;AACD;AApEH;AAAA;AAAA,qCAsEmBD,KAtEnB,EAsEkCC,KAtElC,EAsEiD;AAC7C,aAAO,KAAKH,GAAL,CAASa,gBAAT,CAA0BX,KAA1B,EAAiCC,KAAjC,CAAP;AACD;AAxEH;AAAA;AAAA,oCA2EID,KA3EJ,EA4EIC,KA5EJ,EA+EI;AAAA,UAFAI,IAEA,uEAFO,IAEP;AAAA,UADAC,QACA,uEADyBrB,QAAQ,CAACsB,EAClC;AACA,UAAMT,GAAG,GAAG,KAAKA,GAAL,CAASc,eAAT,CAAyBZ,KAAzB,EAAgCC,KAAhC,EAAuCI,IAAvC,EAA6CC,QAA7C,CAAZ;AACA,aAAO,IAAIpB,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AAlFH;AAAA;AAAA,uCAoFqBW,KApFrB,EAoFoCC,KApFpC,EAoFkD;AAC9C,UAAMH,GAAG,GAAG,KAAKA,GAAL,CAASe,kBAAT,CAA4Bb,KAA5B,EAAmCC,KAAnC,CAAZ;AACA,aAAO,IAAIf,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AAvFH;AAAA;AAAA,yCAyFuBW,KAzFvB,EAyFsC;AAClC,UAAMF,GAAG,GAAG,KAAKA,GAAL,CAASgB,oBAAT,CAA8Bd,KAA9B,CAAZ;AACA,aAAO,IAAId,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AA5FH;AAAA;AAAA,gCA8Fc0B,IA9Fd,EA8F4B;AACxB,aAAO,CAACnC,KAAK,CAAC,KAAKkB,GAAL,CAASkB,WAAT,CAAqBD,IAArB,CAAD,CAAb;AACD;AAhGH;AAAA;AAAA,gCAkGcA,IAlGd,EAkG4B;AACxB,aAAO,KAAKjB,GAAL,CAASkB,WAAT,CAAqBD,IAArB,CAAP;AACD;AApGH;AAAA;AAAA,oCAsGkBA,IAtGlB,EAsGgC;AAC5B,UAAMjB,GAAG,GAAG,KAAKA,GAAL,CAASmB,SAAT,CAAmBjC,GAAG,CAACY,EAAJ,CAAOS,IAAP,CAAYU,IAAZ,CAAnB,CAAZ;AACA,aAAO,IAAI7B,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AAzGH;AAAA;AAAA,uCA2GqB0B,IA3GrB,EA2GmC;AAC/B,UAAMjB,GAAG,GAAG,KAAKA,GAAL,CAASmB,SAAT,CAAmBjC,GAAG,CAACY,EAAJ,CAAOsB,OAAP,CAAeH,IAAf,CAAnB,CAAZ;AACA,aAAO,IAAI7B,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AA9GH;AAAA;AAAA,mCAgHiB0B,IAhHjB,EAgH+B;AAC3B,UAAMjB,GAAG,GAAG,KAAKA,GAAL,CAASqB,cAAT,CAAwBJ,IAAxB,CAAZ;AACA,aAAO,IAAI7B,KAAJ,CAAUY,GAAV,EAAe,KAAKT,MAApB,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA1IA;AAAA;AAAA,4BA2IoB+B,KA3IpB,EA2I2CC,KA3I3C,EA2I0E;AAAA,UAAnBjC,OAAmB,uEAAT,EAAS;AACtE,UAAMkC,CAAC,GAAGzC,QAAQ,CAACuC,KAAD,CAAR,GAAkBlC,KAAK,CAACI,KAAN,CAAY8B,KAAZ,CAAlB,GAAuCA,KAAjD;AACA,aAAOzC,UAAU,CAAC2C,CAAC,CAACxB,GAAH,EAAQuB,KAAR,EAAejC,OAAf,CAAjB;AACD;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAzKA;AAAA;AAAA,8BA0KmBgC,KA1KnB,EA0KwD;AAAA,UAAdhC,OAAc,uEAAJ,EAAI;AACpD,UAAMkC,CAAC,GAAGzC,QAAQ,CAACuC,KAAD,CAAR,GAAkBlC,KAAK,CAACI,KAAN,CAAY8B,KAAZ,CAAlB,GAAuCA,KAAjD;AACA,aAAOtC,eAAe,CAACwC,CAAC,CAACxB,GAAH,EAAQV,OAAR,CAAtB;AACD;AA7KH;AAAA;AAAA,oCA+KyBgC,KA/KzB,EA+KgD;AAC5C,UAAME,CAAC,GAAGzC,QAAQ,CAACuC,KAAD,CAAR,GAAkBlC,KAAK,CAACI,KAAN,CAAY8B,KAAZ,CAAlB,GAAuCA,KAAjD;AACA,aAAOrC,kBAAkB,CAACuC,CAAC,CAACxB,GAAH,CAAzB;AACD;AAlLH;;AAAA;AAAA;;gBAAaZ,K,eAaQA,KAAK,CAACI,KAAN,CAAY,EAAZ,C","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { defaultSyntax, ParseOptions, Syntax } from './default_syntax';\nimport { executeAst } from './execute_ast';\nimport { isNil, isString } from '../../../services/predicate';\nimport { astToEsQueryDsl } from './ast_to_es_query_dsl';\nimport { astToEsQueryString } from './ast_to_es_query_string';\nimport { _AST, AST, Clause, Operator, OperatorType, Value } from './ast';\n\n/**\n * This is the consumer interface for the query - it's effectively a wrapper construct around\n * the AST and some of its related utility functions (e.g. parsing, text representation, executing, etc...)\n * It is immutable - all mutating operations return a new (mutated) query instance.\n */\nexport class Query {\n  static parse(\n    text: string,\n    options?: ParseOptions,\n    syntax: Syntax = defaultSyntax\n  ) {\n    return new Query(syntax.parse(text, options), syntax, text);\n  }\n\n  static isMust(clause: Clause) {\n    return AST.Match.isMustClause(clause);\n  }\n\n  static MATCH_ALL = Query.parse('');\n\n  static isTerm(clause: Clause) {\n    return AST.Term.isInstance(clause);\n  }\n\n  static isIs(clause: Clause) {\n    return AST.Is.isInstance(clause);\n  }\n\n  static isField(clause: Clause) {\n    return AST.Field.isInstance(clause);\n  }\n\n  // This ought to be `private`, but Kibana has some customizations that rely on access to this field\n  public ast: _AST;\n  public text: string;\n  private syntax: Syntax;\n\n  constructor(ast: _AST, syntax: Syntax = defaultSyntax, text?: string) {\n    this.ast = ast;\n    this.text = text || syntax.print(ast);\n    this.syntax = syntax;\n  }\n\n  hasSimpleFieldClause(field: string, value?: string) {\n    return this.ast.hasSimpleFieldClause(field, value);\n  }\n\n  getSimpleFieldClause(field: string, value?: Value) {\n    return this.ast.getSimpleFieldClause(field, value);\n  }\n\n  removeSimpleFieldClauses(field: string) {\n    const ast = this.ast.removeSimpleFieldClauses(field);\n    return new Query(ast, this.syntax);\n  }\n\n  addSimpleFieldValue(\n    field: string,\n    value: Value,\n    must = true,\n    operator: OperatorType = Operator.EQ\n  ) {\n    const ast = this.ast.addSimpleFieldValue(field, value, must, operator);\n    return new Query(ast, this.syntax);\n  }\n\n  removeSimpleFieldValue(field: string, value: Value) {\n    const ast = this.ast.removeSimpleFieldValue(field, value);\n    return new Query(ast, this.syntax);\n  }\n\n  hasOrFieldClause(field: string, value?: Value) {\n    return this.ast.hasOrFieldClause(field, value);\n  }\n\n  getOrFieldClause(field: string, value?: Value) {\n    return this.ast.getOrFieldClause(field, value);\n  }\n\n  addOrFieldValue(\n    field: string,\n    value: Value,\n    must = true,\n    operator: OperatorType = Operator.EQ\n  ) {\n    const ast = this.ast.addOrFieldValue(field, value, must, operator);\n    return new Query(ast, this.syntax);\n  }\n\n  removeOrFieldValue(field: string, value: Value) {\n    const ast = this.ast.removeOrFieldValue(field, value);\n    return new Query(ast, this.syntax);\n  }\n\n  removeOrFieldClauses(field: string) {\n    const ast = this.ast.removeOrFieldClauses(field);\n    return new Query(ast, this.syntax);\n  }\n\n  hasIsClause(flag: string) {\n    return !isNil(this.ast.getIsClause(flag));\n  }\n\n  getIsClause(flag: string) {\n    return this.ast.getIsClause(flag);\n  }\n\n  addMustIsClause(flag: string) {\n    const ast = this.ast.addClause(AST.Is.must(flag));\n    return new Query(ast, this.syntax);\n  }\n\n  addMustNotIsClause(flag: string) {\n    const ast = this.ast.addClause(AST.Is.mustNot(flag));\n    return new Query(ast, this.syntax);\n  }\n\n  removeIsClause(flag: string) {\n    const ast = this.ast.removeIsClause(flag);\n    return new Query(ast, this.syntax);\n  }\n\n  /**\n   * Executes this query over the given iterable item and returns\n   * an new array of all items that matched this query. Options:\n   *\n   * defaultFields: string[]\n   *\n   *    An array of field names to match the default clauses against. When not specified, the query\n   *    will pick up all the string fields of each record and try to match against those.\n   *\n   * isClauseMatcher?: (record: any, flag: string, applied: boolean, explain?: []) => boolean\n   *\n   *    By default the 'is' clauses will try to match against boolean fields - where the flag of the clause\n   *    indicates the field name. You can change this behaviour by providing this matcher function for the\n   *    is clause. For example, if the object has a `tags` field, one can create a matcher that checks if\n   *    an object has a specific tag (e.g. \"is:marketing\", \"is:kitchen\", etc..)\n   *\n   * explain?: boolean\n   *\n   *    When set to `true`, each item in the returns array will have an `__explain` field that will hold\n   *    information about why the objects matched the query (default to `false`, mainly/only useful for\n   *    debugging)\n   */\n  static execute<T>(query: string | Query, items: T[], options = {}): T[] {\n    const q = isString(query) ? Query.parse(query) : query;\n    return executeAst(q.ast, items, options);\n  }\n\n  /**\n   * Builds and returns an Elasticsearch query out this query. Options:\n   *\n   * defaultFields?: string[]\n   *\n   *    An array of field names to match the default clauses against. When not specified, the query\n   *    will pick up all the string fields of each record and try to match against those.\n   *\n   * isToQuery?: (flag: string, on: boolean) => Object (elasticsearch query object)\n   *\n   *    By default, \"is\" clauses will be translated to a term query where the flag is the field\n   *    and the \"on\" value will be the value of the field. This function lets you change this default\n   *    translation and provide your own custom one.\n   *\n   * termValuesToQuery?: (values: string[]) => Object (elasticsearch query object)\n   *\n   *    By default, \"term\" clauses will be translated to a \"simple_query_string\" query where all\n   *    the values serve as terms in the query string. This function lets you change this default\n   *    translation and provide your own custom one.\n   *\n   * fieldValuesToAndQuery?: (field: string, values: string[]) => Object (elasticsearch query object)\n   *\n   *    By default, \"field\" clauses will be translated to a match query where all the values serve as\n   *    terms in the query(the operator is AND). This function lets you change this default translation\n   *    and provide your own custom one.\n   */\n  static toESQuery(query: string | Query, options = {}) {\n    const q = isString(query) ? Query.parse(query) : query;\n    return astToEsQueryDsl(q.ast, options);\n  }\n\n  static toESQueryString(query: string | Query) {\n    const q = isString(query) ? Query.parse(query) : query;\n    return astToEsQueryString(q.ast);\n  }\n}\n"]}]}