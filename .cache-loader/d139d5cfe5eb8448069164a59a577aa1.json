{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\datagrid\\column_selector.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\datagrid\\column_selector.tsx","mtime":1649070093360},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCwgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJzsKaW1wb3J0IHsgRXVpUG9wb3ZlciwgRXVpUG9wb3ZlckZvb3RlciwgRXVpUG9wb3ZlclRpdGxlIH0gZnJvbSAnLi4vcG9wb3Zlcic7CmltcG9ydCB7IEV1aUkxOG4gfSBmcm9tICcuLi9pMThuJzsKaW1wb3J0IHsgRXVpQnV0dG9uRW1wdHkgfSBmcm9tICcuLi9idXR0b24nOwppbXBvcnQgeyBFdWlGbGV4R3JvdXAsIEV1aUZsZXhJdGVtIH0gZnJvbSAnLi4vZmxleCc7CmltcG9ydCB7IEV1aVN3aXRjaCwgRXVpRmllbGRUZXh0IH0gZnJvbSAnLi4vZm9ybSc7CmltcG9ydCB7IEV1aURyYWdEcm9wQ29udGV4dCwgRXVpRHJhZ2dhYmxlLCBFdWlEcm9wcGFibGUsIGV1aURyYWdEcm9wUmVvcmRlciB9IGZyb20gJy4uL2RyYWdfYW5kX2Ryb3AnOwppbXBvcnQgeyBFdWlJY29uIH0gZnJvbSAnLi4vaWNvbic7CmltcG9ydCB7IHVzZURlcGVuZGVudFN0YXRlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMnOwoKdmFyIGdldFNob3dDb2x1bW5TZWxlY3RvclZhbHVlID0gZnVuY3Rpb24gZ2V0U2hvd0NvbHVtblNlbGVjdG9yVmFsdWUoc2hvd0NvbHVtblNlbGVjdG9yLCB2YWx1ZU5hbWUpIHsKICBpZiAoc2hvd0NvbHVtblNlbGVjdG9yID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwogIGlmIChzaG93Q29sdW1uU2VsZWN0b3IgPT0gbnVsbCkgcmV0dXJuIHRydWU7CiAgaWYgKHNob3dDb2x1bW5TZWxlY3RvciA9PT0gdHJ1ZSkgcmV0dXJuIHRydWU7CiAgcmV0dXJuIHNob3dDb2x1bW5TZWxlY3Rvclt2YWx1ZU5hbWVdICE9PSBmYWxzZTsKfTsKCmV4cG9ydCB2YXIgdXNlRGF0YUdyaWRDb2x1bW5TZWxlY3RvciA9IGZ1bmN0aW9uIHVzZURhdGFHcmlkQ29sdW1uU2VsZWN0b3IoYXZhaWxhYmxlQ29sdW1ucywgY29sdW1uVmlzaWJpbGl0eSwgc2hvd0NvbHVtblNlbGVjdG9yLCBkaXNwbGF5VmFsdWVzKSB7CiAgdmFyIGFsbG93Q29sdW1uSGlkaW5nID0gZ2V0U2hvd0NvbHVtblNlbGVjdG9yVmFsdWUoc2hvd0NvbHVtblNlbGVjdG9yLCAnYWxsb3dIaWRlJyk7CiAgdmFyIGFsbG93Q29sdW1uUmVvcmRlciA9IGdldFNob3dDb2x1bW5TZWxlY3RvclZhbHVlKHNob3dDb2x1bW5TZWxlY3RvciwgJ2FsbG93UmVvcmRlcicpOwoKICB2YXIgX3VzZURlcGVuZGVudFN0YXRlID0gdXNlRGVwZW5kZW50U3RhdGUoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGF2YWlsYWJsZUNvbHVtbnMubWFwKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBpZCA9IF9yZWYuaWQ7CiAgICAgIHJldHVybiBpZDsKICAgIH0pOwogIH0sIFthdmFpbGFibGVDb2x1bW5zXSksCiAgICAgIF91c2VEZXBlbmRlbnRTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlRGVwZW5kZW50U3RhdGUsIDIpLAogICAgICBzb3J0ZWRDb2x1bW5zID0gX3VzZURlcGVuZGVudFN0YXRlMlswXSwKICAgICAgc2V0U29ydGVkQ29sdW1ucyA9IF91c2VEZXBlbmRlbnRTdGF0ZTJbMV07CgogIHZhciB2aXNpYmxlQ29sdW1ucyA9IGNvbHVtblZpc2liaWxpdHkudmlzaWJsZUNvbHVtbnMsCiAgICAgIHNldFZpc2libGVDb2x1bW5zID0gY29sdW1uVmlzaWJpbGl0eS5zZXRWaXNpYmxlQ29sdW1uczsKICB2YXIgdmlzaWJsZUNvbHVtbklkcyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBTZXQodmlzaWJsZUNvbHVtbnMpOwogIH0sIFt2aXNpYmxlQ29sdW1uc10pOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgaXNPcGVuID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0SXNPcGVuID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIHNldENvbHVtbnMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobmV4dENvbHVtbnMpIHsKICAgIHNldFNvcnRlZENvbHVtbnMobmV4dENvbHVtbnMpOwogICAgdmFyIG5leHRWaXNpYmxlQ29sdW1ucyA9IG5leHRDb2x1bW5zLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsKICAgICAgcmV0dXJuIHZpc2libGVDb2x1bW5JZHMuaGFzKGlkKTsKICAgIH0pOwogICAgc2V0VmlzaWJsZUNvbHVtbnMobmV4dFZpc2libGVDb2x1bW5zKTsKICB9LCBbc2V0U29ydGVkQ29sdW1ucywgc2V0VmlzaWJsZUNvbHVtbnMsIHZpc2libGVDb2x1bW5JZHNdKTsKCiAgZnVuY3Rpb24gb25EcmFnRW5kKF9yZWYyKSB7CiAgICB2YXIgc291cmNlSW5kZXggPSBfcmVmMi5zb3VyY2UuaW5kZXgsCiAgICAgICAgZGVzdGluYXRpb24gPSBfcmVmMi5kZXN0aW5hdGlvbjsKICAgIHZhciBkZXN0aW5hdGlvbkluZGV4ID0gZGVzdGluYXRpb24uaW5kZXg7CiAgICB2YXIgbmV4dFNvcnRlZENvbHVtbnMgPSBldWlEcmFnRHJvcFJlb3JkZXIoc29ydGVkQ29sdW1ucywgc291cmNlSW5kZXgsIGRlc3RpbmF0aW9uSW5kZXgpOwogICAgc2V0Q29sdW1ucyhuZXh0U29ydGVkQ29sdW1ucyk7CiAgfQoKICB2YXIgbnVtYmVyT2ZIaWRkZW5GaWVsZHMgPSBhdmFpbGFibGVDb2x1bW5zLmxlbmd0aCAtIHZpc2libGVDb2x1bW5zLmxlbmd0aDsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgnJyksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgY29sdW1uU2VhcmNoVGV4dCA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldENvbHVtblNlYXJjaFRleHQgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgY29udHJvbEJ0bkNsYXNzZXMgPSBjbGFzc05hbWVzKCdldWlEYXRhR3JpZF9fY29udHJvbEJ0bicsIHsKICAgICdldWlEYXRhR3JpZF9fY29udHJvbEJ0bi0tYWN0aXZlJzogbnVtYmVyT2ZIaWRkZW5GaWVsZHMgPiAwCiAgfSk7CiAgdmFyIGZpbHRlcmVkQ29sdW1ucyA9IHNvcnRlZENvbHVtbnMuZmlsdGVyKGZ1bmN0aW9uIChpZCkgewogICAgcmV0dXJuIChkaXNwbGF5VmFsdWVzW2lkXSB8fCBpZCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGNvbHVtblNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSkgIT09IC0xOwogIH0pOwogIHZhciBpc0RyYWdFbmFibGVkID0gYWxsb3dDb2x1bW5SZW9yZGVyICYmIGNvbHVtblNlYXJjaFRleHQubGVuZ3RoID09PSAwOyAvLyBvbmx5IGFsbG93IGRyYWctYW5kLWRyb3Agd2hlbiBub3QgZmlsdGVyaW5nIGNvbHVtbnMKCiAgdmFyIGJ1dHRvblRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICB0b2tlbjogImV1aUNvbHVtblNlbGVjdG9yLmJ1dHRvbiIsCiAgICBkZWZhdWx0OiAiQ29sdW1ucyIKICB9KTsKCiAgaWYgKG51bWJlck9mSGlkZGVuRmllbGRzID09PSAxKSB7CiAgICBidXR0b25UZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgICB0b2tlbjogImV1aUNvbHVtblNlbGVjdG9yLmJ1dHRvbkFjdGl2ZVNpbmd1bGFyIiwKICAgICAgZGVmYXVsdDogIntudW1iZXJPZkhpZGRlbkZpZWxkc30gY29sdW1uIGhpZGRlbiIsCiAgICAgIHZhbHVlczogewogICAgICAgIG51bWJlck9mSGlkZGVuRmllbGRzOiBudW1iZXJPZkhpZGRlbkZpZWxkcwogICAgICB9CiAgICB9KTsKICB9IGVsc2UgaWYgKG51bWJlck9mSGlkZGVuRmllbGRzID4gMSkgewogICAgYnV0dG9uVGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgdG9rZW46ICJldWlDb2x1bW5TZWxlY3Rvci5idXR0b25BY3RpdmVQbHVyYWwiLAogICAgICBkZWZhdWx0OiAie251bWJlck9mSGlkZGVuRmllbGRzfSBjb2x1bW5zIGhpZGRlbiIsCiAgICAgIHZhbHVlczogewogICAgICAgIG51bWJlck9mSGlkZGVuRmllbGRzOiBudW1iZXJPZkhpZGRlbkZpZWxkcwogICAgICB9CiAgICB9KTsKICB9CgogIHZhciBjb2x1bW5TZWxlY3RvciA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVBvcG92ZXIsIHsKICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJkYXRhR3JpZENvbHVtblNlbGVjdG9yUG9wb3ZlciIsCiAgICBpc09wZW46IGlzT3BlbiwKICAgIGNsb3NlUG9wb3ZlcjogZnVuY3Rpb24gY2xvc2VQb3BvdmVyKCkgewogICAgICByZXR1cm4gc2V0SXNPcGVuKGZhbHNlKTsKICAgIH0sCiAgICBhbmNob3JQb3NpdGlvbjogImRvd25MZWZ0IiwKICAgIHBhbmVsUGFkZGluZ1NpemU6ICJzIiwKICAgIHBhbmVsQ2xhc3NOYW1lOiAiZXVpRGF0YUdyaWRDb2x1bW5TZWxlY3RvclBvcG92ZXIiLAogICAgYnV0dG9uOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlCdXR0b25FbXB0eSwgewogICAgICBzaXplOiAieHMiLAogICAgICBpY29uVHlwZTogYWxsb3dDb2x1bW5IaWRpbmcgPyAnbGlzdEFkZCcgOiAnbGlzdCcsCiAgICAgIGNvbG9yOiAidGV4dCIsCiAgICAgIGNsYXNzTmFtZTogY29udHJvbEJ0bkNsYXNzZXMsCiAgICAgICJkYXRhLXRlc3Qtc3ViaiI6ICJkYXRhR3JpZENvbHVtblNlbGVjdG9yQnV0dG9uIiwKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICByZXR1cm4gc2V0SXNPcGVuKCFpc09wZW4pOwogICAgICB9CiAgICB9LCBidXR0b25UZXh0KQogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBhbGxvd0NvbHVtbkhpZGluZyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlQb3BvdmVyVGl0bGUsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgIHRva2VuczogWydldWlDb2x1bW5TZWxlY3Rvci5zZWFyY2gnLCAnZXVpQ29sdW1uU2VsZWN0b3Iuc2VhcmNoY29sdW1ucyddLAogICAgZGVmYXVsdHM6IFsnU2VhcmNoJywgJ1NlYXJjaCBjb2x1bW5zJ10KICB9LCBmdW5jdGlvbiAoX3JlZjMpIHsKICAgIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAyKSwKICAgICAgICBzZWFyY2ggPSBfcmVmNFswXSwKICAgICAgICBzZWFyY2hjb2x1bW5zID0gX3JlZjRbMV07CgogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZpZWxkVGV4dCwgewogICAgICBjb21wcmVzc2VkOiB0cnVlLAogICAgICBwbGFjZWhvbGRlcjogc2VhcmNoLAogICAgICAiYXJpYS1sYWJlbCI6IHNlYXJjaGNvbHVtbnMsCiAgICAgIHZhbHVlOiBjb2x1bW5TZWFyY2hUZXh0LAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHJldHVybiBzZXRDb2x1bW5TZWFyY2hUZXh0KGUuY3VycmVudFRhcmdldC52YWx1ZSk7CiAgICAgIH0KICAgIH0pOwogIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIGNsYXNzTmFtZTogImV1aURhdGFHcmlkX19jb250cm9sU2Nyb2xsIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aURyYWdEcm9wQ29udGV4dCwgewogICAgb25EcmFnRW5kOiBvbkRyYWdFbmQKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlEcm9wcGFibGUsIHsKICAgIGRyb3BwYWJsZUlkOiAiY29sdW1uT3JkZXIiLAogICAgaXNEcm9wRGlzYWJsZWQ6ICFpc0RyYWdFbmFibGVkCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQsIG51bGwsIGZpbHRlcmVkQ29sdW1ucy5tYXAoZnVuY3Rpb24gKGlkLCBpbmRleCkgewogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aURyYWdnYWJsZSwgewogICAgICBrZXk6IGlkLAogICAgICBkcmFnZ2FibGVJZDogaWQsCiAgICAgIGluZGV4OiBpbmRleCwKICAgICAgaXNEcmFnRGlzYWJsZWQ6ICFpc0RyYWdFbmFibGVkCiAgICB9LCBmdW5jdGlvbiAocHJvdmlkZWQsIHN0YXRlKSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogImV1aURhdGFHcmlkQ29sdW1uU2VsZWN0b3JfX2l0ZW0gIi5jb25jYXQoc3RhdGUuaXNEcmFnZ2luZyAmJiAnZXVpRGF0YUdyaWRDb2x1bW5TZWxlY3Rvcl9faXRlbS1pc0RyYWdnaW5nJykKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEdyb3VwLCB7CiAgICAgICAgcmVzcG9uc2l2ZTogZmFsc2UsCiAgICAgICAgZ3V0dGVyU2l6ZTogIm0iLAogICAgICAgIGFsaWduSXRlbXM6ICJjZW50ZXIiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhJdGVtLCBudWxsLCBhbGxvd0NvbHVtbkhpZGluZyA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVN3aXRjaCwgewogICAgICAgIG5hbWU6IGlkLAogICAgICAgIGxhYmVsOiBkaXNwbGF5VmFsdWVzW2lkXSB8fCBpZCwKICAgICAgICBjaGVja2VkOiB2aXNpYmxlQ29sdW1uSWRzLmhhcyhpZCksCiAgICAgICAgY29tcHJlc3NlZDogdHJ1ZSwKICAgICAgICBjbGFzc05hbWU6ICJldWlTd2l0Y2gtLW1pbmkiLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgdmFyIGNoZWNrZWQgPSBldmVudC50YXJnZXQuY2hlY2tlZDsKICAgICAgICAgIHZhciBuZXh0VmlzaWJsZUNvbHVtbnMgPSBzb3J0ZWRDb2x1bW5zLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uSWQpIHsKICAgICAgICAgICAgcmV0dXJuIGNoZWNrZWQgPyB2aXNpYmxlQ29sdW1uSWRzLmhhcyhjb2x1bW5JZCkgfHwgaWQgPT09IGNvbHVtbklkIDogdmlzaWJsZUNvbHVtbklkcy5oYXMoY29sdW1uSWQpICYmIGlkICE9PSBjb2x1bW5JZDsKICAgICAgICAgIH0pOwogICAgICAgICAgc2V0VmlzaWJsZUNvbHVtbnMobmV4dFZpc2libGVDb2x1bW5zKTsKICAgICAgICB9CiAgICAgIH0pIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZXVpRGF0YUdyaWRDb2x1bW5TZWxlY3Rvcl9faXRlbUxhYmVsIgogICAgICB9LCBpZCkpLCBpc0RyYWdFbmFibGVkICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhJdGVtLCB7CiAgICAgICAgZ3JvdzogZmFsc2UKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSWNvbiwgewogICAgICAgIHR5cGU6ICJncmFiIiwKICAgICAgICBjb2xvcjogInN1YmR1ZWQiCiAgICAgIH0pKSkpOwogICAgfSk7CiAgfSkpKSkpKSwgYWxsb3dDb2x1bW5IaWRpbmcgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpUG9wb3ZlckZvb3RlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEdyb3VwLCB7CiAgICBndXR0ZXJTaXplOiAicyIsCiAgICByZXNwb25zaXZlOiBmYWxzZSwKICAgIGp1c3RpZnlDb250ZW50OiAic3BhY2VCZXR3ZWVuIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhJdGVtLCB7CiAgICBncm93OiBmYWxzZQogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUJ1dHRvbkVtcHR5LCB7CiAgICBzaXplOiAieHMiLAogICAgZmx1c2g6ICJsZWZ0IiwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHJldHVybiBzZXRWaXNpYmxlQ29sdW1ucyhzb3J0ZWRDb2x1bW5zKTsKICAgIH0KICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICB0b2tlbjogImV1aUNvbHVtblNlbGVjdG9yLnNlbGVjdEFsbCIsCiAgICBkZWZhdWx0OiAiU2hvdyBhbGwiCiAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpQnV0dG9uRW1wdHksIHsKICAgIHNpemU6ICJ4cyIsCiAgICBmbHVzaDogInJpZ2h0IiwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHJldHVybiBzZXRWaXNpYmxlQ29sdW1ucyhbXSk7CiAgICB9CiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgdG9rZW46ICJldWlDb2x1bW5TZWxlY3Rvci5oaWRlQWxsIiwKICAgIGRlZmF1bHQ6ICJIaWRlIGFsbCIKICB9KSkpKSkpOwogIHZhciBvcmRlcmVkVmlzaWJsZUNvbHVtbnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB2aXNpYmxlQ29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbklkKSB7CiAgICAgIHJldHVybiBhdmFpbGFibGVDb2x1bW5zLmZpbmQoZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgdmFyIGlkID0gX3JlZjUuaWQ7CiAgICAgICAgcmV0dXJuIGlkID09PSBjb2x1bW5JZDsKICAgICAgfSk7CiAgICB9IC8vIGNhc3QgdG8gYXZvaWQgYHVuZGVmaW5lZGAsIGl0IGZpbHRlcnMgdGhvc2Ugb3V0IG5leHQKICAgICkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHsKICAgICAgcmV0dXJuIGNvbHVtbiAhPSBudWxsOwogICAgfSk7CiAgfSwgW2F2YWlsYWJsZUNvbHVtbnMsIHZpc2libGVDb2x1bW5zXSk7CiAgLyoqCiAgICogVXNlZCBmb3IgbW92aW5nIGNvbHVtbnMgbGVmdC9yaWdodCwgYXZhaWxhYmxlIGluIHRoZSBoZWFkZXJzIGFjdGlvbnMgbWVudQogICAqLwoKICB2YXIgc3dpdGNoQ29sdW1uUG9zID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGZyb21Db2xJZCwgdG9Db2xJZCkgewogICAgdmFyIG1vdmVGcm9tSWR4ID0gc29ydGVkQ29sdW1ucy5pbmRleE9mKGZyb21Db2xJZCk7CiAgICB2YXIgbW92ZVRvSWR4ID0gc29ydGVkQ29sdW1ucy5pbmRleE9mKHRvQ29sSWQpOwoKICAgIGlmIChtb3ZlRnJvbUlkeCA9PT0gLTEgfHwgbW92ZVRvSWR4ID09PSAtMSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIG5leHRTb3J0ZWRDb2x1bW5zID0gX3RvQ29uc3VtYWJsZUFycmF5KHNvcnRlZENvbHVtbnMpOwoKICAgIG5leHRTb3J0ZWRDb2x1bW5zLnNwbGljZShtb3ZlRnJvbUlkeCwgMSk7CiAgICBuZXh0U29ydGVkQ29sdW1ucy5zcGxpY2UobW92ZVRvSWR4LCAwLCBmcm9tQ29sSWQpOwogICAgc2V0Q29sdW1ucyhuZXh0U29ydGVkQ29sdW1ucyk7CiAgfSwgW3NldENvbHVtbnMsIHNvcnRlZENvbHVtbnNdKTsKICByZXR1cm4gW2NvbHVtblNlbGVjdG9yLCBvcmRlcmVkVmlzaWJsZUNvbHVtbnMsIHNldFZpc2libGVDb2x1bW5zLCBzd2l0Y2hDb2x1bW5Qb3NdOwp9Ow=="},{"version":3,"sources":["D:/work/eui/src/components/datagrid/column_selector.tsx"],"names":["React","Fragment","useState","useMemo","useCallback","classNames","EuiPopover","EuiPopoverFooter","EuiPopoverTitle","EuiI18n","EuiButtonEmpty","EuiFlexGroup","EuiFlexItem","EuiSwitch","EuiFieldText","EuiDragDropContext","EuiDraggable","EuiDroppable","euiDragDropReorder","EuiIcon","useDependentState","getShowColumnSelectorValue","showColumnSelector","valueName","useDataGridColumnSelector","availableColumns","columnVisibility","displayValues","allowColumnHiding","allowColumnReorder","map","id","sortedColumns","setSortedColumns","visibleColumns","setVisibleColumns","visibleColumnIds","Set","isOpen","setIsOpen","setColumns","nextColumns","nextVisibleColumns","filter","has","onDragEnd","sourceIndex","source","index","destination","destinationIndex","nextSortedColumns","numberOfHiddenFields","length","columnSearchText","setColumnSearchText","controlBtnClasses","filteredColumns","toLowerCase","indexOf","isDragEnabled","buttonText","columnSelector","search","searchcolumns","e","currentTarget","value","provided","state","isDragging","event","checked","target","columnId","orderedVisibleColumns","find","column","switchColumnPos","fromColId","toColId","moveFromIdx","moveToIdx","splice"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, {\n  Fragment,\n  useState,\n  useMemo,\n  useCallback,\n  ReactElement,\n  ChangeEvent,\n} from 'react';\nimport classNames from 'classnames';\nimport {\n  EuiDataGridColumn,\n  EuiDataGridColumnVisibility,\n  EuiDataGridToolBarVisibilityColumnSelectorOptions,\n  EuiDataGridToolBarVisibilityOptions,\n} from './data_grid_types';\nimport { EuiPopover, EuiPopoverFooter, EuiPopoverTitle } from '../popover';\nimport { EuiI18n } from '../i18n';\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiSwitch, EuiFieldText } from '../form';\nimport {\n  EuiDragDropContext,\n  EuiDraggable,\n  EuiDroppable,\n  euiDragDropReorder,\n} from '../drag_and_drop';\nimport { DropResult } from 'react-beautiful-dnd';\nimport { EuiIcon } from '../icon';\nimport { useDependentState } from '../../services';\n\nconst getShowColumnSelectorValue = (\n  showColumnSelector: EuiDataGridToolBarVisibilityOptions['showColumnSelector'],\n  valueName: keyof EuiDataGridToolBarVisibilityColumnSelectorOptions\n) => {\n  if (showColumnSelector === false) return false;\n  if (showColumnSelector == null) return true;\n  if (showColumnSelector === true) return true;\n  return showColumnSelector[valueName] !== false;\n};\n\nexport const useDataGridColumnSelector = (\n  availableColumns: EuiDataGridColumn[],\n  columnVisibility: EuiDataGridColumnVisibility,\n  showColumnSelector: EuiDataGridToolBarVisibilityOptions['showColumnSelector'],\n  displayValues: { [key: string]: string }\n): [\n  ReactElement,\n  EuiDataGridColumn[],\n  (columns: string[]) => void,\n  (colFrom: string, colTo: string) => void\n] => {\n  const allowColumnHiding = getShowColumnSelectorValue(\n    showColumnSelector,\n    'allowHide'\n  );\n  const allowColumnReorder = getShowColumnSelectorValue(\n    showColumnSelector,\n    'allowReorder'\n  );\n\n  const [sortedColumns, setSortedColumns] = useDependentState(\n    () => availableColumns.map(({ id }) => id),\n    [availableColumns]\n  );\n\n  const { visibleColumns, setVisibleColumns } = columnVisibility;\n  const visibleColumnIds = useMemo(() => new Set(visibleColumns), [\n    visibleColumns,\n  ]);\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const setColumns = useCallback(\n    (nextColumns: string[]) => {\n      setSortedColumns(nextColumns);\n\n      const nextVisibleColumns = nextColumns.filter((id) =>\n        visibleColumnIds.has(id)\n      );\n      setVisibleColumns(nextVisibleColumns);\n    },\n    [setSortedColumns, setVisibleColumns, visibleColumnIds]\n  );\n\n  function onDragEnd({\n    source: { index: sourceIndex },\n    destination,\n  }: DropResult) {\n    const destinationIndex = destination!.index;\n    const nextSortedColumns = euiDragDropReorder(\n      sortedColumns,\n      sourceIndex,\n      destinationIndex\n    );\n    setColumns(nextSortedColumns);\n  }\n\n  const numberOfHiddenFields = availableColumns.length - visibleColumns.length;\n\n  const [columnSearchText, setColumnSearchText] = useState('');\n\n  const controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': numberOfHiddenFields > 0,\n  });\n\n  const filteredColumns = sortedColumns.filter(\n    (id) =>\n      (displayValues[id] || id)\n        .toLowerCase()\n        .indexOf(columnSearchText.toLowerCase()) !== -1\n  );\n\n  const isDragEnabled = allowColumnReorder && columnSearchText.length === 0; // only allow drag-and-drop when not filtering columns\n\n  let buttonText = (\n    <EuiI18n token=\"euiColumnSelector.button\" default=\"Columns\" />\n  );\n\n  if (numberOfHiddenFields === 1) {\n    buttonText = (\n      <EuiI18n\n        token=\"euiColumnSelector.buttonActiveSingular\"\n        default=\"{numberOfHiddenFields} column hidden\"\n        values={{ numberOfHiddenFields }}\n      />\n    );\n  } else if (numberOfHiddenFields > 1) {\n    buttonText = (\n      <EuiI18n\n        token=\"euiColumnSelector.buttonActivePlural\"\n        default=\"{numberOfHiddenFields} columns hidden\"\n        values={{ numberOfHiddenFields }}\n      />\n    );\n  }\n\n  const columnSelector = (\n    <EuiPopover\n      data-test-subj=\"dataGridColumnSelectorPopover\"\n      isOpen={isOpen}\n      closePopover={() => setIsOpen(false)}\n      anchorPosition=\"downLeft\"\n      panelPaddingSize=\"s\"\n      panelClassName=\"euiDataGridColumnSelectorPopover\"\n      button={\n        <EuiButtonEmpty\n          size=\"xs\"\n          iconType={allowColumnHiding ? 'listAdd' : 'list'}\n          color=\"text\"\n          className={controlBtnClasses}\n          data-test-subj=\"dataGridColumnSelectorButton\"\n          onClick={() => setIsOpen(!isOpen)}>\n          {buttonText}\n        </EuiButtonEmpty>\n      }>\n      <div>\n        {allowColumnHiding && (\n          <EuiPopoverTitle>\n            <EuiI18n\n              tokens={[\n                'euiColumnSelector.search',\n                'euiColumnSelector.searchcolumns',\n              ]}\n              defaults={['Search', 'Search columns']}>\n              {([search, searchcolumns]: string[]) => (\n                <EuiFieldText\n                  compressed\n                  placeholder={search}\n                  aria-label={searchcolumns}\n                  value={columnSearchText}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setColumnSearchText(e.currentTarget.value)\n                  }\n                />\n              )}\n            </EuiI18n>\n          </EuiPopoverTitle>\n        )}\n        <div className=\"euiDataGrid__controlScroll\">\n          <EuiDragDropContext onDragEnd={onDragEnd}>\n            <EuiDroppable\n              droppableId=\"columnOrder\"\n              isDropDisabled={!isDragEnabled}>\n              <Fragment>\n                {filteredColumns.map((id, index) => (\n                  <EuiDraggable\n                    key={id}\n                    draggableId={id}\n                    index={index}\n                    isDragDisabled={!isDragEnabled}>\n                    {(provided, state) => (\n                      <div\n                        className={`euiDataGridColumnSelector__item ${\n                          state.isDragging &&\n                          'euiDataGridColumnSelector__item-isDragging'\n                        }`}>\n                        <EuiFlexGroup\n                          responsive={false}\n                          gutterSize=\"m\"\n                          alignItems=\"center\">\n                          <EuiFlexItem>\n                            {allowColumnHiding ? (\n                              <EuiSwitch\n                                name={id}\n                                label={displayValues[id] || id}\n                                checked={visibleColumnIds.has(id)}\n                                compressed\n                                className=\"euiSwitch--mini\"\n                                onChange={(event) => {\n                                  const {\n                                    target: { checked },\n                                  } = event;\n                                  const nextVisibleColumns = sortedColumns.filter(\n                                    (columnId) =>\n                                      checked\n                                        ? visibleColumnIds.has(columnId) ||\n                                          id === columnId\n                                        : visibleColumnIds.has(columnId) &&\n                                          id !== columnId\n                                  );\n                                  setVisibleColumns(nextVisibleColumns);\n                                }}\n                              />\n                            ) : (\n                              <span className=\"euiDataGridColumnSelector__itemLabel\">\n                                {id}\n                              </span>\n                            )}\n                          </EuiFlexItem>\n                          {isDragEnabled && (\n                            <EuiFlexItem grow={false}>\n                              <EuiIcon type=\"grab\" color=\"subdued\" />\n                            </EuiFlexItem>\n                          )}\n                        </EuiFlexGroup>\n                      </div>\n                    )}\n                  </EuiDraggable>\n                ))}\n              </Fragment>\n            </EuiDroppable>\n          </EuiDragDropContext>\n        </div>\n      </div>\n      {allowColumnHiding && (\n        <EuiPopoverFooter>\n          <EuiFlexGroup\n            gutterSize=\"s\"\n            responsive={false}\n            justifyContent=\"spaceBetween\">\n            <EuiFlexItem grow={false}>\n              <EuiButtonEmpty\n                size=\"xs\"\n                flush=\"left\"\n                onClick={() => setVisibleColumns(sortedColumns)}>\n                <EuiI18n\n                  token=\"euiColumnSelector.selectAll\"\n                  default=\"Show all\"\n                />\n              </EuiButtonEmpty>\n            </EuiFlexItem>\n            <EuiFlexItem grow={false}>\n              <EuiButtonEmpty\n                size=\"xs\"\n                flush=\"right\"\n                onClick={() => setVisibleColumns([])}>\n                <EuiI18n token=\"euiColumnSelector.hideAll\" default=\"Hide all\" />\n              </EuiButtonEmpty>\n            </EuiFlexItem>\n          </EuiFlexGroup>\n        </EuiPopoverFooter>\n      )}\n    </EuiPopover>\n  );\n\n  const orderedVisibleColumns = useMemo(\n    () =>\n      visibleColumns\n        .map<EuiDataGridColumn>(\n          (columnId) =>\n            availableColumns.find(\n              ({ id }) => id === columnId\n            ) as EuiDataGridColumn // cast to avoid `undefined`, it filters those out next\n        )\n        .filter((column) => column != null),\n    [availableColumns, visibleColumns]\n  );\n  /**\n   * Used for moving columns left/right, available in the headers actions menu\n   */\n  const switchColumnPos = useCallback(\n    (fromColId: string, toColId: string) => {\n      const moveFromIdx = sortedColumns.indexOf(fromColId);\n      const moveToIdx = sortedColumns.indexOf(toColId);\n      if (moveFromIdx === -1 || moveToIdx === -1) {\n        return;\n      }\n      const nextSortedColumns = [...sortedColumns];\n      nextSortedColumns.splice(moveFromIdx, 1);\n      nextSortedColumns.splice(moveToIdx, 0, fromColId);\n      setColumns(nextSortedColumns);\n    },\n    [setColumns, sortedColumns]\n  );\n\n  return [\n    columnSelector,\n    orderedVisibleColumns,\n    setVisibleColumns,\n    switchColumnPos,\n  ];\n};\n"]}]}