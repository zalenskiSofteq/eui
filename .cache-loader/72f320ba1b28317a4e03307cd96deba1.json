{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\context_menu\\context_menu_panel.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\context_menu\\context_menu_panel.tsx","mtime":1649070093352},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CgpmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCi8qCiAqIExpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvcgogKiBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodAogKiBvd25lcnNoaXAuIEVsYXN0aWNzZWFyY2ggQi5WLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyCiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5CiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwppbXBvcnQgUmVhY3QsIHsgY2xvbmVFbGVtZW50LCBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAicHJvcC10eXBlcyI7CmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgdGFiYmFibGUgZnJvbSAndGFiYmFibGUnOwppbXBvcnQgeyBrZXlzT2YgfSBmcm9tICcuLi9jb21tb24nOwppbXBvcnQgeyBFdWlJY29uIH0gZnJvbSAnLi4vaWNvbic7CmltcG9ydCB7IEV1aVJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi4vb2JzZXJ2ZXIvcmVzaXplX29ic2VydmVyJzsKaW1wb3J0IHsgY2FzY2FkaW5nTWVudUtleXMgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7CmltcG9ydCB7IEV1aUNvbnRleHRNZW51SXRlbSB9IGZyb20gJy4vY29udGV4dF9tZW51X2l0ZW0nOwp2YXIgdGl0bGVTaXplVG9DbGFzc05hbWVNYXAgPSB7CiAgczogJ2V1aUNvbnRleHRNZW51UGFuZWxUaXRsZS0tc21hbGwnLAogIG06IG51bGwKfTsKZXhwb3J0IHZhciBTSVpFUyA9IGtleXNPZih0aXRsZVNpemVUb0NsYXNzTmFtZU1hcCk7CnZhciB0cmFuc2l0aW9uRGlyZWN0aW9uQW5kVHlwZVRvQ2xhc3NOYW1lTWFwID0gewogIG5leHQ6IHsKICAgIGluOiAnZXVpQ29udGV4dE1lbnVQYW5lbC10eEluTGVmdCcsCiAgICBvdXQ6ICdldWlDb250ZXh0TWVudVBhbmVsLXR4T3V0TGVmdCcKICB9LAogIHByZXZpb3VzOiB7CiAgICBpbjogJ2V1aUNvbnRleHRNZW51UGFuZWwtdHhJblJpZ2h0JywKICAgIG91dDogJ2V1aUNvbnRleHRNZW51UGFuZWwtdHhPdXRSaWdodCcKICB9Cn07CmV4cG9ydCB2YXIgRXVpQ29udGV4dE1lbnVQYW5lbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkgewogIF9pbmhlcml0cyhFdWlDb250ZXh0TWVudVBhbmVsLCBfQ29tcG9uZW50KTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFdWlDb250ZXh0TWVudVBhbmVsKTsKCiAgZnVuY3Rpb24gRXVpQ29udGV4dE1lbnVQYW5lbChwcm9wcykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdWlDb250ZXh0TWVudVBhbmVsKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJfaXNNb3VudGVkIiwgZmFsc2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImJhY2tCdXR0b24iLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjb250ZW50IiwgbnVsbCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicGFuZWwiLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJpbmNyZW1lbnRGb2N1c2VkSXRlbUluZGV4IiwgZnVuY3Rpb24gKGFtb3VudCkgewogICAgICB2YXIgbmV4dEZvY3VzZWRJdGVtSW5kZXg7CgogICAgICBpZiAoX3RoaXMuc3RhdGUuZm9jdXNlZEl0ZW1JbmRleCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgYmVnaW5uaW5nIG9mIHRoZSB1c2VyJ3Mga2V5Ym9hcmQgbmF2aWdhdGlvbiBvZiB0aGUgbWVudSwgdGhlbiB3ZSdsbCBmb2N1cwogICAgICAgIC8vIGVpdGhlciB0aGUgZmlyc3Qgb3IgbGFzdCBpdGVtLgogICAgICAgIG5leHRGb2N1c2VkSXRlbUluZGV4ID0gYW1vdW50IDwgMCA/IF90aGlzLnN0YXRlLm1lbnVJdGVtcy5sZW5ndGggLSAxIDogMDsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0Rm9jdXNlZEl0ZW1JbmRleCA9IF90aGlzLnN0YXRlLmZvY3VzZWRJdGVtSW5kZXggKyBhbW91bnQ7CgogICAgICAgIGlmIChuZXh0Rm9jdXNlZEl0ZW1JbmRleCA8IDApIHsKICAgICAgICAgIG5leHRGb2N1c2VkSXRlbUluZGV4ID0gX3RoaXMuc3RhdGUubWVudUl0ZW1zLmxlbmd0aCAtIDE7CiAgICAgICAgfSBlbHNlIGlmIChuZXh0Rm9jdXNlZEl0ZW1JbmRleCA9PT0gX3RoaXMuc3RhdGUubWVudUl0ZW1zLmxlbmd0aCkgewogICAgICAgICAgbmV4dEZvY3VzZWRJdGVtSW5kZXggPSAwOwogICAgICAgIH0KICAgICAgfQoKICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgIGZvY3VzZWRJdGVtSW5kZXg6IG5leHRGb2N1c2VkSXRlbUluZGV4CiAgICAgIH0pOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25LZXlEb3duIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIC8vIElmIHRoaXMgcGFuZWwgY29udGFpbnMgaXRlbXMgeW91IGNhbiB1c2UgdGhlIGxlZnQgYXJyb3cga2V5IHRvIGdvIGJhY2sgYXQgYW55IHRpbWUuCiAgICAgIC8vIEJ1dCBpZiBpdCBkb2Vzbid0IGNvbnRhaW4gaXRlbXMsIHRoZW4geW91IGhhdmUgdG8gZm9jdXMgb24gdGhlIGJhY2sgYnV0dG9uIHNwZWNpZmljYWxseSwKICAgICAgLy8gc2luY2UgdGhlcmUgY291bGQgYmUgY29udGVudCBpbnNpZGUgdGhlIHBhbmVsIHdoaWNoIHJlcXVpcmVzIHVzZSBvZiB0aGUgbGVmdCBhcnJvdyBrZXksCiAgICAgIC8vIGUuZy4gdGV4dCBpbnB1dHMuCiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLAogICAgICAgICAgaXRlbXMgPSBfdGhpcyRwcm9wcy5pdGVtcywKICAgICAgICAgIHNob3dQcmV2aW91c1BhbmVsID0gX3RoaXMkcHJvcHMuc2hvd1ByZXZpb3VzUGFuZWw7CgogICAgICBpZiAoaXRlbXMgJiYgaXRlbXMubGVuZ3RoIHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IF90aGlzLmJhY2tCdXR0b24gfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gX3RoaXMucGFuZWwpIHsKICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBjYXNjYWRpbmdNZW51S2V5cy5BUlJPV19MRUZUKSB7CiAgICAgICAgICBpZiAoc2hvd1ByZXZpb3VzUGFuZWwpIHsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIHNob3dQcmV2aW91c1BhbmVsKCk7CgogICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25Vc2VLZXlib2FyZFRvTmF2aWdhdGUpIHsKICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblVzZUtleWJvYXJkVG9OYXZpZ2F0ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoX3RoaXMucHJvcHMuaXRlbXMgJiYgX3RoaXMucHJvcHMuaXRlbXMubGVuZ3RoKSB7CiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHsKICAgICAgICAgIGNhc2UgY2FzY2FkaW5nTWVudUtleXMuVEFCOgogICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHN5bmMgdXAgd2l0aCB0aGUgdXNlciBpZiBzL2hlIGlzIHRhYmJpbmcgdGhyb3VnaCB0aGUgaXRlbXMuCiAgICAgICAgICAgIHZhciBmb2N1c2VkSXRlbUluZGV4ID0gX3RoaXMuc3RhdGUubWVudUl0ZW1zLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7CgogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgICAgZm9jdXNlZEl0ZW1JbmRleDogZm9jdXNlZEl0ZW1JbmRleCA+PSAwICYmIGZvY3VzZWRJdGVtSW5kZXggPCBfdGhpcy5zdGF0ZS5tZW51SXRlbXMubGVuZ3RoID8gZm9jdXNlZEl0ZW1JbmRleCA6IHVuZGVmaW5lZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgY2FzY2FkaW5nTWVudUtleXMuQVJST1dfVVA6CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgICBfdGhpcy5pbmNyZW1lbnRGb2N1c2VkSXRlbUluZGV4KC0xKTsKCiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vblVzZUtleWJvYXJkVG9OYXZpZ2F0ZSkgewogICAgICAgICAgICAgIF90aGlzLnByb3BzLm9uVXNlS2V5Ym9hcmRUb05hdmlnYXRlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgY2FzY2FkaW5nTWVudUtleXMuQVJST1dfRE9XTjoKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgICAgIF90aGlzLmluY3JlbWVudEZvY3VzZWRJdGVtSW5kZXgoMSk7CgogICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMub25Vc2VLZXlib2FyZFRvTmF2aWdhdGUpIHsKICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblVzZUtleWJvYXJkVG9OYXZpZ2F0ZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIGNhc2NhZGluZ01lbnVLZXlzLkFSUk9XX1JJR0hUOgogICAgICAgICAgICBpZiAoX3RoaXMucHJvcHMuc2hvd05leHRQYW5lbCkgewogICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgICAgIF90aGlzLnByb3BzLnNob3dOZXh0UGFuZWwoX3RoaXMuc3RhdGUuZm9jdXNlZEl0ZW1JbmRleCk7CgogICAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vblVzZUtleWJvYXJkVG9OYXZpZ2F0ZSkgewogICAgICAgICAgICAgICAgX3RoaXMucHJvcHMub25Vc2VLZXlib2FyZFRvTmF2aWdhdGUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25UcmFuc2l0aW9uQ29tcGxldGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5wcm9wcy5vblRyYW5zaXRpb25Db21wbGV0ZSkgewogICAgICAgIF90aGlzLnByb3BzLm9uVHJhbnNpdGlvbkNvbXBsZXRlKCk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm1lbnVJdGVtUmVmIiwgZnVuY3Rpb24gKGluZGV4LCBub2RlKSB7CiAgICAgIC8vIFRoZXJlJ3MgYSB3ZWlyZCBidWcgd2hlcmUgaWYgeW91IG5hdmlnYXRlIHRvIGEgcGFuZWwgd2l0aG91dCBpdGVtcywgdGhlbiB0aGlzIGNhbGxiYWNrCiAgICAgIC8vIGlzIHN0aWxsIGludm9rZWQsIHNvIHdlIGhhdmUgdG8gZG8gYSB0cnV0aGluZXNzIGNoZWNrLgogICAgICBpZiAobm9kZSkgewogICAgICAgIC8vIFN0b3JlIGFsbCBtZW51IGl0ZW1zLgogICAgICAgIF90aGlzLnN0YXRlLm1lbnVJdGVtc1tpbmRleF0gPSBub2RlOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJwYW5lbFJlZiIsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIF90aGlzLnBhbmVsID0gbm9kZTsKCiAgICAgIF90aGlzLnVwZGF0ZUhlaWdodCgpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY29udGVudFJlZiIsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIF90aGlzLmNvbnRlbnQgPSBub2RlOwogICAgfSk7CgogICAgX3RoaXMuc3RhdGUgPSB7CiAgICAgIHByZXZQcm9wczogewogICAgICAgIGl0ZW1zOiBfdGhpcy5wcm9wcy5pdGVtcwogICAgICB9LAogICAgICBtZW51SXRlbXM6IFtdLAogICAgICBmb2N1c2VkSXRlbUluZGV4OiBwcm9wcy5pbml0aWFsRm9jdXNlZEl0ZW1JbmRleCwKICAgICAgY3VycmVudEhlaWdodDogdW5kZWZpbmVkCiAgICB9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEV1aUNvbnRleHRNZW51UGFuZWwsIFt7CiAgICBrZXk6ICJ1cGRhdGVGb2N1cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRm9jdXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8gR2l2ZSBwb3NpdGlvbmluZyB0aW1lIHRvIHJlbmRlciBiZWZvcmUgZm9jdXMgaXMgYXBwbGllZC4gT3RoZXJ3aXNlIHBhZ2UganVtcHMuCiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFfdGhpczIuX2lzTW91bnRlZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gSWYgdGhpcyBwYW5lbCBoYXMgbG9zdCBmb2N1cywgdGhlbiBub25lIG9mIGl0cyBjb250ZW50IHNob3VsZCBiZSBmb2N1c2VkLgoKCiAgICAgICAgaWYgKCFfdGhpczIucHJvcHMuaGFzRm9jdXMpIHsKICAgICAgICAgIGlmIChfdGhpczIucGFuZWwgJiYgX3RoaXMyLnBhbmVsLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vIFNldHRpbmcgZm9jdXMgd2hpbGUgdHJhbnNpdGlvbmluZyBjYXVzZXMgdGhlIGFuaW1hdGlvbiB0byBnbGl0Y2gsIHNvIHdlIGhhdmUgdG8gd2FpdAogICAgICAgIC8vIHVudGlsIGl0J3MgZmluaXNoZWQgYmVmb3JlIHdlIGZvY3VzIGFueXRoaW5nLgoKCiAgICAgICAgaWYgKF90aGlzMi5wcm9wcy50cmFuc2l0aW9uVHlwZSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gYGZvY3VzZWRJdGVtSW5kZXg9ey0xfWAgc3BlY2lmaWVzIHRoYXQgdGhlIHBhbmVsIGl0c2VsZiBzaG91bGQgYmUgZm9jdXNlZC4KICAgICAgICAvLyBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgd2hlbiB0aGUgcGFuZWwgZG9lcyBub3QgaGF2ZSBgaXRlbWBzCiAgICAgICAgLy8gYW5kIHByZXZlbnRpbmcgYXV0b2ZvY3VzIGlzIGRlc2lyZWQsIHdoaWNoIGlzIGFuIHVuY29tbW9uIGNhc2UuCgoKICAgICAgICBpZiAoX3RoaXMyLnBhbmVsICYmIF90aGlzMi5zdGF0ZS5mb2N1c2VkSXRlbUluZGV4ID09PSAtMSkgewogICAgICAgICAgX3RoaXMyLnBhbmVsLmZvY3VzKCk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gSWYgdGhlcmUgYXJlbid0IGFueSBpdGVtcyB0aGVuIHRoaXMgaXMgcHJvYmFibHkgYSBmb3JtIG9yIHNvbWV0aGluZy4KCgogICAgICAgIGlmICghX3RoaXMyLnN0YXRlLm1lbnVJdGVtcy5sZW5ndGgpIHsKICAgICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZm9jdXNlZCBvbiBzb21ldGhpbmcgaW5zaWRlIHRoZSBwYW5lbCwgZXZlcnl0aGluZydzIGZpbmUuCiAgICAgICAgICBpZiAoX3RoaXMyLnBhbmVsICYmIF90aGlzMi5wYW5lbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IC8vIE90aGVyd2lzZSBsZXQncyBmb2N1cyB0aGUgZmlyc3QgdGFiYmFibGUgaXRlbSBhbmQgZXhwZWRpdGUgaW5wdXQgZnJvbSB0aGUgdXNlci4KCgogICAgICAgICAgaWYgKF90aGlzMi5jb250ZW50KSB7CiAgICAgICAgICAgIHZhciB0YWJiYWJsZUl0ZW1zID0gdGFiYmFibGUoX3RoaXMyLmNvbnRlbnQpOwoKICAgICAgICAgICAgaWYgKHRhYmJhYmxlSXRlbXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdGFiYmFibGVJdGVtc1swXS5mb2N1cygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gSWYgYW4gaXRlbSBpcyBmb2N1c2VkLCBmb2N1cyBpdC4KCgogICAgICAgIGlmIChfdGhpczIuc3RhdGUuZm9jdXNlZEl0ZW1JbmRleCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfdGhpczIuc3RhdGUubWVudUl0ZW1zW190aGlzMi5zdGF0ZS5mb2N1c2VkSXRlbUluZGV4XS5mb2N1cygpOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vIEZvY3VzIG9uIHRoZSBwYW5lbCBhcyBhIGxhc3QgcmVzb3J0LgoKCiAgICAgICAgaWYgKF90aGlzMi5wYW5lbCAmJiAhX3RoaXMyLnBhbmVsLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7CiAgICAgICAgICBfdGhpczIucGFuZWwuZm9jdXMoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdGhpcy51cGRhdGVGb2N1cygpOwogICAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0V2F0Y2hlZFByb3BzRm9ySXRlbXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdhdGNoZWRQcm9wc0Zvckl0ZW1zKGl0ZW1zKSB7CiAgICAgIC8vIFRoaXMgbGV0cyB1cyBjb21wYXJlIHByZXZQcm9wcyBhbmQgbmV4dFByb3BzIGFtb25nIGl0ZW1zIHNvIHdlIGNhbiByZS1yZW5kZXIgaWYgb3VyIGl0ZW1zCiAgICAgIC8vIGhhdmUgY2hhbmdlZC4KICAgICAgdmFyIHdhdGNoZWRJdGVtUHJvcHMgPSB0aGlzLnByb3BzLndhdGNoZWRJdGVtUHJvcHM7IC8vIENyZWF0ZSBmaW5nZXJwcmludCBvZiBhbGwgaXRlbSdzIHdhdGNoZWQgcHJvcGVydGllcwoKICAgICAgaWYgKGl0ZW1zLmxlbmd0aCAmJiB3YXRjaGVkSXRlbVByb3BzICYmIHdhdGNoZWRJdGVtUHJvcHMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgLy8gQ3JlYXRlIG9iamVjdCBvZiBpdGVtIHByb3BlcnRpZXMgYW5kIHZhbHVlcwogICAgICAgICAgdmFyIHByb3BzID0gewogICAgICAgICAgICBrZXk6IGl0ZW0ua2V5CiAgICAgICAgICB9OwogICAgICAgICAgd2F0Y2hlZEl0ZW1Qcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7CiAgICAgICAgICAgIHByb3BzW3Byb3BdID0gaXRlbS5wcm9wc1twcm9wXTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHByb3BzOwogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGlkSXRlbXNDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpZEl0ZW1zQ2hhbmdlKHByZXZJdGVtcywgbmV4dEl0ZW1zKSB7CiAgICAgIC8vIElmIHRoZSBjb3VudCBvZiBpdGVtcyBoYXMgY2hhbmdlZCB0aGVuIHVwZGF0ZQogICAgICBpZiAocHJldkl0ZW1zLmxlbmd0aCAhPT0gbmV4dEl0ZW1zLmxlbmd0aCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IC8vIENoZWNrIGlmIGFueSB3YXRjaGVkIGl0ZW0gcHJvcGVydGllcyBjaGFuZ2VkIGJ5IHF1aWNrIHN0cmluZyBjb21wYXJpc29uCgoKICAgICAgaWYgKHRoaXMuZ2V0V2F0Y2hlZFByb3BzRm9ySXRlbXMobmV4dEl0ZW1zKSAhPT0gdGhpcy5nZXRXYXRjaGVkUHJvcHNGb3JJdGVtcyhwcmV2SXRlbXMpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG91bGRDb21wb25lbnRVcGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkgewogICAgICAvLyBQcmV2ZW50IGNhbGxpbmcgYHRoaXMudXBkYXRlRm9jdXMoKWAgYmVsb3cgaWYgd2UgZG9uJ3QgaGF2ZSB0by4KICAgICAgaWYgKG5leHRQcm9wcy5oYXNGb2N1cyAhPT0gdGhpcy5wcm9wcy5oYXNGb2N1cykgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBpZiAobmV4dFByb3BzLnRyYW5zaXRpb25UeXBlICE9PSB0aGlzLnByb3BzLnRyYW5zaXRpb25UeXBlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChuZXh0U3RhdGUuZm9jdXNlZEl0ZW1JbmRleCAhPT0gdGhpcy5zdGF0ZS5mb2N1c2VkSXRlbUluZGV4KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gLy8gKioKICAgICAgLy8gdGhpcyBjb21wb25lbnQgc2hvdWxkIGhhdmUgZWl0aGVyIGl0ZW1zIG9yIGNoaWxkcmVuLAogICAgICAvLyBpZiB0aGVyZSBhcmUgaXRlbXMgd2UgY2FuIGRldGVybWluZSB2aWEgYHdhdGNoZWRJdGVtUHJvcHNgIGlmIHdlIHNob3VsZCB1cGRhdGUKICAgICAgLy8gaWYgdGhlcmUgYXJlIGNoaWxkcmVuIHdlIGNhbid0IGtub3cgaWYgdGhleSBoYXZlIGNoYW5nZWQgc28gcmV0dXJuIHRydWUKICAgICAgLy8gKioKCgogICAgICBpZiAodGhpcy5wcm9wcy5pdGVtcyAmJiB0aGlzLnByb3BzLml0ZW1zLmxlbmd0aCA+IDAgfHwgbmV4dFByb3BzLml0ZW1zICYmIG5leHRQcm9wcy5pdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgaWYgKHRoaXMuZGlkSXRlbXNDaGFuZ2UodGhpcy5wcm9wcy5pdGVtcywgbmV4dFByb3BzLml0ZW1zKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IC8vIGl0J3Mgbm90IHBvc3NpYmxlIChpbiBhbnkgZ29vZCB3YXkpIHRvIGtub3cgaWYgYGNoaWxkcmVuYCBoYXMgY2hhbmdlZCwgYXNzdW1lIHRoZXkgbWlnaHQgaGF2ZQoKCiAgICAgIGlmICh0aGlzLnByb3BzLmNoaWxkcmVuICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZUhlaWdodCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlSGVpZ2h0KCkgewogICAgICB2YXIgY3VycmVudEhlaWdodCA9IHRoaXMucGFuZWwgPyB0aGlzLnBhbmVsLmNsaWVudEhlaWdodCA6IDA7CgogICAgICBpZiAodGhpcy5zdGF0ZS5oZWlnaHQgIT09IGN1cnJlbnRIZWlnaHQpIHsKICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkhlaWdodENoYW5nZSkgewogICAgICAgICAgdGhpcy5wcm9wcy5vbkhlaWdodENoYW5nZShjdXJyZW50SGVpZ2h0KTsKICAgICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgICBoZWlnaHQ6IGN1cnJlbnRIZWlnaHQKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudERpZFVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkgewogICAgICB0aGlzLnVwZGF0ZUZvY3VzKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsCiAgICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzMi5jaGlsZHJlbiwKICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzMi5jbGFzc05hbWUsCiAgICAgICAgICBvbkNsb3NlID0gX3RoaXMkcHJvcHMyLm9uQ2xvc2UsCiAgICAgICAgICB0aXRsZSA9IF90aGlzJHByb3BzMi50aXRsZSwKICAgICAgICAgIG9uSGVpZ2h0Q2hhbmdlID0gX3RoaXMkcHJvcHMyLm9uSGVpZ2h0Q2hhbmdlLAogICAgICAgICAgdHJhbnNpdGlvblR5cGUgPSBfdGhpcyRwcm9wczIudHJhbnNpdGlvblR5cGUsCiAgICAgICAgICB0cmFuc2l0aW9uRGlyZWN0aW9uID0gX3RoaXMkcHJvcHMyLnRyYW5zaXRpb25EaXJlY3Rpb24sCiAgICAgICAgICBvblRyYW5zaXRpb25Db21wbGV0ZSA9IF90aGlzJHByb3BzMi5vblRyYW5zaXRpb25Db21wbGV0ZSwKICAgICAgICAgIG9uVXNlS2V5Ym9hcmRUb05hdmlnYXRlID0gX3RoaXMkcHJvcHMyLm9uVXNlS2V5Ym9hcmRUb05hdmlnYXRlLAogICAgICAgICAgaGFzRm9jdXMgPSBfdGhpcyRwcm9wczIuaGFzRm9jdXMsCiAgICAgICAgICBpdGVtcyA9IF90aGlzJHByb3BzMi5pdGVtcywKICAgICAgICAgIHdhdGNoZWRJdGVtUHJvcHMgPSBfdGhpcyRwcm9wczIud2F0Y2hlZEl0ZW1Qcm9wcywKICAgICAgICAgIGluaXRpYWxGb2N1c2VkSXRlbUluZGV4ID0gX3RoaXMkcHJvcHMyLmluaXRpYWxGb2N1c2VkSXRlbUluZGV4LAogICAgICAgICAgc2hvd05leHRQYW5lbCA9IF90aGlzJHByb3BzMi5zaG93TmV4dFBhbmVsLAogICAgICAgICAgc2hvd1ByZXZpb3VzUGFuZWwgPSBfdGhpcyRwcm9wczIuc2hvd1ByZXZpb3VzUGFuZWwsCiAgICAgICAgICBzaXplID0gX3RoaXMkcHJvcHMyLnNpemUsCiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzMiwgWyJjaGlsZHJlbiIsICJjbGFzc05hbWUiLCAib25DbG9zZSIsICJ0aXRsZSIsICJvbkhlaWdodENoYW5nZSIsICJ0cmFuc2l0aW9uVHlwZSIsICJ0cmFuc2l0aW9uRGlyZWN0aW9uIiwgIm9uVHJhbnNpdGlvbkNvbXBsZXRlIiwgIm9uVXNlS2V5Ym9hcmRUb05hdmlnYXRlIiwgImhhc0ZvY3VzIiwgIml0ZW1zIiwgIndhdGNoZWRJdGVtUHJvcHMiLCAiaW5pdGlhbEZvY3VzZWRJdGVtSW5kZXgiLCAic2hvd05leHRQYW5lbCIsICJzaG93UHJldmlvdXNQYW5lbCIsICJzaXplIl0pOwoKICAgICAgdmFyIHBhbmVsVGl0bGU7CgogICAgICBpZiAodGl0bGUpIHsKICAgICAgICB2YXIgdGl0bGVDbGFzc2VzID0gY2xhc3NOYW1lcygnZXVpQ29udGV4dE1lbnVQYW5lbFRpdGxlJywgc2l6ZSAmJiB0aXRsZVNpemVUb0NsYXNzTmFtZU1hcFtzaXplXSk7CgogICAgICAgIGlmIChCb29sZWFuKG9uQ2xvc2UpKSB7CiAgICAgICAgICBwYW5lbFRpdGxlID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiB0aXRsZUNsYXNzZXMsCiAgICAgICAgICAgIHR5cGU6ICJidXR0b24iLAogICAgICAgICAgICBvbkNsaWNrOiBvbkNsb3NlLAogICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7CiAgICAgICAgICAgICAgX3RoaXMzLmJhY2tCdXR0b24gPSBub2RlOwogICAgICAgICAgICB9LAogICAgICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiY29udGV4dE1lbnVQYW5lbFRpdGxlQnV0dG9uIgogICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogImV1aUNvbnRleHRNZW51X19pdGVtTGF5b3V0IgogICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSWNvbiwgewogICAgICAgICAgICB0eXBlOiAiYXJyb3dMZWZ0IiwKICAgICAgICAgICAgc2l6ZTogIm0iLAogICAgICAgICAgICBjbGFzc05hbWU6ICJldWlDb250ZXh0TWVudV9faWNvbiIKICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZXVpQ29udGV4dE1lbnVfX3RleHQiCiAgICAgICAgICB9LCB0aXRsZSkpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGFuZWxUaXRsZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogdGl0bGVDbGFzc2VzCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAiZXVpQ29udGV4dE1lbnVfX2l0ZW1MYXlvdXQiCiAgICAgICAgICB9LCB0aXRsZSkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIGNsYXNzZXMgPSBjbGFzc05hbWVzKCdldWlDb250ZXh0TWVudVBhbmVsJywgY2xhc3NOYW1lLCB0cmFuc2l0aW9uRGlyZWN0aW9uICYmIHRyYW5zaXRpb25UeXBlICYmIHRyYW5zaXRpb25EaXJlY3Rpb25BbmRUeXBlVG9DbGFzc05hbWVNYXBbdHJhbnNpdGlvbkRpcmVjdGlvbl0gPyB0cmFuc2l0aW9uRGlyZWN0aW9uQW5kVHlwZVRvQ2xhc3NOYW1lTWFwW3RyYW5zaXRpb25EaXJlY3Rpb25dW3RyYW5zaXRpb25UeXBlXSA6IHVuZGVmaW5lZCk7CiAgICAgIHZhciBjb250ZW50ID0gaXRlbXMgJiYgaXRlbXMubGVuZ3RoID8gaXRlbXMubWFwKGZ1bmN0aW9uIChNZW51SXRlbSwgaW5kZXgpIHsKICAgICAgICB2YXIgY2xvbmVQcm9wcyA9IHsKICAgICAgICAgIGJ1dHRvblJlZjogZnVuY3Rpb24gYnV0dG9uUmVmKG5vZGUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5tZW51SXRlbVJlZihpbmRleCwgbm9kZSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgaWYgKHNpemUpIHsKICAgICAgICAgIGNsb25lUHJvcHMuc2l6ZSA9IHNpemU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gTWVudUl0ZW0udHlwZSA9PT0gRXVpQ29udGV4dE1lbnVJdGVtID8gLyojX19QVVJFX18qL2Nsb25lRWxlbWVudChNZW51SXRlbSwgY2xvbmVQcm9wcykgOiBNZW51SXRlbTsKICAgICAgfSkgOiBjaGlsZHJlbjsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBfZXh0ZW5kcyh7CiAgICAgICAgcmVmOiB0aGlzLnBhbmVsUmVmLAogICAgICAgIGNsYXNzTmFtZTogY2xhc3NlcywKICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLAogICAgICAgIHRhYkluZGV4OiAtMSwKICAgICAgICBvbkFuaW1hdGlvbkVuZDogdGhpcy5vblRyYW5zaXRpb25Db21wbGV0ZQogICAgICB9LCByZXN0KSwgcGFuZWxUaXRsZSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICByZWY6IHRoaXMuY29udGVudFJlZgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlSZXNpemVPYnNlcnZlciwgewogICAgICAgIG9uUmVzaXplOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMudXBkYXRlSGVpZ2h0KCk7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiAocmVzaXplUmVmKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICByZWY6IHJlc2l6ZVJlZgogICAgICAgIH0sIGNvbnRlbnQpOwogICAgICB9KSkpOwogICAgfQogIH1dLCBbewogICAga2V5OiAiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHsKICAgICAgdmFyIG5lZWRzVXBkYXRlID0gZmFsc2U7CiAgICAgIHZhciBuZXh0U3RhdGUgPSB7fTsgLy8gQ2xlYXIgcmVmcyB0byBtZW51SXRlbXMgaWYgd2UncmUgZ2V0dGluZyBuZXcgb25lcy4KCiAgICAgIGlmIChuZXh0UHJvcHMuaXRlbXMgIT09IHByZXZTdGF0ZS5wcmV2UHJvcHMuaXRlbXMpIHsKICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgICAgbmV4dFN0YXRlLm1lbnVJdGVtcyA9IFtdOwogICAgICAgIG5leHRTdGF0ZS5wcmV2UHJvcHMgPSB7CiAgICAgICAgICBpdGVtczogbmV4dFByb3BzLml0ZW1zCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKG5lZWRzVXBkYXRlKSB7CiAgICAgICAgcmV0dXJuIG5leHRTdGF0ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRXVpQ29udGV4dE1lbnVQYW5lbDsKfShDb21wb25lbnQpOwoKX2RlZmluZVByb3BlcnR5KEV1aUNvbnRleHRNZW51UGFuZWwsICJkZWZhdWx0UHJvcHMiLCB7CiAgaGFzRm9jdXM6IHRydWUsCiAgaXRlbXM6IFtdCn0pOwoKRXVpQ29udGV4dE1lbnVQYW5lbC5wcm9wVHlwZXMgPSB7CiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLAogICJhcmlhLWxhYmVsIjogUHJvcFR5cGVzLnN0cmluZywKICAiZGF0YS10ZXN0LXN1YmoiOiBQcm9wVHlwZXMuc3RyaW5nLAogIGhhc0ZvY3VzOiBQcm9wVHlwZXMuYm9vbCwKICBpbml0aWFsRm9jdXNlZEl0ZW1JbmRleDogUHJvcFR5cGVzLm51bWJlciwKICBpdGVtczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmVsZW1lbnQuaXNSZXF1aXJlZCksCiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMsCiAgb25IZWlnaHRDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLAogIG9uVHJhbnNpdGlvbkNvbXBsZXRlOiBQcm9wVHlwZXMuZnVuYywKICBvblVzZUtleWJvYXJkVG9OYXZpZ2F0ZTogUHJvcFR5cGVzLmZ1bmMsCiAgc2hvd05leHRQYW5lbDogUHJvcFR5cGVzLmZ1bmMsCiAgc2hvd1ByZXZpb3VzUGFuZWw6IFByb3BUeXBlcy5mdW5jLAogIHRpdGxlOiBQcm9wVHlwZXMubm9kZSwKICB0cmFuc2l0aW9uRGlyZWN0aW9uOiBQcm9wVHlwZXMub25lT2YoWyJuZXh0IiwgInByZXZpb3VzIl0pLAogIHRyYW5zaXRpb25UeXBlOiBQcm9wVHlwZXMub25lT2YoWyJpbiIsICJvdXQiXSksCiAgd2F0Y2hlZEl0ZW1Qcm9wczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkKSwKCiAgLyoqCiAgICAgKiBBbHRlcnMgdGhlIHNpemUgb2YgdGhlIGl0ZW1zIGFuZCB0aGUgdGl0bGUKICAgICAqLwogIHNpemU6IFByb3BUeXBlcy5hbnkKfTsKCnRyeSB7CiAgRXVpQ29udGV4dE1lbnVQYW5lbC5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWwnLAogICAgbWV0aG9kczogW10sCiAgICBwcm9wczogewogICAgICBjbGFzc05hbWU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdjbGFzc05hbWUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29tbW9uLnRzJywKICAgICAgICAgIG5hbWU6ICdDb21tb25Qcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2FyaWEtbGFiZWwnOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnRGVmaW5lcyBhIHN0cmluZyB2YWx1ZSB0aGF0IGxhYmVscyB0aGUgY3VycmVudCBlbGVtZW50LlxuJyArICdAc2VlIGFyaWEtbGFiZWxsZWRieS4nLAogICAgICAgIG5hbWU6ICdhcmlhLWxhYmVsJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbW1vbi50cycsCiAgICAgICAgICBuYW1lOiAnQ29tbW9uUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgICdkYXRhLXRlc3Qtc3Viaic6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdkYXRhLXRlc3Qtc3ViaicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb21tb24udHMnLAogICAgICAgICAgbmFtZTogJ0NvbW1vblByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdzdHJpbmcnCiAgICAgICAgfQogICAgICB9LAogICAgICBoYXNGb2N1czogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICd0cnVlJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdoYXNGb2N1cycsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb250ZXh0X21lbnUvY29udGV4dF9tZW51X3BhbmVsLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29udGV4dE1lbnVQYW5lbFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5pdGlhbEZvY3VzZWRJdGVtSW5kZXg6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdpbml0aWFsRm9jdXNlZEl0ZW1JbmRleCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb250ZXh0X21lbnUvY29udGV4dF9tZW51X3BhbmVsLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29udGV4dE1lbnVQYW5lbFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdudW1iZXInCiAgICAgICAgfQogICAgICB9LAogICAgICBpdGVtczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdbXScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnaXRlbXMnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29udGV4dF9tZW51L2NvbnRleHRfbWVudV9wYW5lbC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWxQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUmVhY3RFbGVtZW50W10nCiAgICAgICAgfQogICAgICB9LAogICAgICBvbkNsb3NlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnb25DbG9zZScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb250ZXh0X21lbnUvY29udGV4dF9tZW51X3BhbmVsLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29udGV4dE1lbnVQYW5lbFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdOb0FyZ0NhbGxiYWNrPHZvaWQ+JwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25IZWlnaHRDaGFuZ2U6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdvbkhlaWdodENoYW5nZScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb250ZXh0X21lbnUvY29udGV4dF9tZW51X3BhbmVsLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29udGV4dE1lbnVQYW5lbFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdFdWlDb250ZXh0TWVudVBhbmVsSGVpZ2h0Q2hhbmdlSGFuZGxlcicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uVHJhbnNpdGlvbkNvbXBsZXRlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnb25UcmFuc2l0aW9uQ29tcGxldGUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29udGV4dF9tZW51L2NvbnRleHRfbWVudV9wYW5lbC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWxQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnTm9BcmdDYWxsYmFjazx2b2lkPicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uVXNlS2V5Ym9hcmRUb05hdmlnYXRlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnb25Vc2VLZXlib2FyZFRvTmF2aWdhdGUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29udGV4dF9tZW51L2NvbnRleHRfbWVudV9wYW5lbC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWxQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnTm9BcmdDYWxsYmFjazx2b2lkPicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNob3dOZXh0UGFuZWw6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdzaG93TmV4dFBhbmVsJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbnRleHRfbWVudS9jb250ZXh0X21lbnVfcGFuZWwudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb250ZXh0TWVudVBhbmVsUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWxTaG93UGFuZWxDYWxsYmFjaycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNob3dQcmV2aW91c1BhbmVsOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnc2hvd1ByZXZpb3VzUGFuZWwnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29udGV4dF9tZW51L2NvbnRleHRfbWVudV9wYW5lbC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWxQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnTm9BcmdDYWxsYmFjazx2b2lkPicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRpdGxlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAndGl0bGUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29udGV4dF9tZW51L2NvbnRleHRfbWVudV9wYW5lbC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWxQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUmVhY3ROb2RlJwogICAgICAgIH0KICAgICAgfSwKICAgICAgdHJhbnNpdGlvbkRpcmVjdGlvbjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3RyYW5zaXRpb25EaXJlY3Rpb24nLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29udGV4dF9tZW51L2NvbnRleHRfbWVudV9wYW5lbC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWxQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnZW51bScsCiAgICAgICAgICByYXc6ICdFdWlDb250ZXh0TWVudVBhbmVsVHJhbnNpdGlvbkRpcmVjdGlvbicsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICcibmV4dCInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInByZXZpb3VzIicKICAgICAgICAgIH1dCiAgICAgICAgfQogICAgICB9LAogICAgICB0cmFuc2l0aW9uVHlwZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3RyYW5zaXRpb25UeXBlJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbnRleHRfbWVudS9jb250ZXh0X21lbnVfcGFuZWwudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb250ZXh0TWVudVBhbmVsUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2VudW0nLAogICAgICAgICAgcmF3OiAnRXVpQ29udGV4dE1lbnVQYW5lbFRyYW5zaXRpb25UeXBlJywKICAgICAgICAgIHZhbHVlOiBbewogICAgICAgICAgICB2YWx1ZTogJyJpbiInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnIm91dCInCiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfSwKICAgICAgd2F0Y2hlZEl0ZW1Qcm9wczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3dhdGNoZWRJdGVtUHJvcHMnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29udGV4dF9tZW51L2NvbnRleHRfbWVudV9wYW5lbC50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbnRleHRNZW51UGFuZWxQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nW10nCiAgICAgICAgfQogICAgICB9LAogICAgICBzaXplOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnQWx0ZXJzIHRoZSBzaXplIG9mIHRoZSBpdGVtcyBhbmQgdGhlIHRpdGxlJywKICAgICAgICBuYW1lOiAnc2l6ZScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb250ZXh0X21lbnUvY29udGV4dF9tZW51X3BhbmVsLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29udGV4dE1lbnVQYW5lbFByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdlbnVtJywKICAgICAgICAgIHJhdzogJyJzIiB8ICJtIicsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICcicyInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnIm0iJwogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBleHRlbmRlZEludGVyZmFjZXM6IFsnQ29tbW9uUHJvcHMnLCAnSFRNTEF0dHJpYnV0ZXMnLCAnQXJpYUF0dHJpYnV0ZXMnLCAnRE9NQXR0cmlidXRlcycsICdFdWlDb250ZXh0TWVudVBhbmVsUHJvcHMnXQogIH07Cn0gY2F0Y2ggKGUpIHt9"},{"version":3,"sources":["D:/work/eui/src/components/context_menu/context_menu_panel.tsx"],"names":["React","cloneElement","Component","classNames","tabbable","keysOf","EuiIcon","EuiResizeObserver","cascadingMenuKeys","EuiContextMenuItem","titleSizeToClassNameMap","s","m","SIZES","transitionDirectionAndTypeToClassNameMap","next","in","out","previous","EuiContextMenuPanel","props","amount","nextFocusedItemIndex","state","focusedItemIndex","undefined","menuItems","length","setState","event","items","showPreviousPanel","document","activeElement","backButton","panel","key","ARROW_LEFT","preventDefault","stopPropagation","onUseKeyboardToNavigate","TAB","indexOf","ARROW_UP","incrementFocusedItemIndex","ARROW_DOWN","ARROW_RIGHT","showNextPanel","onTransitionComplete","index","node","updateHeight","content","prevProps","initialFocusedItemIndex","currentHeight","requestAnimationFrame","_isMounted","hasFocus","contains","blur","transitionType","focus","tabbableItems","updateFocus","watchedItemProps","JSON","stringify","map","item","forEach","prop","prevItems","nextItems","getWatchedPropsForItems","nextProps","nextState","didItemsChange","children","clientHeight","height","onHeightChange","className","onClose","title","transitionDirection","size","rest","panelTitle","titleClasses","Boolean","classes","MenuItem","cloneProps","buttonRef","menuItemRef","type","panelRef","onKeyDown","contentRef","resizeRef","prevState","needsUpdate"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { cloneElement, Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport tabbable from 'tabbable';\nimport { keysOf } from '../common';\nimport { EuiIcon } from '../icon';\nimport { EuiResizeObserver } from '../observer/resize_observer';\nimport { cascadingMenuKeys } from '../../services';\nimport { EuiContextMenuItem } from './context_menu_item';\nvar titleSizeToClassNameMap = {\n  s: 'euiContextMenuPanelTitle--small',\n  m: null\n};\nexport var SIZES = keysOf(titleSizeToClassNameMap);\nvar transitionDirectionAndTypeToClassNameMap = {\n  next: {\n    in: 'euiContextMenuPanel-txInLeft',\n    out: 'euiContextMenuPanel-txOutLeft'\n  },\n  previous: {\n    in: 'euiContextMenuPanel-txInRight',\n    out: 'euiContextMenuPanel-txOutRight'\n  }\n};\nexport class EuiContextMenuPanel extends Component {\n  static defaultProps = {\n    hasFocus: true,\n    items: []\n  };\n  _isMounted = false;\n  backButton = null;\n  content = null;\n  panel = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      prevProps: {\n        items: this.props.items\n      },\n      menuItems: [],\n      focusedItemIndex: props.initialFocusedItemIndex,\n      currentHeight: undefined\n    };\n  }\n\n  incrementFocusedItemIndex = amount => {\n    let nextFocusedItemIndex;\n\n    if (this.state.focusedItemIndex === undefined) {\n      // If this is the beginning of the user's keyboard navigation of the menu, then we'll focus\n      // either the first or last item.\n      nextFocusedItemIndex = amount < 0 ? this.state.menuItems.length - 1 : 0;\n    } else {\n      nextFocusedItemIndex = this.state.focusedItemIndex + amount;\n\n      if (nextFocusedItemIndex < 0) {\n        nextFocusedItemIndex = this.state.menuItems.length - 1;\n      } else if (nextFocusedItemIndex === this.state.menuItems.length) {\n        nextFocusedItemIndex = 0;\n      }\n    }\n\n    this.setState({\n      focusedItemIndex: nextFocusedItemIndex\n    });\n  };\n  onKeyDown = event => {\n    // If this panel contains items you can use the left arrow key to go back at any time.\n    // But if it doesn't contain items, then you have to focus on the back button specifically,\n    // since there could be content inside the panel which requires use of the left arrow key,\n    // e.g. text inputs.\n    const {\n      items,\n      showPreviousPanel\n    } = this.props;\n\n    if (items && items.length || document.activeElement === this.backButton || document.activeElement === this.panel) {\n      if (event.key === cascadingMenuKeys.ARROW_LEFT) {\n        if (showPreviousPanel) {\n          event.preventDefault();\n          event.stopPropagation();\n          showPreviousPanel();\n\n          if (this.props.onUseKeyboardToNavigate) {\n            this.props.onUseKeyboardToNavigate();\n          }\n        }\n      }\n    }\n\n    if (this.props.items && this.props.items.length) {\n      switch (event.key) {\n        case cascadingMenuKeys.TAB:\n          // We need to sync up with the user if s/he is tabbing through the items.\n          const focusedItemIndex = this.state.menuItems.indexOf(document.activeElement);\n          this.setState({\n            focusedItemIndex: focusedItemIndex >= 0 && focusedItemIndex < this.state.menuItems.length ? focusedItemIndex : undefined\n          });\n          break;\n\n        case cascadingMenuKeys.ARROW_UP:\n          event.preventDefault();\n          this.incrementFocusedItemIndex(-1);\n\n          if (this.props.onUseKeyboardToNavigate) {\n            this.props.onUseKeyboardToNavigate();\n          }\n\n          break;\n\n        case cascadingMenuKeys.ARROW_DOWN:\n          event.preventDefault();\n          this.incrementFocusedItemIndex(1);\n\n          if (this.props.onUseKeyboardToNavigate) {\n            this.props.onUseKeyboardToNavigate();\n          }\n\n          break;\n\n        case cascadingMenuKeys.ARROW_RIGHT:\n          if (this.props.showNextPanel) {\n            event.preventDefault();\n            this.props.showNextPanel(this.state.focusedItemIndex);\n\n            if (this.props.onUseKeyboardToNavigate) {\n              this.props.onUseKeyboardToNavigate();\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }\n  };\n\n  updateFocus() {\n    // Give positioning time to render before focus is applied. Otherwise page jumps.\n    requestAnimationFrame(() => {\n      if (!this._isMounted) {\n        return;\n      } // If this panel has lost focus, then none of its content should be focused.\n\n\n      if (!this.props.hasFocus) {\n        if (this.panel && this.panel.contains(document.activeElement)) {\n          document.activeElement.blur();\n        }\n\n        return;\n      } // Setting focus while transitioning causes the animation to glitch, so we have to wait\n      // until it's finished before we focus anything.\n\n\n      if (this.props.transitionType) {\n        return;\n      } // `focusedItemIndex={-1}` specifies that the panel itself should be focused.\n      // This should only be used when the panel does not have `item`s\n      // and preventing autofocus is desired, which is an uncommon case.\n\n\n      if (this.panel && this.state.focusedItemIndex === -1) {\n        this.panel.focus();\n        return;\n      } // If there aren't any items then this is probably a form or something.\n\n\n      if (!this.state.menuItems.length) {\n        // If we've already focused on something inside the panel, everything's fine.\n        if (this.panel && this.panel.contains(document.activeElement)) {\n          return;\n        } // Otherwise let's focus the first tabbable item and expedite input from the user.\n\n\n        if (this.content) {\n          const tabbableItems = tabbable(this.content);\n\n          if (tabbableItems.length) {\n            tabbableItems[0].focus();\n          }\n        }\n\n        return;\n      } // If an item is focused, focus it.\n\n\n      if (this.state.focusedItemIndex !== undefined) {\n        this.state.menuItems[this.state.focusedItemIndex].focus();\n        return;\n      } // Focus on the panel as a last resort.\n\n\n      if (this.panel && !this.panel.contains(document.activeElement)) {\n        this.panel.focus();\n      }\n    });\n  }\n\n  onTransitionComplete = () => {\n    if (this.props.onTransitionComplete) {\n      this.props.onTransitionComplete();\n    }\n  };\n\n  componentDidMount() {\n    this.updateFocus();\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let needsUpdate = false;\n    const nextState = {}; // Clear refs to menuItems if we're getting new ones.\n\n    if (nextProps.items !== prevState.prevProps.items) {\n      needsUpdate = true;\n      nextState.menuItems = [];\n      nextState.prevProps = {\n        items: nextProps.items\n      };\n    }\n\n    if (needsUpdate) {\n      return nextState;\n    }\n\n    return null;\n  }\n\n  getWatchedPropsForItems(items) {\n    // This lets us compare prevProps and nextProps among items so we can re-render if our items\n    // have changed.\n    const {\n      watchedItemProps\n    } = this.props; // Create fingerprint of all item's watched properties\n\n    if (items.length && watchedItemProps && watchedItemProps.length) {\n      return JSON.stringify(items.map(item => {\n        // Create object of item properties and values\n        const props = {\n          key: item.key\n        };\n        watchedItemProps.forEach(prop => {\n          props[prop] = item.props[prop];\n        });\n        return props;\n      }));\n    }\n\n    return null;\n  }\n\n  didItemsChange(prevItems, nextItems) {\n    // If the count of items has changed then update\n    if (prevItems.length !== nextItems.length) {\n      return true;\n    } // Check if any watched item properties changed by quick string comparison\n\n\n    if (this.getWatchedPropsForItems(nextItems) !== this.getWatchedPropsForItems(prevItems)) {\n      return true;\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Prevent calling `this.updateFocus()` below if we don't have to.\n    if (nextProps.hasFocus !== this.props.hasFocus) {\n      return true;\n    }\n\n    if (nextProps.transitionType !== this.props.transitionType) {\n      return true;\n    }\n\n    if (nextState.focusedItemIndex !== this.state.focusedItemIndex) {\n      return true;\n    } // **\n    // this component should have either items or children,\n    // if there are items we can determine via `watchedItemProps` if we should update\n    // if there are children we can't know if they have changed so return true\n    // **\n\n\n    if (this.props.items && this.props.items.length > 0 || nextProps.items && nextProps.items.length > 0) {\n      if (this.didItemsChange(this.props.items, nextProps.items)) {\n        return true;\n      }\n    } // it's not possible (in any good way) to know if `children` has changed, assume they might have\n\n\n    if (this.props.children != null) {\n      return true;\n    }\n\n    return false;\n  }\n\n  updateHeight() {\n    const currentHeight = this.panel ? this.panel.clientHeight : 0;\n\n    if (this.state.height !== currentHeight) {\n      if (this.props.onHeightChange) {\n        this.props.onHeightChange(currentHeight);\n        this.setState({\n          height: currentHeight\n        });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    this.updateFocus();\n  }\n\n  menuItemRef = (index, node) => {\n    // There's a weird bug where if you navigate to a panel without items, then this callback\n    // is still invoked, so we have to do a truthiness check.\n    if (node) {\n      // Store all menu items.\n      this.state.menuItems[index] = node;\n    }\n  };\n  panelRef = node => {\n    this.panel = node;\n    this.updateHeight();\n  };\n  contentRef = node => {\n    this.content = node;\n  };\n\n  render() {\n    const {\n      children,\n      className,\n      onClose,\n      title,\n      onHeightChange,\n      transitionType,\n      transitionDirection,\n      onTransitionComplete,\n      onUseKeyboardToNavigate,\n      hasFocus,\n      items,\n      watchedItemProps,\n      initialFocusedItemIndex,\n      showNextPanel,\n      showPreviousPanel,\n      size,\n      ...rest\n    } = this.props;\n    let panelTitle;\n\n    if (title) {\n      const titleClasses = classNames('euiContextMenuPanelTitle', size && titleSizeToClassNameMap[size]);\n\n      if (Boolean(onClose)) {\n        panelTitle = <button className={titleClasses} type=\"button\" onClick={onClose} ref={node => {\n          this.backButton = node;\n        }} data-test-subj=\"contextMenuPanelTitleButton\">\n            <span className=\"euiContextMenu__itemLayout\">\n              <EuiIcon type=\"arrowLeft\" size=\"m\" className=\"euiContextMenu__icon\" />\n\n              <span className=\"euiContextMenu__text\">{title}</span>\n            </span>\n          </button>;\n      } else {\n        panelTitle = <div className={titleClasses}>\n            <span className=\"euiContextMenu__itemLayout\">{title}</span>\n          </div>;\n      }\n    }\n\n    const classes = classNames('euiContextMenuPanel', className, transitionDirection && transitionType && transitionDirectionAndTypeToClassNameMap[transitionDirection] ? transitionDirectionAndTypeToClassNameMap[transitionDirection][transitionType] : undefined);\n    const content = items && items.length ? items.map((MenuItem, index) => {\n      const cloneProps = {\n        buttonRef: node => this.menuItemRef(index, node)\n      };\n\n      if (size) {\n        cloneProps.size = size;\n      }\n\n      return MenuItem.type === EuiContextMenuItem ? cloneElement(MenuItem, cloneProps) : MenuItem;\n    }) : children;\n    return <div ref={this.panelRef} className={classes} onKeyDown={this.onKeyDown} tabIndex={-1} onAnimationEnd={this.onTransitionComplete} {...rest}>\n        {panelTitle}\n\n        <div ref={this.contentRef}>\n          <EuiResizeObserver onResize={() => this.updateHeight()}>\n            {resizeRef => <div ref={resizeRef}>{content}</div>}\n          </EuiResizeObserver>\n        </div>\n      </div>;\n  }\n\n}\nEuiContextMenuPanel.propTypes = {\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n  hasFocus: PropTypes.bool,\n  initialFocusedItemIndex: PropTypes.number,\n  items: PropTypes.arrayOf(PropTypes.element.isRequired),\n  onClose: PropTypes.func,\n  onHeightChange: PropTypes.func,\n  onTransitionComplete: PropTypes.func,\n  onUseKeyboardToNavigate: PropTypes.func,\n  showNextPanel: PropTypes.func,\n  showPreviousPanel: PropTypes.func,\n  title: PropTypes.node,\n  transitionDirection: PropTypes.oneOf([\"next\", \"previous\"]),\n  transitionType: PropTypes.oneOf([\"in\", \"out\"]),\n  watchedItemProps: PropTypes.arrayOf(PropTypes.string.isRequired),\n\n  /**\n     * Alters the size of the items and the title\n     */\n  size: PropTypes.any\n};\n\ntry {\n  EuiContextMenuPanel.__docgenInfo = {\n    description: '',\n    displayName: 'EuiContextMenuPanel',\n    methods: [],\n    props: {\n      className: {\n        defaultValue: null,\n        description: '',\n        name: 'className',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'aria-label': {\n        defaultValue: null,\n        description: 'Defines a string value that labels the current element.\\n' + '@see aria-labelledby.',\n        name: 'aria-label',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'data-test-subj': {\n        defaultValue: null,\n        description: '',\n        name: 'data-test-subj',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      hasFocus: {\n        defaultValue: {\n          value: 'true'\n        },\n        description: '',\n        name: 'hasFocus',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      initialFocusedItemIndex: {\n        defaultValue: null,\n        description: '',\n        name: 'initialFocusedItemIndex',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      items: {\n        defaultValue: {\n          value: '[]'\n        },\n        description: '',\n        name: 'items',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'ReactElement[]'\n        }\n      },\n      onClose: {\n        defaultValue: null,\n        description: '',\n        name: 'onClose',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'NoArgCallback<void>'\n        }\n      },\n      onHeightChange: {\n        defaultValue: null,\n        description: '',\n        name: 'onHeightChange',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'EuiContextMenuPanelHeightChangeHandler'\n        }\n      },\n      onTransitionComplete: {\n        defaultValue: null,\n        description: '',\n        name: 'onTransitionComplete',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'NoArgCallback<void>'\n        }\n      },\n      onUseKeyboardToNavigate: {\n        defaultValue: null,\n        description: '',\n        name: 'onUseKeyboardToNavigate',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'NoArgCallback<void>'\n        }\n      },\n      showNextPanel: {\n        defaultValue: null,\n        description: '',\n        name: 'showNextPanel',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'EuiContextMenuPanelShowPanelCallback'\n        }\n      },\n      showPreviousPanel: {\n        defaultValue: null,\n        description: '',\n        name: 'showPreviousPanel',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'NoArgCallback<void>'\n        }\n      },\n      title: {\n        defaultValue: null,\n        description: '',\n        name: 'title',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'ReactNode'\n        }\n      },\n      transitionDirection: {\n        defaultValue: null,\n        description: '',\n        name: 'transitionDirection',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: 'EuiContextMenuPanelTransitionDirection',\n          value: [{\n            value: '\"next\"'\n          }, {\n            value: '\"previous\"'\n          }]\n        }\n      },\n      transitionType: {\n        defaultValue: null,\n        description: '',\n        name: 'transitionType',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: 'EuiContextMenuPanelTransitionType',\n          value: [{\n            value: '\"in\"'\n          }, {\n            value: '\"out\"'\n          }]\n        }\n      },\n      watchedItemProps: {\n        defaultValue: null,\n        description: '',\n        name: 'watchedItemProps',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'string[]'\n        }\n      },\n      size: {\n        defaultValue: null,\n        description: 'Alters the size of the items and the title',\n        name: 'size',\n        parent: {\n          fileName: 'eui/src/components/context_menu/context_menu_panel.tsx',\n          name: 'EuiContextMenuPanelProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: '\"s\" | \"m\"',\n          value: [{\n            value: '\"s\"'\n          }, {\n            value: '\"m\"'\n          }]\n        }\n      }\n    },\n    extendedInterfaces: ['CommonProps', 'HTMLAttributes', 'AriaAttributes', 'DOMAttributes', 'EuiContextMenuPanelProps']\n  };\n} catch (e) {}"]}]}