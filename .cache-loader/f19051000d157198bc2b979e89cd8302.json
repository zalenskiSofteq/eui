{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\services\\hooks\\useMouseMove.ts","dependencies":[{"path":"D:\\work\\eui\\src\\services\\hooks\\useMouseMove.ts","mtime":1649070093835},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyAiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2YiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCi8qCiAqIExpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvcgogKiBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodAogKiBvd25lcnNoaXAuIEVsYXN0aWNzZWFyY2ggQi5WLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyCiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5CiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwppbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdGhyb3R0bGUnOwpleHBvcnQgZnVuY3Rpb24gaXNNb3VzZUV2ZW50KGV2ZW50KSB7CiAgcmV0dXJuIF90eXBlb2YoZXZlbnQpID09PSAnb2JqZWN0JyAmJiAncGFnZVgnIGluIGV2ZW50ICYmICdwYWdlWScgaW4gZXZlbnQ7Cn0KZXhwb3J0IGZ1bmN0aW9uIHVzZU1vdXNlTW92ZShoYW5kbGVDaGFuZ2UpIHsKICB2YXIgaW50ZXJhY3Rpb25Db25kaXRpb25hbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHVuYmluZEV2ZW50TGlzdGVuZXJzOwogIH0sIFtdKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMKCiAgdmFyIGhhbmRsZUludGVyYWN0aW9uID0gZnVuY3Rpb24gaGFuZGxlSW50ZXJhY3Rpb24oZSwgaXNGaXJzdEludGVyYWN0aW9uKSB7CiAgICBpZiAoZSkgewogICAgICBpZiAoaW50ZXJhY3Rpb25Db25kaXRpb25hbCkgewogICAgICAgIHZhciB4ID0gaXNNb3VzZUV2ZW50KGUpID8gZS5wYWdlWCA6IGUudG91Y2hlc1swXS5wYWdlWDsKICAgICAgICB2YXIgeSA9IGlzTW91c2VFdmVudChlKSA/IGUucGFnZVkgOiBlLnRvdWNoZXNbMF0ucGFnZVk7CiAgICAgICAgaGFuZGxlQ2hhbmdlKHsKICAgICAgICAgIHg6IHgsCiAgICAgICAgICB5OiB5CiAgICAgICAgfSwgaXNGaXJzdEludGVyYWN0aW9uKTsKICAgICAgfQogICAgfQogIH07CgogIHZhciBoYW5kbGVNb3VzZU1vdmUgPSB0aHJvdHRsZShmdW5jdGlvbiAoZSkgewogICAgaGFuZGxlQ2hhbmdlKHsKICAgICAgeDogZS5wYWdlWCwKICAgICAgeTogZS5wYWdlWQogICAgfSwgZmFsc2UpOwogIH0pOwoKICB2YXIgaGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGUpIHsKICAgIGhhbmRsZUludGVyYWN0aW9uKGUsIHRydWUpOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB1bmJpbmRFdmVudExpc3RlbmVycyk7CiAgfTsKCiAgdmFyIHVuYmluZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gdW5iaW5kRXZlbnRMaXN0ZW5lcnMoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHVuYmluZEV2ZW50TGlzdGVuZXJzKTsKICB9OwoKICByZXR1cm4gW2hhbmRsZU1vdXNlRG93biwgaGFuZGxlSW50ZXJhY3Rpb25dOwp9Cgp0cnkgewogIGlzTW91c2VFdmVudC5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ2lzTW91c2VFdmVudCcsCiAgICBtZXRob2RzOiBbXSwKICAgIHByb3BzOiB7fSwKICAgIGV4dGVuZGVkSW50ZXJmYWNlczogWydNb3VzZUV2ZW50JywgJ1VJRXZlbnQnLCAnQmFzZVN5bnRoZXRpY0V2ZW50JywgJ1RvdWNoRXZlbnQnXQogIH07Cn0gY2F0Y2ggKGUpIHt9"},{"version":3,"sources":["D:/work/eui/src/services/hooks/useMouseMove.ts"],"names":["useEffect","throttle","isMouseEvent","event","useMouseMove","handleChange","interactionConditional","unbindEventListeners","handleInteraction","e","isFirstInteraction","x","pageX","touches","y","pageY","handleMouseMove","handleMouseDown","document","addEventListener","removeEventListener"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAiCA,SAAjC,QAAkD,OAAlD;AACA,SAASC,QAAT,QAAyB,yBAAzB;AAEA,OAAO,SAASC,YAAT,CACLC,KADK,EAEmB;AACxB,SAAO,QAAOA,KAAP,MAAiB,QAAjB,IAA6B,WAAWA,KAAxC,IAAiD,WAAWA,KAAnE;AACD;AAED,OAAO,SAASC,YAAT,CACLC,YADK,EASL;AAAA,MAJAC,sBAIA,uEAJ8B,IAI9B;AACAN,EAAAA,SAAS,CAAC,YAAM;AACd,WAAOO,oBAAP;AACD,GAFQ,EAEN,EAFM,CAAT,CADA,CAGQ;;AACR,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CACxBC,CADwB,EAExBC,kBAFwB,EAGrB;AACH,QAAID,CAAJ,EAAO;AACL,UAAIH,sBAAJ,EAA4B;AAC1B,YAAMK,CAAC,GAAGT,YAAY,CAAIO,CAAJ,CAAZ,GAAqBA,CAAC,CAACG,KAAvB,GAA+BH,CAAC,CAACI,OAAF,CAAU,CAAV,EAAaD,KAAtD;AACA,YAAME,CAAC,GAAGZ,YAAY,CAAIO,CAAJ,CAAZ,GAAqBA,CAAC,CAACM,KAAvB,GAA+BN,CAAC,CAACI,OAAF,CAAU,CAAV,EAAaE,KAAtD;AACAV,QAAAA,YAAY,CAAC;AAAEM,UAAAA,CAAC,EAADA,CAAF;AAAKG,UAAAA,CAAC,EAADA;AAAL,SAAD,EAAWJ,kBAAX,CAAZ;AACD;AACF;AACF,GAXD;;AAYA,MAAMM,eAAe,GAAGf,QAAQ,CAAC,UAACQ,CAAD,EAAmB;AAClDJ,IAAAA,YAAY,CAAC;AAAEM,MAAAA,CAAC,EAAEF,CAAC,CAACG,KAAP;AAAcE,MAAAA,CAAC,EAAEL,CAAC,CAACM;AAAnB,KAAD,EAA6B,KAA7B,CAAZ;AACD,GAF+B,CAAhC;;AAGA,MAAME,eAAe,GAAG,SAAlBA,eAAkB,CAACR,CAAD,EAAsB;AAC5CD,IAAAA,iBAAiB,CAACC,CAAD,EAAI,IAAJ,CAAjB;AACAS,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCH,eAAvC;AACAE,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCZ,oBAArC;AACD,GAJD;;AAKA,MAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACjCW,IAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CJ,eAA1C;AACAE,IAAAA,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCb,oBAAxC;AACD,GAHD;;AAKA,SAAO,CAACU,eAAD,EAAkBT,iBAAlB,CAAP;AACD","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { MouseEvent, TouchEvent, useEffect } from 'react';\nimport { throttle } from '../../services/throttle';\n\nexport function isMouseEvent<T = HTMLDivElement>(\n  event: MouseEvent<T> | TouchEvent<T>\n): event is MouseEvent<T> {\n  return typeof event === 'object' && 'pageX' in event && 'pageY' in event;\n}\n\nexport function useMouseMove<T = HTMLDivElement>(\n  handleChange: (\n    location: { x: number; y: number },\n    isFirstInteraction?: boolean\n  ) => void,\n  interactionConditional: any = true\n): [\n  (e: MouseEvent<T>) => void,\n  (e: MouseEvent<T> | TouchEvent<T>, isFirstInteraction?: boolean) => void\n] {\n  useEffect(() => {\n    return unbindEventListeners;\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  const handleInteraction = (\n    e: MouseEvent<T> | TouchEvent<T>,\n    isFirstInteraction?: boolean\n  ) => {\n    if (e) {\n      if (interactionConditional) {\n        const x = isMouseEvent<T>(e) ? e.pageX : e.touches[0].pageX;\n        const y = isMouseEvent<T>(e) ? e.pageY : e.touches[0].pageY;\n        handleChange({ x, y }, isFirstInteraction);\n      }\n    }\n  };\n  const handleMouseMove = throttle((e: MouseEvent) => {\n    handleChange({ x: e.pageX, y: e.pageY }, false);\n  });\n  const handleMouseDown = (e: MouseEvent<T>) => {\n    handleInteraction(e, true);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', unbindEventListeners);\n  };\n  const unbindEventListeners = () => {\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', unbindEventListeners);\n  };\n\n  return [handleMouseDown, handleInteraction];\n}\n"]}]}