{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\markdown_editor\\markdown_editor.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\markdown_editor\\markdown_editor.tsx","mtime":1649070093701},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWZsb2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwoKZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiAoX2UyKSB7IGZ1bmN0aW9uIGUoX3gpIHsgcmV0dXJuIF9lMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfZTIudG9TdHJpbmcoKTsgfTsgcmV0dXJuIGU7IH0oZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIChfZTMpIHsgZnVuY3Rpb24gZShfeDIpIHsgcmV0dXJuIF9lMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfZTMudG9TdHJpbmcoKTsgfTsgcmV0dXJuIGU7IH0oZnVuY3Rpb24gKGUpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gZTsgfSksIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KCmltcG9ydCBQcm9wVHlwZXMgZnJvbSAicHJvcC10eXBlcyI7CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgovKgogKiBMaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IKICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQKICogb3duZXJzaGlwLiBFbGFzdGljc2VhcmNoIEIuVi4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlcgogKiB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heQogKiBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUVsZW1lbnQsIHVzZUVmZmVjdCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlTWVtbywgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB1bmlmaWVkIGZyb20gJ3VuaWZpZWQnOwppbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJzsKaW1wb3J0IE1hcmtkb3duQWN0aW9ucywgeyBpbnNlcnRUZXh0IGFzIF9pbnNlcnRUZXh0IH0gZnJvbSAnLi9tYXJrZG93bl9hY3Rpb25zJzsKaW1wb3J0IHsgRXVpTWFya2Rvd25FZGl0b3JUb29sYmFyIH0gZnJvbSAnLi9tYXJrZG93bl9lZGl0b3JfdG9vbGJhcic7CmltcG9ydCB7IEV1aU1hcmtkb3duRWRpdG9yVGV4dEFyZWEgfSBmcm9tICcuL21hcmtkb3duX2VkaXRvcl90ZXh0X2FyZWEnOwppbXBvcnQgeyBFdWlNYXJrZG93bkZvcm1hdCB9IGZyb20gJy4vbWFya2Rvd25fZm9ybWF0JzsKaW1wb3J0IHsgRXVpTWFya2Rvd25FZGl0b3JEcm9wWm9uZSB9IGZyb20gJy4vbWFya2Rvd25fZWRpdG9yX2Ryb3Bfem9uZSc7CmltcG9ydCB7IGh0bWxJZEdlbmVyYXRvciB9IGZyb20gJy4uLy4uL3NlcnZpY2VzLyc7CmltcG9ydCB7IE1PREVfRURJVElORywgTU9ERV9WSUVXSU5HIH0gZnJvbSAnLi9tYXJrZG93bl9tb2Rlcyc7CmltcG9ydCB7IEV1aU1vZGFsIH0gZnJvbSAnLi4vbW9kYWwnOwppbXBvcnQgeyBFdWlNYXJrZG93bkNvbnRleHQgfSBmcm9tICcuL21hcmtkb3duX2NvbnRleHQnOwppbXBvcnQgKiBhcyBNYXJrZG93blRvb2x0aXAgZnJvbSAnLi9wbHVnaW5zL21hcmtkb3duX3Rvb2x0aXAnOwppbXBvcnQgeyBkZWZhdWx0UGFyc2luZ1BsdWdpbnMsIGRlZmF1bHRQcm9jZXNzaW5nUGx1Z2lucywgZGVmYXVsdFVpUGx1Z2lucyB9IGZyb20gJy4vcGx1Z2lucy9tYXJrZG93bl9kZWZhdWx0X3BsdWdpbnMnOwppbXBvcnQgeyBFdWlSZXNpemVPYnNlcnZlciB9IGZyb20gJy4uL29ic2VydmVyL3Jlc2l6ZV9vYnNlcnZlcic7CgovLyBUT0RPIEkgd2FudGVkIHRvIHVzZSB0aGUgdXNlQ29tYmluZWRSZWZzCi8vIGJ1dCBJIGNhbid0IGJlY2F1c2UgaXQncyBub3QgYWxsb3dlZCB0byB1c2UgcmVhY3QgaG9va3MKLy8gaW5zaWRlIGEgY2FsbGJhY2suCnZhciBtZXJnZVJlZnMgPSBmdW5jdGlvbiBtZXJnZVJlZnMoKSB7CiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlZnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICByZWZzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogIH0KCiAgdmFyIGZpbHRlcmVkUmVmcyA9IHJlZnMuZmlsdGVyKEJvb2xlYW4pOwogIGlmICghZmlsdGVyZWRSZWZzLmxlbmd0aCkgcmV0dXJuIG51bGw7CiAgaWYgKGZpbHRlcmVkUmVmcy5sZW5ndGggPT09IDApIHJldHVybiBmaWx0ZXJlZFJlZnNbMF07CiAgcmV0dXJuIGZ1bmN0aW9uIChpbnN0KSB7CiAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZmlsdGVyZWRSZWZzKSwKICAgICAgICBfc3RlcDsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgIHZhciByZWYgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHJlZihpbnN0KTsKICAgICAgICB9IGVsc2UgaWYgKHJlZikgewogICAgICAgICAgcmVmLmN1cnJlbnQgPSBpbnN0OwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQogIH07Cn07CgpmdW5jdGlvbiBpc05ld0xpbmUoY2hhcikgewogIGlmIChjaGFyID09IG51bGwpIHJldHVybiB0cnVlOwogIHJldHVybiAhIWNoYXIubWF0Y2goL1tcclxuXS8pOwp9CgpmdW5jdGlvbiBwYWRXaXRoTmV3bGluZXNJZk5lZWRlZCh0ZXh0YXJlYSwgdGV4dCkgewogIHZhciBzZWxlY3Rpb25TdGFydCA9IHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0OwogIHZhciBzZWxlY3Rpb25FbmQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQ7IC8vIGJsb2NrIHBhcnNpbmcgcmVxdWlyZXMgdHdvIGxlYWRpbmcgbmV3IGxpbmVzIGFuZCBub25lIHRyYWlsaW5nLCBidXQgd2UgYWRkIGFuIGV4dHJhIHRyYWlsaW5nIGxpbmUgZm9yIHJlYWRhYmlsaXR5CgogIHZhciBpc1ByZXZOZXdMaW5lID0gaXNOZXdMaW5lKHRleHRhcmVhLnZhbHVlW3NlbGVjdGlvblN0YXJ0IC0gMV0pOwogIHZhciBpc1ByZXZQcmV2TmV3TGluZSA9IGlzTmV3TGluZSh0ZXh0YXJlYS52YWx1ZVtzZWxlY3Rpb25TdGFydCAtIDJdKTsKICB2YXIgaXNOZXh0TmV3TGluZSA9IGlzTmV3TGluZSh0ZXh0YXJlYS52YWx1ZVtzZWxlY3Rpb25FbmRdKTsgLy8gcGFkIHRleHQgd2l0aCBuZXdsaW5lcyBhcyBuZWVkZWQKCiAgdGV4dCA9ICIiLmNvbmNhdChpc1ByZXZOZXdMaW5lID8gJycgOiAnXG4nKS5jb25jYXQoaXNQcmV2UHJldk5ld0xpbmUgPyAnJyA6ICdcbicpLmNvbmNhdCh0ZXh0KS5jb25jYXQoaXNOZXh0TmV3TGluZSA/ICcnIDogJ1xuJyk7CiAgcmV0dXJuIHRleHQ7Cn0KCmV4cG9ydCB2YXIgRXVpTWFya2Rvd25FZGl0b3IgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7CiAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLAogICAgICBfZWRpdG9ySWQgPSBfcmVmLmVkaXRvcklkLAogICAgICB2YWx1ZSA9IF9yZWYudmFsdWUsCiAgICAgIF9vbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsCiAgICAgIF9yZWYkaGVpZ2h0ID0gX3JlZi5oZWlnaHQsCiAgICAgIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB2b2lkIDAgPyAyNTAgOiBfcmVmJGhlaWdodCwKICAgICAgX3JlZiRtYXhIZWlnaHQgPSBfcmVmLm1heEhlaWdodCwKICAgICAgbWF4SGVpZ2h0ID0gX3JlZiRtYXhIZWlnaHQgPT09IHZvaWQgMCA/IDUwMCA6IF9yZWYkbWF4SGVpZ2h0LAogICAgICBfcmVmJGF1dG9FeHBhbmRQcmV2aWUgPSBfcmVmLmF1dG9FeHBhbmRQcmV2aWV3LAogICAgICBhdXRvRXhwYW5kUHJldmlldyA9IF9yZWYkYXV0b0V4cGFuZFByZXZpZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkYXV0b0V4cGFuZFByZXZpZSwKICAgICAgX3JlZiRwYXJzaW5nUGx1Z2luTGlzID0gX3JlZi5wYXJzaW5nUGx1Z2luTGlzdCwKICAgICAgcGFyc2luZ1BsdWdpbkxpc3QgPSBfcmVmJHBhcnNpbmdQbHVnaW5MaXMgPT09IHZvaWQgMCA/IGRlZmF1bHRQYXJzaW5nUGx1Z2lucyA6IF9yZWYkcGFyc2luZ1BsdWdpbkxpcywKICAgICAgX3JlZiRwcm9jZXNzaW5nUGx1Z2luID0gX3JlZi5wcm9jZXNzaW5nUGx1Z2luTGlzdCwKICAgICAgcHJvY2Vzc2luZ1BsdWdpbkxpc3QgPSBfcmVmJHByb2Nlc3NpbmdQbHVnaW4gPT09IHZvaWQgMCA/IGRlZmF1bHRQcm9jZXNzaW5nUGx1Z2lucyA6IF9yZWYkcHJvY2Vzc2luZ1BsdWdpbiwKICAgICAgX3JlZiR1aVBsdWdpbnMgPSBfcmVmLnVpUGx1Z2lucywKICAgICAgdWlQbHVnaW5zID0gX3JlZiR1aVBsdWdpbnMgPT09IHZvaWQgMCA/IGRlZmF1bHRVaVBsdWdpbnMgOiBfcmVmJHVpUGx1Z2lucywKICAgICAgb25QYXJzZSA9IF9yZWYub25QYXJzZSwKICAgICAgX3JlZiRlcnJvcnMgPSBfcmVmLmVycm9ycywKICAgICAgZXJyb3JzID0gX3JlZiRlcnJvcnMgPT09IHZvaWQgMCA/IFtdIDogX3JlZiRlcnJvcnMsCiAgICAgIGFyaWFMYWJlbCA9IF9yZWZbJ2FyaWEtbGFiZWwnXSwKICAgICAgYXJpYUxhYmVsbGVkQnkgPSBfcmVmWydhcmlhLWxhYmVsbGVkYnknXSwKICAgICAgYXJpYURlc2NyaWJlZEJ5ID0gX3JlZlsnYXJpYS1kZXNjcmliZWRieSddLAogICAgICBfcmVmJGluaXRpYWxWaWV3TW9kZSA9IF9yZWYuaW5pdGlhbFZpZXdNb2RlLAogICAgICBpbml0aWFsVmlld01vZGUgPSBfcmVmJGluaXRpYWxWaWV3TW9kZSA9PT0gdm9pZCAwID8gTU9ERV9FRElUSU5HIDogX3JlZiRpbml0aWFsVmlld01vZGUsCiAgICAgIF9yZWYkZHJvcEhhbmRsZXJzID0gX3JlZi5kcm9wSGFuZGxlcnMsCiAgICAgIGRyb3BIYW5kbGVycyA9IF9yZWYkZHJvcEhhbmRsZXJzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkZHJvcEhhbmRsZXJzLAogICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsiY2xhc3NOYW1lIiwgImVkaXRvcklkIiwgInZhbHVlIiwgIm9uQ2hhbmdlIiwgImhlaWdodCIsICJtYXhIZWlnaHQiLCAiYXV0b0V4cGFuZFByZXZpZXciLCAicGFyc2luZ1BsdWdpbkxpc3QiLCAicHJvY2Vzc2luZ1BsdWdpbkxpc3QiLCAidWlQbHVnaW5zIiwgIm9uUGFyc2UiLCAiZXJyb3JzIiwgImFyaWEtbGFiZWwiLCAiYXJpYS1sYWJlbGxlZGJ5IiwgImFyaWEtZGVzY3JpYmVkYnkiLCAiaW5pdGlhbFZpZXdNb2RlIiwgImRyb3BIYW5kbGVycyJdKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGluaXRpYWxWaWV3TW9kZSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICB2aWV3TW9kZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldFZpZXdNb2RlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIGVkaXRvcklkID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX2VkaXRvcklkIHx8IGh0bWxJZEdlbmVyYXRvcigpKCk7CiAgfSwgW19lZGl0b3JJZF0pOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKHVuZGVmaW5lZCksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgcGx1Z2luRWRpdG9yUGx1Z2luID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0UGx1Z2luRWRpdG9yUGx1Z2luID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIHRvb2xiYXJQbHVnaW5zID0gX3RvQ29uc3VtYWJsZUFycmF5KHVpUGx1Z2lucyk7IC8vIEB0cy1pZ25vcmUgX19vcmlnaW5hdGVkRnJvbUV1aSBpcyBhIGN1c3RvbSBwcm9wZXJ0eQoKCiAgaWYgKCF1aVBsdWdpbnMuX19vcmlnaW5hdGVkRnJvbUV1aSkgewogICAgdG9vbGJhclBsdWdpbnMudW5zaGlmdChNYXJrZG93blRvb2x0aXAucGx1Z2luKTsKICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogdWlQbHVnaW5zIHBhc3NlZCB0byBFdWlNYXJrZG93bkVkaXRvciBkb2VzIG5vdCBpbmNsdWRlIHRoZSB0b29sdGlwIHBsdWdpbiwgd2hpY2ggaGFzIGJlZW4gYWRkZWQgZm9yIHlvdS4gVGhpcyBhdXRvbWF0aWMgaW5jbHVzaW9uIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsYXN0aWMvZXVpL3B1bGwvNDM4MycpOwogIH0KCiAgdmFyIG1hcmtkb3duQWN0aW9ucyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG5ldyBNYXJrZG93bkFjdGlvbnMoZWRpdG9ySWQsIHRvb2xiYXJQbHVnaW5zKTsKICB9LCAvLyB0b29sYmFyUGx1Z2lucyBfaXNfIGFjY291bnRlZCBmb3IKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzCiAgW2VkaXRvcklkLCB0b29sYmFyUGx1Z2lucy5tYXAoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgbmFtZSA9IF9yZWYyLm5hbWU7CiAgICByZXR1cm4gbmFtZTsKICB9KS5qb2luKCcsJyldKTsKICB2YXIgcGFyc2VyID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICB2YXIgQ29tcGlsZXIgPSBmdW5jdGlvbiBDb21waWxlcih0cmVlKSB7CiAgICAgIHJldHVybiB0cmVlOwogICAgfTsKCiAgICBmdW5jdGlvbiBpZGVudGl0eUNvbXBpbGVyKCkgewogICAgICB0aGlzLkNvbXBpbGVyID0gQ29tcGlsZXI7CiAgICB9CgogICAgcmV0dXJuIHVuaWZpZWQoKS51c2UocGFyc2luZ1BsdWdpbkxpc3QpLnVzZShpZGVudGl0eUNvbXBpbGVyKTsKICB9LCBbcGFyc2luZ1BsdWdpbkxpc3RdKTsKCiAgdmFyIF91c2VNZW1vID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICB0cnkgewogICAgICB2YXIgX3BhcnNlZCA9IHBhcnNlci5wcm9jZXNzU3luYyh2YWx1ZSk7CgogICAgICByZXR1cm4gW19wYXJzZWQsIG51bGxdOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gW251bGwsIGVdOwogICAgfQogIH0sIFtwYXJzZXIsIHZhbHVlXSksCiAgICAgIF91c2VNZW1vMiA9IF9zbGljZWRUb0FycmF5KF91c2VNZW1vLCAyKSwKICAgICAgcGFyc2VkID0gX3VzZU1lbW8yWzBdLAogICAgICBwYXJzZUVycm9yID0gX3VzZU1lbW8yWzFdOwoKICB2YXIgaXNQcmV2aWV3aW5nID0gdmlld01vZGUgPT09IE1PREVfVklFV0lORzsKICB2YXIgaXNFZGl0aW5nID0gdmlld01vZGUgPT09IE1PREVfRURJVElORzsKICB2YXIgcmVwbGFjZU5vZGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocG9zaXRpb24sIG5leHQpIHsKICAgIHZhciBsZWFkaW5nID0gdmFsdWUuc3Vic3RyKDAsIHBvc2l0aW9uLnN0YXJ0Lm9mZnNldCk7CiAgICB2YXIgdHJhaWxpbmcgPSB2YWx1ZS5zdWJzdHIocG9zaXRpb24uZW5kLm9mZnNldCk7CgogICAgX29uQ2hhbmdlKCIiLmNvbmNhdChsZWFkaW5nKS5jb25jYXQobmV4dCkuY29uY2F0KHRyYWlsaW5nKSk7CiAgfSwgW3ZhbHVlLCBfb25DaGFuZ2VdKTsKICB2YXIgY29udGV4dFZhbHVlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVuUGx1Z2luRWRpdG9yOiBmdW5jdGlvbiBvcGVuUGx1Z2luRWRpdG9yKHBsdWdpbikgewogICAgICAgIHJldHVybiBzZXRQbHVnaW5FZGl0b3JQbHVnaW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHBsdWdpbjsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcmVwbGFjZU5vZGU6IHJlcGxhY2VOb2RlCiAgICB9OwogIH0sIFtyZXBsYWNlTm9kZV0pOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2VsZWN0ZWROb2RlID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0U2VsZWN0ZWROb2RlID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIHRleHRhcmVhUmVmID0gdXNlUmVmKG51bGwpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAodGV4dGFyZWFSZWYgPT0gbnVsbCkgcmV0dXJuOwogICAgaWYgKHBhcnNlZCA9PSBudWxsKSByZXR1cm47CgogICAgdmFyIGdldEN1cnNvck5vZGUgPSBmdW5jdGlvbiBnZXRDdXJzb3JOb2RlKCkgewogICAgICB2YXIgX3BhcnNlZCRyZXN1bHQ7CgogICAgICB2YXIgX3JlZjMgPSB0ZXh0YXJlYVJlZi5jdXJyZW50LAogICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSBfcmVmMy5zZWxlY3Rpb25TdGFydDsKICAgICAgdmFyIG5vZGUgPSAoX3BhcnNlZCRyZXN1bHQgPSBwYXJzZWQucmVzdWx0KSAhPT0gbnVsbCAmJiBfcGFyc2VkJHJlc3VsdCAhPT0gdm9pZCAwID8gX3BhcnNlZCRyZXN1bHQgOiBwYXJzZWQuY29udGVudHM7CgogICAgICBvdXRlcjogd2hpbGUgKHRydWUpIHsKICAgICAgICBpZiAobm9kZS5jaGlsZHJlbikgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07CgogICAgICAgICAgICBpZiAoY2hpbGQucG9zaXRpb24uc3RhcnQub2Zmc2V0IDwgc2VsZWN0aW9uU3RhcnQgJiYgc2VsZWN0aW9uU3RhcnQgPCBjaGlsZC5wb3NpdGlvbi5lbmQub2Zmc2V0KSB7CiAgICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09ICd0ZXh0JykgYnJlYWsgb3V0ZXI7IC8vIGRvbid0IGRpdmUgaW50byBgdGV4dGAgbm9kZXMKCiAgICAgICAgICAgICAgbm9kZSA9IGNoaWxkOwogICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgc2V0U2VsZWN0ZWROb2RlKG5vZGUpOwogICAgfTsKCiAgICB2YXIgdGV4dGFyZWEgPSB0ZXh0YXJlYVJlZi5jdXJyZW50OwogICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBnZXRDdXJzb3JOb2RlKTsKICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBnZXRDdXJzb3JOb2RlKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHRleHRhcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZ2V0Q3Vyc29yTm9kZSk7CiAgICAgIHRleHRhcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBnZXRDdXJzb3JOb2RlKTsKICAgIH07CiAgfSwgW3BhcnNlZF0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAob25QYXJzZSkgewogICAgICB2YXIgX3BhcnNlZCRyZXN1bHQyOwoKICAgICAgdmFyIG1lc3NhZ2VzID0gcGFyc2VkID8gcGFyc2VkLm1lc3NhZ2VzIDogW107CiAgICAgIHZhciBhc3QgPSBwYXJzZWQgPyAoX3BhcnNlZCRyZXN1bHQyID0gcGFyc2VkLnJlc3VsdCkgIT09IG51bGwgJiYgX3BhcnNlZCRyZXN1bHQyICE9PSB2b2lkIDAgPyBfcGFyc2VkJHJlc3VsdDIgOiBwYXJzZWQuY29udGVudHMgOiBudWxsOwogICAgICBvblBhcnNlKHBhcnNlRXJyb3IsIHsKICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMsCiAgICAgICAgYXN0OiBhc3QKICAgICAgfSk7CiAgICB9CiAgfSwgW29uUGFyc2UsIHBhcnNlZCwgcGFyc2VFcnJvcl0pOwogIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICB0ZXh0YXJlYTogdGV4dGFyZWFSZWYuY3VycmVudCwKICAgICAgcmVwbGFjZU5vZGU6IHJlcGxhY2VOb2RlCiAgICB9OwogIH0sIFtyZXBsYWNlTm9kZV0pOwogIHZhciB0ZXh0YXJlYSA9IHRleHRhcmVhUmVmLmN1cnJlbnQ7CiAgdmFyIHByZXZpZXdSZWYgPSB1c2VSZWYobnVsbCk7CiAgdmFyIGVkaXRvclRvb2xiYXJSZWYgPSB1c2VSZWYobnVsbCk7CgogIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksCiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLAogICAgICBoYXNVbmFjY2VwdGVkSXRlbXMgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLAogICAgICBzZXRIYXNVbmFjY2VwdGVkSXRlbXMgPSBfUmVhY3QkdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlNyA9IHVzZVN0YXRlKGhlaWdodCksCiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSwKICAgICAgY3VycmVudEhlaWdodCA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldEN1cnJlbnRIZWlnaHQgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgX3VzZVN0YXRlOSA9IHVzZVN0YXRlKDApLAogICAgICBfdXNlU3RhdGUxMCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTksIDIpLAogICAgICBlZGl0b3JGb290ZXJIZWlnaHQgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0RWRpdG9yRm9vdGVySGVpZ2h0ID0gX3VzZVN0YXRlMTBbMV07CgogIHZhciBfdXNlU3RhdGUxMSA9IHVzZVN0YXRlKDApLAogICAgICBfdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTExLCAyKSwKICAgICAgZWRpdG9yVG9vbGJhckhlaWdodCA9IF91c2VTdGF0ZTEyWzBdLAogICAgICBzZXRFZGl0b3JUb29sYmFySGVpZ2h0ID0gX3VzZVN0YXRlMTJbMV07CgogIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lcygnZXVpTWFya2Rvd25FZGl0b3InLCB7CiAgICAnZXVpTWFya2Rvd25FZGl0b3ItLWZ1bGxIZWlnaHQnOiBoZWlnaHQgPT09ICdmdWxsJwogIH0sIHsKICAgICdldWlNYXJrZG93bkVkaXRvci0taXNQcmV2aWV3aW5nJzogaXNQcmV2aWV3aW5nCiAgfSwgY2xhc3NOYW1lKTsKCiAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24gb25SZXNpemUoKSB7CiAgICBpZiAodGV4dGFyZWEgJiYgaXNFZGl0aW5nICYmIGhlaWdodCAhPT0gJ2Z1bGwnKSB7CiAgICAgIHZhciByZXNpemVkVGV4dGFyZWFIZWlnaHQgPSB0ZXh0YXJlYS5vZmZzZXRIZWlnaHQgKyBlZGl0b3JGb290ZXJIZWlnaHQ7CiAgICAgIHNldEN1cnJlbnRIZWlnaHQocmVzaXplZFRleHRhcmVhSGVpZ2h0KTsKICAgIH0KICB9OwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgc2V0RWRpdG9yVG9vbGJhckhlaWdodChlZGl0b3JUb29sYmFyUmVmLmN1cnJlbnQub2Zmc2V0SGVpZ2h0KTsKICB9LCBbc2V0RWRpdG9yVG9vbGJhckhlaWdodF0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaXNQcmV2aWV3aW5nICYmIGF1dG9FeHBhbmRQcmV2aWV3ICYmIGhlaWdodCAhPT0gJ2Z1bGwnKSB7CiAgICAgIGlmIChwcmV2aWV3UmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0ID4gY3VycmVudEhlaWdodCkgewogICAgICAgIC8vIHNjcm9sbEhlaWdodCBkb2VzIG5vdCBpbmNsdWRlIHRoZSBib3JkZXIgb3IgbWFyZ2luCiAgICAgICAgLy8gc28gd2UgYXNrIGZvciB0aGUgY29tcHV0ZWQgdmFsdWUgZm9yIHRob3NlLAogICAgICAgIC8vIHdoaWNoIGlzIGFsd2F5cyBpbiBwaXhlbHMgYmVjYXVzZSBnZXRDb21wdXRlZFZhbHVlCiAgICAgICAgLy8gcmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWVzCiAgICAgICAgdmFyIGVsZW1lbnRDb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocHJldmlld1JlZi5jdXJyZW50KTsKICAgICAgICB2YXIgYm9yZGVyV2lkdGggPSBwYXJzZUZsb2F0KGVsZW1lbnRDb21wdXRlZFN0eWxlLmJvcmRlclRvcFdpZHRoKSArIHBhcnNlRmxvYXQoZWxlbWVudENvbXB1dGVkU3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpOwogICAgICAgIHZhciBtYXJnaW5XaWR0aCA9IHBhcnNlRmxvYXQoZWxlbWVudENvbXB1dGVkU3R5bGUubWFyZ2luVG9wKSArIHBhcnNlRmxvYXQoZWxlbWVudENvbXB1dGVkU3R5bGUubWFyZ2luQm90dG9tKTsgLy8gdGhlbiBhZGQgYW4gZXh0cmEgcGl4ZWwgZm9yIHNhZmV0eSBhbmQgYmVjYXVzZSB0aGUgc2Nyb2xsSGVpZ2h0IHZhbHVlIGlzIHJvdW5kZWQKCiAgICAgICAgdmFyIGV4dHJhSGVpZ2h0ID0gYm9yZGVyV2lkdGggKyBtYXJnaW5XaWR0aCArIDE7CiAgICAgICAgc2V0Q3VycmVudEhlaWdodChwcmV2aWV3UmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0ICsgZXh0cmFIZWlnaHQpOwogICAgICB9CiAgICB9CiAgfSwgW2N1cnJlbnRIZWlnaHQsIGlzUHJldmlld2luZywgaGVpZ2h0LCBhdXRvRXhwYW5kUHJldmlld10pOwogIHZhciBwcmV2aWV3SGVpZ2h0ID0gaGVpZ2h0ID09PSAnZnVsbCcgPyAiY2FsYygxMDAlIC0gIi5jb25jYXQoZWRpdG9yRm9vdGVySGVpZ2h0LCAicHgpIikgOiBjdXJyZW50SGVpZ2h0OwogIHZhciB0ZXh0QXJlYUhlaWdodCA9IGhlaWdodCA9PT0gJ2Z1bGwnID8gJzEwMCUnIDogImNhbGMoIi5jb25jYXQoaGVpZ2h0IC0gZWRpdG9yRm9vdGVySGVpZ2h0LCAicHgpIik7CiAgdmFyIHRleHRBcmVhTWF4SGVpZ2h0ID0gaGVpZ2h0ICE9PSAnZnVsbCcgPyAiIi5jb25jYXQobWF4SGVpZ2h0IC0gZWRpdG9yRm9vdGVySGVpZ2h0LCAicHgiKSA6ICcnOyAvLyBzYWZhcmkgbmVlZHMgdGhpcyBjYWxjIHdoZW4gdGhlIGhlaWdodCBpcyBzZXQgdG8gZnVsbAoKICB2YXIgZWRpdG9yVG9nZ2xlQ29udGFpbmVySGVpZ2h0ID0gImNhbGMoMTAwJSAtICIuY29uY2F0KGVkaXRvclRvb2xiYXJIZWlnaHQsICJweCkiKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpTWFya2Rvd25Db250ZXh0LlByb3ZpZGVyLCB7CiAgICB2YWx1ZTogY29udGV4dFZhbHVlCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIF9leHRlbmRzKHsKICAgIGNsYXNzTmFtZTogY2xhc3NlcwogIH0sIHJlc3QpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlNYXJrZG93bkVkaXRvclRvb2xiYXIsIHsKICAgIHJlZjogZWRpdG9yVG9vbGJhclJlZiwKICAgIHNlbGVjdGVkTm9kZTogc2VsZWN0ZWROb2RlLAogICAgbWFya2Rvd25BY3Rpb25zOiBtYXJrZG93bkFjdGlvbnMsCiAgICBvbkNsaWNrUHJldmlldzogZnVuY3Rpb24gb25DbGlja1ByZXZpZXcoKSB7CiAgICAgIHJldHVybiBzZXRWaWV3TW9kZShpc1ByZXZpZXdpbmcgPyBNT0RFX0VESVRJTkcgOiBNT0RFX1ZJRVdJTkcpOwogICAgfSwKICAgIHZpZXdNb2RlOiB2aWV3TW9kZSwKICAgIHVpUGx1Z2luczogdG9vbGJhclBsdWdpbnMKICB9KSwgaXNQcmV2aWV3aW5nICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICByZWY6IHByZXZpZXdSZWYsCiAgICBjbGFzc05hbWU6ICJldWlNYXJrZG93bkVkaXRvclByZXZpZXciLAogICAgc3R5bGU6IHsKICAgICAgaGVpZ2h0OiBwcmV2aWV3SGVpZ2h0CiAgICB9CiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpTWFya2Rvd25Gb3JtYXQsIHsKICAgIHBhcnNpbmdQbHVnaW5MaXN0OiBwYXJzaW5nUGx1Z2luTGlzdCwKICAgIHByb2Nlc3NpbmdQbHVnaW5MaXN0OiBwcm9jZXNzaW5nUGx1Z2luTGlzdAogIH0sIHZhbHVlKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJldWlNYXJrZG93bkVkaXRvcl9fdG9nZ2xlQ29udGFpbmVyIiwKICAgIHN0eWxlOiB7CiAgICAgIGhlaWdodDogZWRpdG9yVG9nZ2xlQ29udGFpbmVySGVpZ2h0CiAgICB9CiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpTWFya2Rvd25FZGl0b3JEcm9wWm9uZSwgewogICAgc2V0RWRpdG9yRm9vdGVySGVpZ2h0OiBzZXRFZGl0b3JGb290ZXJIZWlnaHQsCiAgICBpc0VkaXRpbmc6IGlzRWRpdGluZywKICAgIGRyb3BIYW5kbGVyczogZHJvcEhhbmRsZXJzLAogICAgaW5zZXJ0VGV4dDogZnVuY3Rpb24gaW5zZXJ0VGV4dCh0ZXh0LCBjb25maWcpIHsKICAgICAgaWYgKGNvbmZpZy5ibG9jaykgewogICAgICAgIHRleHQgPSBwYWRXaXRoTmV3bGluZXNJZk5lZWRlZCh0ZXh0YXJlYVJlZi5jdXJyZW50LCB0ZXh0KTsKICAgICAgfQoKICAgICAgdmFyIG9yaWdpbmFsU2VsZWN0aW9uU3RhcnQgPSB0ZXh0YXJlYVJlZi5jdXJyZW50LnNlbGVjdGlvblN0YXJ0OwogICAgICB2YXIgbmV3U2VsZWN0aW9uUG9pbnQgPSBvcmlnaW5hbFNlbGVjdGlvblN0YXJ0ICsgdGV4dC5sZW5ndGg7CgogICAgICBfaW5zZXJ0VGV4dCh0ZXh0YXJlYVJlZi5jdXJyZW50LCB7CiAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICBzZWxlY3Rpb25TdGFydDogbmV3U2VsZWN0aW9uUG9pbnQsCiAgICAgICAgc2VsZWN0aW9uRW5kOiBuZXdTZWxlY3Rpb25Qb2ludAogICAgICB9KTsKICAgIH0sCiAgICB1aVBsdWdpbnM6IHRvb2xiYXJQbHVnaW5zLAogICAgZXJyb3JzOiBlcnJvcnMsCiAgICBoYXNVbmFjY2VwdGVkSXRlbXM6IGhhc1VuYWNjZXB0ZWRJdGVtcywKICAgIHNldEhhc1VuYWNjZXB0ZWRJdGVtczogc2V0SGFzVW5hY2NlcHRlZEl0ZW1zCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpUmVzaXplT2JzZXJ2ZXIsIHsKICAgIG9uUmVzaXplOiBvblJlc2l6ZQogIH0sIGZ1bmN0aW9uIChyZXNpemVSZWYpIHsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlNYXJrZG93bkVkaXRvclRleHRBcmVhLCBfZXh0ZW5kcyh7CiAgICAgIGhlaWdodDogdGV4dEFyZWFIZWlnaHQsCiAgICAgIG1heEhlaWdodDogdGV4dEFyZWFNYXhIZWlnaHQsCiAgICAgIHJlZjogbWVyZ2VSZWZzKHRleHRhcmVhUmVmLCByZXNpemVSZWYpLAogICAgICBpZDogZWRpdG9ySWQsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgICAgcmV0dXJuIF9vbkNoYW5nZShlLnRhcmdldC52YWx1ZSk7CiAgICAgIH0sCiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHsKICAgICAgICByZXR1cm4gc2V0SGFzVW5hY2NlcHRlZEl0ZW1zKGZhbHNlKTsKICAgICAgfQogICAgfSwgewogICAgICAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCwKICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6IGFyaWFMYWJlbGxlZEJ5LAogICAgICAnYXJpYS1kZXNjcmliZWRieSc6IGFyaWFEZXNjcmliZWRCeQogICAgfSkpOwogIH0pKSwgcGx1Z2luRWRpdG9yUGx1Z2luICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aU1vZGFsLCB7CiAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICByZXR1cm4gc2V0UGx1Z2luRWRpdG9yUGx1Z2luKHVuZGVmaW5lZCk7CiAgICB9CiAgfSwgLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQocGx1Z2luRWRpdG9yUGx1Z2luLmVkaXRvciwgewogICAgbm9kZTogc2VsZWN0ZWROb2RlICYmIHNlbGVjdGVkTm9kZS50eXBlID09PSBwbHVnaW5FZGl0b3JQbHVnaW4ubmFtZSA/IHNlbGVjdGVkTm9kZSA6IG51bGwsCiAgICBvbkNhbmNlbDogZnVuY3Rpb24gb25DYW5jZWwoKSB7CiAgICAgIHJldHVybiBzZXRQbHVnaW5FZGl0b3JQbHVnaW4odW5kZWZpbmVkKTsKICAgIH0sCiAgICBvblNhdmU6IGZ1bmN0aW9uIG9uU2F2ZShtYXJrZG93biwgY29uZmlnKSB7CiAgICAgIGlmIChzZWxlY3RlZE5vZGUgJiYgc2VsZWN0ZWROb2RlLnR5cGUgPT09IHBsdWdpbkVkaXRvclBsdWdpbi5uYW1lKSB7CiAgICAgICAgLy8gbW9kaWZ5aW5nIGFuIGV4aXN0aW5nIG5vZGUKICAgICAgICB0ZXh0YXJlYVJlZi5jdXJyZW50LnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGVkTm9kZS5wb3NpdGlvbi5zdGFydC5vZmZzZXQsIHNlbGVjdGVkTm9kZS5wb3NpdGlvbi5lbmQub2Zmc2V0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBjcmVhdGluZyBhIG5ldyBub2RlCiAgICAgICAgaWYgKGNvbmZpZy5ibG9jaykgewogICAgICAgICAgLy8gaW5qZWN0IG5ld2xpbmVzIGlmIG5lZWRlZAogICAgICAgICAgbWFya2Rvd24gPSBwYWRXaXRoTmV3bGluZXNJZk5lZWRlZCh0ZXh0YXJlYVJlZi5jdXJyZW50LCBtYXJrZG93bik7CiAgICAgICAgfQogICAgICB9CgogICAgICBfaW5zZXJ0VGV4dCh0ZXh0YXJlYVJlZi5jdXJyZW50LCB7CiAgICAgICAgdGV4dDogbWFya2Rvd24sCiAgICAgICAgc2VsZWN0aW9uU3RhcnQ6IHVuZGVmaW5lZCwKICAgICAgICBzZWxlY3Rpb25FbmQ6IHVuZGVmaW5lZAogICAgICB9KTsKCiAgICAgIHNldFBsdWdpbkVkaXRvclBsdWdpbih1bmRlZmluZWQpOwogICAgfQogIH0pKSkpKTsKfSk7CkV1aU1hcmtkb3duRWRpdG9yLnByb3BUeXBlcyA9IHsKICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsCgogIC8qKiBhcmlhLWxhYmVsIE9SIGFyaWEtbGFiZWxsZWRieSBtdXN0IGJlIHNldCAqLwogICJhcmlhLWxhYmVsIjogUHJvcFR5cGVzLnN0cmluZywKICAiZGF0YS10ZXN0LXN1YmoiOiBQcm9wVHlwZXMuc3RyaW5nLAoKICAvKiogYXJpYS1sYWJlbCBPUiBhcmlhLWxhYmVsbGVkYnkgbXVzdCBiZSBzZXQgKi8KICAiYXJpYS1sYWJlbGxlZGJ5IjogUHJvcFR5cGVzLnN0cmluZywKCiAgLyoqIElEIG9mIGFuIGVsZW1lbnQgZGVzY3JpYmluZyB0aGUgdGV4dCBlZGl0b3IsIHVzZWZ1bCBmb3IgYXNzb2NpYXRpbmcgZXJyb3IgbWVzc2FnZXMgKi8KICAiYXJpYS1kZXNjcmliZWRieSI6IFByb3BUeXBlcy5zdHJpbmcsCgogIC8qKiBhIHVuaXF1ZSBJRCB0byBhdHRhY2ggdG8gdGhlIHRleHRhcmVhLiBJZiBvbmUgaXNuJ3QgcHJvdmlkZWQsIGEgcmFuZG9tIG9uZQogICAgICAgKiB3aWxsIGJlIGdlbmVyYXRlZCAqLwogIGVkaXRvcklkOiBQcm9wVHlwZXMuc3RyaW5nLAoKICAvKiogQSBtYXJrZG93biBjb250ZW50ICovCiAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKCiAgLyoqIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gbWFya2Rvd24gY29udGVudCBpcyBtb2RpZmllZCAqLwogIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAoKICAvKioKICAgICAgICogU2V0cyB0aGUgYGhlaWdodGAgaW4gcGl4ZWxzIG9mIHRoZSBlZGl0b3IvcHJldmlldyBhcmVhIG9yIHBhc3MgYGZ1bGxgIHRvIGFsbG93CiAgICAgICAqIHRoZSBFdWlNYXJrZG93bkVkaXRvciB0byBmaWxsIHRoZSBoZWlnaHQgb2YgaXRzIGNvbnRhaW5lci4KICAgICAgICogV2hlbiBpbiBgZnVsbGAgbW9kZSB0aGUgdmVydGljYWwgcmVzaXplIGlzIG5vdCBhbGxvd2VkLgogICAgICAgKi8KICBoZWlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwgUHJvcFR5cGVzLm9uZU9mKFsiZnVsbCJdKV0pLAoKICAvKioKICAgICAgICogU2V0cyB0aGUgYG1heC1oZWlnaHRgIGluIHBpeGVscyBvZiB0aGUgZWRpdG9yL3ByZXZpZXcgYXJlYS4KICAgICAgICogSXQgaGFzIG5vIGVmZmVjdCB3aGVuIHRoZSBgaGVpZ2h0YCBpcyBzZXQgdG8gYGZ1bGxgLgogICAgICAgKi8KICBtYXhIZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIsCgogIC8qKgogICAgICAgKiBBdXRvbWF0aWNhbGx5IGFkanVzdHMgdGhlIHByZXZpZXcgaGVpZ2h0IHRvIGZpdCBhbGwgdGhlIGNvbnRlbnQgYW5kIGF2b2lkIGEgc2Nyb2xsYmFyLgogICAgICAgKi8KICBhdXRvRXhwYW5kUHJldmlldzogUHJvcFR5cGVzLmJvb2wsCgogIC8qKiBwbHVnaW5zIHRvIGlkZW50aWZ5IG5ldyBzeW50YXggYW5kIHBhcnNlIGl0IGludG8gYW4gQVNUIG5vZGUgKi8KICBwYXJzaW5nUGx1Z2luTGlzdDogUHJvcFR5cGVzLmFueSwKCiAgLyoqIHBsdWdpbnMgdG8gcHJvY2VzcyB0aGUgbWFya2Rvd24gQVNUIG5vZGVzIGludG8gYSBSZWFjdCBub2RlcyAqLwogIHByb2Nlc3NpbmdQbHVnaW5MaXN0OiBQcm9wVHlwZXMuYW55LAoKICAvKiogZGVmaW5lcyBVSSBmb3IgcGx1Z2lucycgYnV0dG9ucyBpbiB0aGUgdG9vbGJhciBhcyB3ZWxsIGFzIGFueSBtb2RhbHMgb3IgZXh0cmEgVUkgdGhhdCBwcm92aWRlcyBjb250ZW50IHRvIHRoZSBlZGl0b3IgKi8KICB1aVBsdWdpbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7CiAgICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsCiAgICBidXR0b246IFByb3BUeXBlcy5zaGFwZSh7CiAgICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsCiAgICAgIGljb25UeXBlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoWyJhY2Nlc3NpYmlsaXR5IiwgImFkZERhdGFBcHAiLCAiYWR2YW5jZWRTZXR0aW5nc0FwcCIsICJhZ2dyZWdhdGUiLCAiYWxlcnQiLCAiYW5hbHl6ZUV2ZW50IiwgImFubm90YXRpb24iLCAiYXBtQXBwIiwgImFwbVRyYWNlIiwgImFwcHMiLCAiYXBwU2VhcmNoQXBwIiwgImFycm93RG93biIsICJhcnJvd0xlZnQiLCAiYXJyb3dSaWdodCIsICJhcnJvd1VwIiwgImFzdGVyaXNrIiwgImF1ZGl0YmVhdEFwcCIsICJiZWFrZXIiLCAiYmVsbCIsICJiZWxsU2xhc2giLCAiYm9sdCIsICJib3hlc0hvcml6b250YWwiLCAiYm94ZXNWZXJ0aWNhbCIsICJicmFuY2giLCAiYnJvb20iLCAiYnJ1c2giLCAiYnVnIiwgImJ1bGxzZXllIiwgImNhbGVuZGFyIiwgImNhbnZhc0FwcCIsICJjb2RlQXBwIiwgImNoZWNrIiwgImNoZWNrSW5DaXJjbGVGaWxsZWQiLCAiY2hlZXIiLCAiY2xhc3NpZmljYXRpb25Kb2IiLCAiY2xvY2siLCAiY2xvdWREcml6emxlIiwgImNsb3VkU3Rvcm15IiwgImNsb3VkU3VubnkiLCAiY29sb3IiLCAiY29tcHV0ZSIsICJjb25zb2xlIiwgImNvbnNvbGVBcHAiLCAiY29udGludWl0eUFib3ZlIiwgImNvbnRpbnVpdHlBYm92ZUJlbG93IiwgImNvbnRpbnVpdHlCZWxvdyIsICJjb250aW51aXR5V2l0aGluIiwgImNvbnRyb2xzSG9yaXpvbnRhbCIsICJjb250cm9sc1ZlcnRpY2FsIiwgImNvcHkiLCAiY29weUNsaXBib2FyZCIsICJjcmVhdGVBZHZhbmNlZEpvYiIsICJjcmVhdGVNdWx0aU1ldHJpY0pvYiIsICJjcmVhdGVQb3B1bGF0aW9uSm9iIiwgImNyZWF0ZVNpbmdsZU1ldHJpY0pvYiIsICJjcm9zcyIsICJjcm9zc0NsdXN0ZXJSZXBsaWNhdGlvbkFwcCIsICJjcm9zc2hhaXJzIiwgImNyb3NzSW5BQ2lyY2xlRmlsbGVkIiwgImN1cnJlbmN5IiwgImN1dCIsICJkYXNoYm9hcmRBcHAiLCAiZGF0YWJhc2UiLCAiZGF0YVZpc3VhbGl6ZXIiLCAiZGV2VG9vbHNBcHAiLCAiZGlzY292ZXJBcHAiLCAiZG9jdW1lbnQiLCAiZG9jdW1lbnRhdGlvbiIsICJkb2N1bWVudEVkaXQiLCAiZG9jdW1lbnRzIiwgImRvdCIsICJkb3dubG9hZCIsICJlZGl0b3JBbGlnbkNlbnRlciIsICJlZGl0b3JBbGlnbkxlZnQiLCAiZWRpdG9yQWxpZ25SaWdodCIsICJlZGl0b3JCb2xkIiwgImVkaXRvckNvZGVCbG9jayIsICJlZGl0b3JDb21tZW50IiwgImVkaXRvckRpc3RyaWJ1dGVIb3Jpem9udGFsIiwgImVkaXRvckRpc3RyaWJ1dGVWZXJ0aWNhbCIsICJlZGl0b3JIZWFkaW5nIiwgImVkaXRvckl0YWxpYyIsICJlZGl0b3JJdGVtQWxpZ25MZWZ0IiwgImVkaXRvckl0ZW1BbGlnbkJvdHRvbSIsICJlZGl0b3JJdGVtQWxpZ25DZW50ZXIiLCAiZWRpdG9ySXRlbUFsaWduTWlkZGxlIiwgImVkaXRvckl0ZW1BbGlnblJpZ2h0IiwgImVkaXRvckl0ZW1BbGlnblRvcCIsICJlZGl0b3JMaW5rIiwgImVkaXRvck9yZGVyZWRMaXN0IiwgImVkaXRvclBvc2l0aW9uQm90dG9tTGVmdCIsICJlZGl0b3JQb3NpdGlvbkJvdHRvbVJpZ2h0IiwgImVkaXRvclBvc2l0aW9uVG9wTGVmdCIsICJlZGl0b3JQb3NpdGlvblRvcFJpZ2h0IiwgImVkaXRvclJlZG8iLCAiZWRpdG9yU3RyaWtlIiwgImVkaXRvclRhYmxlIiwgImVkaXRvclVuZGVybGluZSIsICJlZGl0b3JVbmRvIiwgImVkaXRvclVub3JkZXJlZExpc3QiLCAiZW1haWwiLCAiZW1wdHkiLCAiZW1zQXBwIiwgImVxbCIsICJlcmFzZXIiLCAiZXhpdCIsICJleHBhbmQiLCAiZXhwYW5kTWluaSIsICJleHBvcnRBY3Rpb24iLCAiZXllIiwgImV5ZUNsb3NlZCIsICJmYWNlSGFwcHkiLCAiZmFjZU5ldXRyYWwiLCAiZmFjZVNhZCIsICJmaWxlYmVhdEFwcCIsICJmaWx0ZXIiLCAiZmxhZyIsICJmb2xkIiwgImZvbGRlckNoZWNrIiwgImZvbGRlckNsb3NlZCIsICJmb2xkZXJFeGNsYW1hdGlvbiIsICJmb2xkZXJPcGVuIiwgImZyYW1lTmV4dCIsICJmcmFtZVByZXZpb3VzIiwgImZ1bGxTY3JlZW4iLCAiZnVsbFNjcmVlbkV4aXQiLCAiZnVuY3Rpb24iLCAiZ2VhciIsICJnaXNBcHAiLCAiZ2xhc3NlcyIsICJnbG9iZSIsICJncmFiIiwgImdyYWJIb3Jpem9udGFsIiwgImdyYXBoQXBwIiwgImdyaWQiLCAiZ3Jva0FwcCIsICJoZWFydCIsICJoZWFydGJlYXRBcHAiLCAiaGVhdG1hcCIsICJoZWxwIiwgImhvbWUiLCAiaUluQ2lyY2xlIiwgImltYWdlIiwgImltcG9ydEFjdGlvbiIsICJpbmRleENsb3NlIiwgImluZGV4RWRpdCIsICJpbmRleEZsdXNoIiwgImluZGV4TWFuYWdlbWVudEFwcCIsICJpbmRleE1hcHBpbmciLCAiaW5kZXhPcGVuIiwgImluZGV4UGF0dGVybkFwcCIsICJpbmRleFJvbGx1cEFwcCIsICJpbmRleFJ1bnRpbWUiLCAiaW5kZXhTZXR0aW5ncyIsICJpbnB1dE91dHB1dCIsICJpbnNwZWN0IiwgImludmVydCIsICJpcCIsICJrZXlib2FyZFNob3J0Y3V0IiwgImtxbEZpZWxkIiwgImtxbEZ1bmN0aW9uIiwgImtxbE9wZXJhbmQiLCAia3FsU2VsZWN0b3IiLCAia3FsVmFsdWUiLCAibGF5ZXJzIiwgImxlbnNBcHAiLCAibGluayIsICJsaXN0IiwgImxpc3RBZGQiLCAibG9jayIsICJsb2NrT3BlbiIsICJsb2dzQXBwIiwgImxvZ29BZXJvc3Bpa2UiLCAibG9nb0FwYWNoZSIsICJsb2dvQXBwU2VhcmNoIiwgImxvZ29BV1MiLCAibG9nb0FXU01vbm8iLCAibG9nb0F6dXJlIiwgImxvZ29BenVyZU1vbm8iLCAibG9nb0JlYXRzIiwgImxvZ29CdXNpbmVzc0FuYWx5dGljcyIsICJsb2dvQ2VwaCIsICJsb2dvQ2xvdWQiLCAibG9nb0Nsb3VkRW50ZXJwcmlzZSIsICJsb2dvQ29kZSIsICJsb2dvQ29kZXNhbmRib3giLCAibG9nb0NvdWNoYmFzZSIsICJsb2dvRG9ja2VyIiwgImxvZ29Ecm9wd2l6YXJkIiwgImxvZ29FbGFzdGljIiwgImxvZ29FbGFzdGljc2VhcmNoIiwgImxvZ29FbGFzdGljU3RhY2siLCAibG9nb0VudGVycHJpc2VTZWFyY2giLCAibG9nb0V0Y2QiLCAibG9nb0dDUCIsICJsb2dvR0NQTW9ubyIsICJsb2dvR2l0aHViIiwgImxvZ29HbWFpbCIsICJsb2dvR29sYW5nIiwgImxvZ29Hb29nbGVHIiwgImxvZ29IQXByb3h5IiwgImxvZ29JQk0iLCAibG9nb0lCTU1vbm8iLCAibG9nb0thZmthIiwgImxvZ29LaWJhbmEiLCAibG9nb0t1YmVybmV0ZXMiLCAibG9nb0xvZ2dpbmciLCAibG9nb0xvZ3N0YXNoIiwgImxvZ29NYXBzIiwgImxvZ29NZW1jYWNoZWQiLCAibG9nb01ldHJpY3MiLCAibG9nb01vbmdvZGIiLCAibG9nb015U1FMIiwgImxvZ29OZ2lueCIsICJsb2dvT2JzZXJ2YWJpbGl0eSIsICJsb2dvT3NxdWVyeSIsICJsb2dvUGhwIiwgImxvZ29Qb3N0Z3JlcyIsICJsb2dvUHJvbWV0aGV1cyIsICJsb2dvUmFiYml0bXEiLCAibG9nb1JlZGlzIiwgImxvZ29TZWN1cml0eSIsICJsb2dvU2l0ZVNlYXJjaCIsICJsb2dvU2tldGNoIiwgImxvZ29TbGFjayIsICJsb2dvVXB0aW1lIiwgImxvZ29XZWJob29rIiwgImxvZ29XaW5kb3dzIiwgImxvZ29Xb3JrcGxhY2VTZWFyY2giLCAibG9nc3Rhc2hGaWx0ZXIiLCAibG9nc3Rhc2hJZiIsICJsb2dzdGFzaElucHV0IiwgImxvZ3N0YXNoT3V0cHV0IiwgImxvZ3N0YXNoUXVldWUiLCAibWFjaGluZUxlYXJuaW5nQXBwIiwgIm1hZ25ldCIsICJtYWduaWZ5V2l0aE1pbnVzIiwgIm1hZ25pZnlXaXRoUGx1cyIsICJtYW5hZ2VtZW50QXBwIiwgIm1hcE1hcmtlciIsICJtZW1vcnkiLCAibWVudSIsICJtZW51RG93biIsICJtZW51TGVmdCIsICJtZW51UmlnaHQiLCAibWVudVVwIiwgIm1lcmdlIiwgIm1ldHJpY2JlYXRBcHAiLCAibWV0cmljc0FwcCIsICJtaW5pbWl6ZSIsICJtaW51cyIsICJtaW51c0luQ2lyY2xlIiwgIm1pbnVzSW5DaXJjbGVGaWxsZWQiLCAibW9iaWxlIiwgIm1vbml0b3JpbmdBcHAiLCAibW9vbiIsICJuZXN0ZWQiLCAibm9kZSIsICJub3RlYm9va0FwcCIsICJudW1iZXIiLCAib2ZmbGluZSIsICJvbmxpbmUiLCAib3V0bGllckRldGVjdGlvbkpvYiIsICJwYWNrYWdlIiwgInBhY2tldGJlYXRBcHAiLCAicGFnZVNlbGVjdCIsICJwYWdlc1NlbGVjdCIsICJwYXJ0aWFsIiwgInBhcGVyQ2xpcCIsICJwYXVzZSIsICJwZW5jaWwiLCAicGVyY2VudCIsICJwaW4iLCAicGluRmlsbGVkIiwgInBpcGVsaW5lQXBwIiwgInBsYXkiLCAicGxheUZpbGxlZCIsICJwbHVzIiwgInBsdXNJbkNpcmNsZSIsICJwbHVzSW5DaXJjbGVGaWxsZWQiLCAicG9wb3V0IiwgInB1c2giLCAicXVlc3Rpb25JbkNpcmNsZSIsICJxdW90ZSIsICJyZWNlbnRseVZpZXdlZEFwcCIsICJyZWZyZXNoIiwgInJlZ3Jlc3Npb25Kb2IiLCAicmVwb3J0ZXIiLCAicmVwb3J0aW5nQXBwIiwgInJldHVybktleSIsICJzYXZlIiwgInNhdmVkT2JqZWN0c0FwcCIsICJzY2FsZSIsICJzZWFyY2giLCAic2VhcmNoUHJvZmlsZXJBcHAiLCAic2VjdXJpdHlBbmFseXRpY3NBcHAiLCAic2VjdXJpdHlBcHAiLCAic2VjdXJpdHlTaWduYWwiLCAic2VjdXJpdHlTaWduYWxEZXRlY3RlZCIsICJzZWN1cml0eVNpZ25hbFJlc29sdmVkIiwgInNoYXJkIiwgInNoYXJlIiwgInNub3dmbGFrZSIsICJzb3J0YWJsZSIsICJzb3J0RG93biIsICJzb3J0TGVmdCIsICJzb3J0UmlnaHQiLCAic29ydFVwIiwgInNwYWNlc0FwcCIsICJzcWxBcHAiLCAic3RhckVtcHR5IiwgInN0YXJFbXB0eVNwYWNlIiwgInN0YXJGaWxsZWQiLCAic3RhckZpbGxlZFNwYWNlIiwgInN0YXJNaW51c0VtcHR5IiwgInN0YXJNaW51c0ZpbGxlZCIsICJzdGFyUGx1c0VtcHR5IiwgInN0YXJQbHVzRmlsbGVkIiwgInN0YXRzIiwgInN0b3AiLCAic3RvcEZpbGxlZCIsICJzdG9wU2xhc2giLCAic3RvcmFnZSIsICJzdHJpbmciLCAic3VibW9kdWxlIiwgInN3YXRjaElucHV0IiwgInN5bWxpbmsiLCAidGFibGVPZkNvbnRlbnRzIiwgInRhYmxlRGVuc2l0eUV4cGFuZGVkIiwgInRhYmxlRGVuc2l0eUNvbXBhY3QiLCAidGFibGVEZW5zaXR5Tm9ybWFsIiwgInRhZyIsICJ0ZWFyIiwgInRlbXBlcmF0dXJlIiwgInRpbWVsaW5lIiwgInRpbWVsaW9uQXBwIiwgInRpbWVzbGlkZXIiLCAidHJhaW5pbmciLCAidHJhc2giLCAidXBncmFkZUFzc2lzdGFudEFwcCIsICJ1cHRpbWVBcHAiLCAidW5mb2xkIiwgInVubGluayIsICJ1c2VyIiwgInVzZXJzIiwgInVzZXJzUm9sZXNBcHAiLCAidmVjdG9yIiwgInZpZGVvUGxheWVyIiwgInZpc0FyZWEiLCAidmlzQXJlYVN0YWNrZWQiLCAidmlzQmFySG9yaXpvbnRhbCIsICJ2aXNCYXJIb3Jpem9udGFsU3RhY2tlZCIsICJ2aXNCYXJWZXJ0aWNhbCIsICJ2aXNCYXJWZXJ0aWNhbFN0YWNrZWQiLCAidmlzR2F1Z2UiLCAidmlzR29hbCIsICJ2aXNMaW5lIiwgInZpc01hcENvb3JkaW5hdGUiLCAidmlzTWFwUmVnaW9uIiwgInZpc01ldHJpYyIsICJ2aXNQaWUiLCAidmlzVGFibGUiLCAidmlzVGFnQ2xvdWQiLCAidmlzVGV4dCIsICJ2aXNUaW1lbGlvbiIsICJ2aXN1YWxpemVBcHAiLCAidmlzVmVnYSIsICJ2aXNWaXN1YWxCdWlsZGVyIiwgIndhdGNoZXNBcHAiLCAid29yZFdyYXAiLCAid29yZFdyYXBEaXNhYmxlZCIsICJ3b3JrcGxhY2VTZWFyY2hBcHAiLCAid3JlbmNoIiwgInRva2VuQ2xhc3MiLCAidG9rZW5Qcm9wZXJ0eSIsICJ0b2tlbkVudW0iLCAidG9rZW5WYXJpYWJsZSIsICJ0b2tlbk1ldGhvZCIsICJ0b2tlbkFubm90YXRpb24iLCAidG9rZW5FeGNlcHRpb24iLCAidG9rZW5JbnRlcmZhY2UiLCAidG9rZW5QYXJhbWV0ZXIiLCAidG9rZW5GaWVsZCIsICJ0b2tlbkVsZW1lbnQiLCAidG9rZW5GdW5jdGlvbiIsICJ0b2tlbkJvb2xlYW4iLCAidG9rZW5TdHJpbmciLCAidG9rZW5BcnJheSIsICJ0b2tlbk51bWJlciIsICJ0b2tlbkNvbnN0YW50IiwgInRva2VuT2JqZWN0IiwgInRva2VuRXZlbnQiLCAidG9rZW5LZXkiLCAidG9rZW5OdWxsIiwgInRva2VuU3RydWN0IiwgInRva2VuUGFja2FnZSIsICJ0b2tlbk9wZXJhdG9yIiwgInRva2VuRW51bU1lbWJlciIsICJ0b2tlblJlcG8iLCAidG9rZW5TeW1ib2wiLCAidG9rZW5GaWxlIiwgInRva2VuTW9kdWxlIiwgInRva2VuTmFtZXNwYWNlIiwgInRva2VuRGF0ZSIsICJ0b2tlbklQIiwgInRva2VuTmVzdGVkIiwgInRva2VuQWxpYXMiLCAidG9rZW5TaGFwZSIsICJ0b2tlbkdlbyIsICJ0b2tlblJhbmdlIiwgInRva2VuQmluYXJ5IiwgInRva2VuSm9pbiIsICJ0b2tlblBlcmNvbGF0b3IiLCAidG9rZW5GbGF0dGVuZWQiLCAidG9rZW5SYW5rRmVhdHVyZSIsICJ0b2tlblJhbmtGZWF0dXJlcyIsICJ0b2tlbktleXdvcmQiLCAidG9rZW5Db21wbGV0aW9uU3VnZ2VzdGVyIiwgInRva2VuRGVuc2VWZWN0b3IiLCAidG9rZW5UZXh0IiwgInRva2VuVG9rZW5Db3VudCIsICJ0b2tlblNlYXJjaFR5cGUiLCAidG9rZW5IaXN0b2dyYW0iXSkuaXNSZXF1aXJlZCwgUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLCBQcm9wVHlwZXMuZWxlbWVudFR5cGUuaXNSZXF1aXJlZF0pLmlzUmVxdWlyZWQKICAgIH0pLmlzUmVxdWlyZWQsCiAgICBoZWxwVGV4dDogUHJvcFR5cGVzLm5vZGUsCiAgICBmb3JtYXR0aW5nOiBQcm9wVHlwZXMuc2hhcGUoewogICAgICBwcmVmaXg6IFByb3BUeXBlcy5zdHJpbmcsCiAgICAgIHN1ZmZpeDogUHJvcFR5cGVzLnN0cmluZywKICAgICAgYmxvY2tQcmVmaXg6IFByb3BUeXBlcy5zdHJpbmcsCiAgICAgIGJsb2NrU3VmZml4OiBQcm9wVHlwZXMuc3RyaW5nLAogICAgICBtdWx0aWxpbmU6IFByb3BUeXBlcy5ib29sLAogICAgICByZXBsYWNlTmV4dDogUHJvcFR5cGVzLnN0cmluZywKICAgICAgcHJlZml4U3BhY2U6IFByb3BUeXBlcy5ib29sLAogICAgICBzY2FuRm9yOiBQcm9wVHlwZXMuc3RyaW5nLAogICAgICBzdXJyb3VuZFdpdGhOZXdsaW5lczogUHJvcFR5cGVzLmJvb2wsCiAgICAgIG9yZGVyZWRMaXN0OiBQcm9wVHlwZXMuYm9vbCwKICAgICAgdHJpbUZpcnN0OiBQcm9wVHlwZXMuYm9vbAogICAgfSksCiAgICBlZGl0b3I6IFByb3BUeXBlcy5lbGVtZW50VHlwZQogIH0pLmlzUmVxdWlyZWQpLAoKICAvKiogZXJyb3JzIHRvIGJ1YmJsZSB1cCAqLwogIGVycm9yczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLCBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsIFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZF0pLmlzUmVxdWlyZWQpLAoKICAvKiogY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gcGFyc2luZyByZXN1bHRzIGFyZSBhdmFpbGFibGUgKi8KICBvblBhcnNlOiBQcm9wVHlwZXMuZnVuYywKCiAgLyoqIGluaXRpYWwgZGlzcGxheSBtb2RlIGZvciB0aGUgZWRpdG9yICovCiAgaW5pdGlhbFZpZXdNb2RlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsIFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZF0pLAoKICAvKiogYXJyYXkgZGVmaW5pbmcgYW55IGRyYWcmZHJvcCBoYW5kbGVycyAqLwogIGRyb3BIYW5kbGVyczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHsKICAgIHN1cHBvcnRlZEZpbGVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQpLmlzUmVxdWlyZWQsCiAgICBhY2NlcHRzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogICAgZ2V0Rm9ybWF0dGluZ0Zvckl0ZW06IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQKICB9KS5pc1JlcXVpcmVkKQp9OwpFdWlNYXJrZG93bkVkaXRvci5kaXNwbGF5TmFtZSA9ICdFdWlNYXJrZG93bkVkaXRvcic7Cgp0cnkgewogIEV1aU1hcmtkb3duRWRpdG9yLl9fZG9jZ2VuSW5mbyA9IHsKICAgIGRlc2NyaXB0aW9uOiAnJywKICAgIGRpc3BsYXlOYW1lOiAnRXVpTWFya2Rvd25FZGl0b3InLAogICAgbWV0aG9kczogW10sCiAgICBwcm9wczogewogICAgICB2YWx1ZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0EgbWFya2Rvd24gY29udGVudCcsCiAgICAgICAgbmFtZTogJ3ZhbHVlJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaGVpZ2h0OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJzI1MCcKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnU2V0cyB0aGUgYGhlaWdodGAgaW4gcGl4ZWxzIG9mIHRoZSBlZGl0b3IvcHJldmlldyBhcmVhIG9yIHBhc3MgYGZ1bGxgIHRvIGFsbG93XG4nICsgJ3RoZSBFdWlNYXJrZG93bkVkaXRvciB0byBmaWxsIHRoZSBoZWlnaHQgb2YgaXRzIGNvbnRhaW5lci5cbicgKyAnV2hlbiBpbiBgZnVsbGAgbW9kZSB0aGUgdmVydGljYWwgcmVzaXplIGlzIG5vdCBhbGxvd2VkLicsCiAgICAgICAgbmFtZTogJ2hlaWdodCcsCiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdudW1iZXIgfCAiZnVsbCInCiAgICAgICAgfQogICAgICB9LAogICAgICBjbGFzc05hbWU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdjbGFzc05hbWUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvbm9kZV9tb2R1bGVzL0B0eXBlcy9yZWFjdC9pbmRleC5kLnRzJywKICAgICAgICAgIG5hbWU6ICdIVE1MQXR0cmlidXRlcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25DaGFuZ2U6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdjYWxsYmFjayBmdW5jdGlvbiB3aGVuIG1hcmtkb3duIGNvbnRlbnQgaXMgbW9kaWZpZWQnLAogICAgICAgIG5hbWU6ICdvbkNoYW5nZScsCiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJyh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2RhdGEtdGVzdC1zdWJqJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbW1vbi50cycsCiAgICAgICAgICBuYW1lOiAnQ29tbW9uUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVkaXRvcklkOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAiYSB1bmlxdWUgSUQgdG8gYXR0YWNoIHRvIHRoZSB0ZXh0YXJlYS4gSWYgb25lIGlzbid0IHByb3ZpZGVkLCBhIHJhbmRvbSBvbmVcbiIgKyAnd2lsbCBiZSBnZW5lcmF0ZWQnLAogICAgICAgIG5hbWU6ICdlZGl0b3JJZCcsCiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdzdHJpbmcnCiAgICAgICAgfQogICAgICB9LAogICAgICBtYXhIZWlnaHQ6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnNTAwJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICdTZXRzIHRoZSBgbWF4LWhlaWdodGAgaW4gcGl4ZWxzIG9mIHRoZSBlZGl0b3IvcHJldmlldyBhcmVhLlxuJyArICdJdCBoYXMgbm8gZWZmZWN0IHdoZW4gdGhlIGBoZWlnaHRgIGlzIHNldCB0byBgZnVsbGAuJywKICAgICAgICBuYW1lOiAnbWF4SGVpZ2h0JywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ251bWJlcicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGF1dG9FeHBhbmRQcmV2aWV3OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ3RydWUnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ0F1dG9tYXRpY2FsbHkgYWRqdXN0cyB0aGUgcHJldmlldyBoZWlnaHQgdG8gZml0IGFsbCB0aGUgY29udGVudCBhbmQgYXZvaWQgYSBzY3JvbGxiYXIuJywKICAgICAgICBuYW1lOiAnYXV0b0V4cGFuZFByZXZpZXcnLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBhcnNpbmdQbHVnaW5MaXN0OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbAogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICdwbHVnaW5zIHRvIGlkZW50aWZ5IG5ldyBzeW50YXggYW5kIHBhcnNlIGl0IGludG8gYW4gQVNUIG5vZGUnLAogICAgICAgIG5hbWU6ICdwYXJzaW5nUGx1Z2luTGlzdCcsCiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdQbHVnZ2FibGVMaXN0PFNldHRpbmdzPicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByb2Nlc3NpbmdQbHVnaW5MaXN0OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogbnVsbAogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICdwbHVnaW5zIHRvIHByb2Nlc3MgdGhlIG1hcmtkb3duIEFTVCBub2RlcyBpbnRvIGEgUmVhY3Qgbm9kZXMnLAogICAgICAgIG5hbWU6ICdwcm9jZXNzaW5nUGx1Z2luTGlzdCcsCiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdQbHVnZ2FibGVMaXN0PFNldHRpbmdzPicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHVpUGx1Z2luczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6IG51bGwKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAiZGVmaW5lcyBVSSBmb3IgcGx1Z2lucycgYnV0dG9ucyBpbiB0aGUgdG9vbGJhciBhcyB3ZWxsIGFzIGFueSBtb2RhbHMgb3IgZXh0cmEgVUkgdGhhdCBwcm92aWRlcyBjb250ZW50IHRvIHRoZSBlZGl0b3IiLAogICAgICAgIG5hbWU6ICd1aVBsdWdpbnMnLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnRXVpTWFya2Rvd25FZGl0b3JVaVBsdWdpbjxhbnk+W10nCiAgICAgICAgfQogICAgICB9LAogICAgICBlcnJvcnM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnW10nCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ2Vycm9ycyB0byBidWJibGUgdXAnLAogICAgICAgIG5hbWU6ICdlcnJvcnMnLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnRXVpTWFya2Rvd25QYXJzZUVycm9yW10nCiAgICAgICAgfQogICAgICB9LAogICAgICBvblBhcnNlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gcGFyc2luZyByZXN1bHRzIGFyZSBhdmFpbGFibGUnLAogICAgICAgIG5hbWU6ICdvblBhcnNlJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJyhlcnJvcjogRXVpTWFya2Rvd25QYXJzZUVycm9yLCBkYXRhOiB7IG1lc3NhZ2VzOiBWRmlsZU1lc3NhZ2VbXTsgYXN0OiBFdWlNYXJrZG93bkFzdE5vZGU7IH0pID0+IHZvaWQnCiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0aWFsVmlld01vZGU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiBudWxsCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ2luaXRpYWwgZGlzcGxheSBtb2RlIGZvciB0aGUgZWRpdG9yJywKICAgICAgICBuYW1lOiAnaW5pdGlhbFZpZXdNb2RlJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2VudW0nLAogICAgICAgICAgcmF3OiAnTUFSS0RPV05fTU9ERScsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICciZWRpdGluZyInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInZpZXdpbmciJwogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRyb3BIYW5kbGVyczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdbXScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnYXJyYXkgZGVmaW5pbmcgYW55IGRyYWcmZHJvcCBoYW5kbGVycycsCiAgICAgICAgbmFtZTogJ2Ryb3BIYW5kbGVycycsCiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdFdWlNYXJrZG93bkRyb3BIYW5kbGVyW10nCiAgICAgICAgfQogICAgICB9LAogICAgICAnYXJpYS1sYWJlbCc6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdEZWZpbmVzIGEgc3RyaW5nIHZhbHVlIHRoYXQgbGFiZWxzIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4nICsgJ2FyaWEtbGFiZWwgT1IgYXJpYS1sYWJlbGxlZGJ5IG11c3QgYmUgc2V0XG4nICsgJ0BzZWUgYXJpYS1sYWJlbGxlZGJ5LicsCiAgICAgICAgbmFtZTogJ2FyaWEtbGFiZWwnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvbm9kZV9tb2R1bGVzL0B0eXBlcy9yZWFjdC9pbmRleC5kLnRzJywKICAgICAgICAgIG5hbWU6ICdBcmlhQXR0cmlidXRlcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVmOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAncmVmJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL25vZGVfbW9kdWxlcy9AdHlwZXMvcmVhY3QvaW5kZXguZC50cycsCiAgICAgICAgICBuYW1lOiAnUmVmQXR0cmlidXRlcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUmVmPEV1aU1hcmtkb3duRWRpdG9yUmVmPicKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBleHRlbmRlZEludGVyZmFjZXM6IFsnSFRNTEF0dHJpYnV0ZXMnLCAnQXJpYUF0dHJpYnV0ZXMnLCAnRE9NQXR0cmlidXRlcycsICdDb21tb25Qcm9wcycsICdBdHRyaWJ1dGVzJ10KICB9Owp9IGNhdGNoIChlKSB7fQ=="},{"version":3,"sources":["D:/work/eui/src/components/markdown_editor/markdown_editor.tsx"],"names":["React","createElement","useEffect","useImperativeHandle","useMemo","useState","useCallback","useRef","forwardRef","unified","classNames","MarkdownActions","insertText","EuiMarkdownEditorToolbar","EuiMarkdownEditorTextArea","EuiMarkdownFormat","EuiMarkdownEditorDropZone","htmlIdGenerator","MODE_EDITING","MODE_VIEWING","EuiModal","EuiMarkdownContext","MarkdownTooltip","defaultParsingPlugins","defaultProcessingPlugins","defaultUiPlugins","EuiResizeObserver","mergeRefs","refs","filteredRefs","filter","Boolean","length","inst","ref","current","isNewLine","char","match","padWithNewlinesIfNeeded","textarea","text","selectionStart","selectionEnd","isPrevNewLine","value","isPrevPrevNewLine","isNextNewLine","EuiMarkdownEditor","className","_editorId","editorId","onChange","height","maxHeight","autoExpandPreview","parsingPluginList","processingPluginList","uiPlugins","onParse","errors","ariaLabel","ariaLabelledBy","ariaDescribedBy","initialViewMode","dropHandlers","rest","viewMode","setViewMode","undefined","pluginEditorPlugin","setPluginEditorPlugin","toolbarPlugins","__originatedFromEui","unshift","plugin","console","warn","markdownActions","map","name","join","parser","Compiler","tree","identityCompiler","use","parsed","processSync","e","parseError","isPreviewing","isEditing","replaceNode","position","next","leading","substr","start","offset","trailing","end","contextValue","openPluginEditor","selectedNode","setSelectedNode","textareaRef","getCursorNode","node","result","contents","outer","children","i","child","type","addEventListener","removeEventListener","messages","ast","previewRef","editorToolbarRef","hasUnacceptedItems","setHasUnacceptedItems","currentHeight","setCurrentHeight","editorFooterHeight","setEditorFooterHeight","editorToolbarHeight","setEditorToolbarHeight","classes","onResize","resizedTextareaHeight","offsetHeight","scrollHeight","elementComputedStyle","window","getComputedStyle","borderWidth","parseFloat","borderTopWidth","borderBottomWidth","marginWidth","marginTop","marginBottom","extraHeight","previewHeight","textAreaHeight","textAreaMaxHeight","editorToggleContainerHeight","config","block","originalSelectionStart","newSelectionPoint","resizeRef","target","editor","onCancel","onSave","markdown","setSelectionRange","displayName"],"mappings":"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","sourcesContent":["function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nimport PropTypes from \"prop-types\";\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { createElement, useEffect, useImperativeHandle, useMemo, useState, useCallback, useRef, forwardRef } from 'react';\nimport unified from 'unified';\nimport classNames from 'classnames';\nimport MarkdownActions, { insertText } from './markdown_actions';\nimport { EuiMarkdownEditorToolbar } from './markdown_editor_toolbar';\nimport { EuiMarkdownEditorTextArea } from './markdown_editor_text_area';\nimport { EuiMarkdownFormat } from './markdown_format';\nimport { EuiMarkdownEditorDropZone } from './markdown_editor_drop_zone';\nimport { htmlIdGenerator } from '../../services/';\nimport { MODE_EDITING, MODE_VIEWING } from './markdown_modes';\nimport { EuiModal } from '../modal';\nimport { EuiMarkdownContext } from './markdown_context';\nimport * as MarkdownTooltip from './plugins/markdown_tooltip';\nimport { defaultParsingPlugins, defaultProcessingPlugins, defaultUiPlugins } from './plugins/markdown_default_plugins';\nimport { EuiResizeObserver } from '../observer/resize_observer'; // TODO I wanted to use the useCombinedRefs\n// but I can't because it's not allowed to use react hooks\n// inside a callback.\n\nvar mergeRefs = function mergeRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  var filteredRefs = refs.filter(Boolean);\n  if (!filteredRefs.length) return null;\n  if (filteredRefs.length === 0) return filteredRefs[0];\n  return function (inst) {\n    var _iterator = _createForOfIteratorHelper(filteredRefs),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var ref = _step.value;\n\n        if (typeof ref === 'function') {\n          ref(inst);\n        } else if (ref) {\n          ref.current = inst;\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n};\n\nfunction isNewLine(char) {\n  if (char == null) return true;\n  return !!char.match(/[\\r\\n]/);\n}\n\nfunction padWithNewlinesIfNeeded(textarea, text) {\n  var selectionStart = textarea.selectionStart;\n  var selectionEnd = textarea.selectionEnd; // block parsing requires two leading new lines and none trailing, but we add an extra trailing line for readability\n\n  var isPrevNewLine = isNewLine(textarea.value[selectionStart - 1]);\n  var isPrevPrevNewLine = isNewLine(textarea.value[selectionStart - 2]);\n  var isNextNewLine = isNewLine(textarea.value[selectionEnd]); // pad text with newlines as needed\n\n  text = \"\".concat(isPrevNewLine ? '' : '\\n').concat(isPrevPrevNewLine ? '' : '\\n').concat(text).concat(isNextNewLine ? '' : '\\n');\n  return text;\n}\n\nexport var EuiMarkdownEditor = forwardRef(({\n  className,\n  editorId: _editorId,\n  value,\n  onChange,\n  height = 250,\n  maxHeight = 500,\n  autoExpandPreview = true,\n  parsingPluginList = defaultParsingPlugins,\n  processingPluginList = defaultProcessingPlugins,\n  uiPlugins = defaultUiPlugins,\n  onParse,\n  errors = [],\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  'aria-describedby': ariaDescribedBy,\n  initialViewMode = MODE_EDITING,\n  dropHandlers = [],\n  ...rest\n}, ref) => {\n  const [viewMode, setViewMode] = useState(initialViewMode);\n  const editorId = useMemo(() => _editorId || htmlIdGenerator()(), [_editorId]);\n  const [pluginEditorPlugin, setPluginEditorPlugin] = useState(undefined);\n  const toolbarPlugins = [...uiPlugins]; // @ts-ignore __originatedFromEui is a custom property\n\n  if (!uiPlugins.__originatedFromEui) {\n    toolbarPlugins.unshift(MarkdownTooltip.plugin);\n    console.warn('Deprecation warning: uiPlugins passed to EuiMarkdownEditor does not include the tooltip plugin, which has been added for you. This automatic inclusion has been deprecated and will be removed in the future, see https://github.com/elastic/eui/pull/4383');\n  }\n\n  const markdownActions = useMemo(() => new MarkdownActions(editorId, toolbarPlugins), // toolbarPlugins _is_ accounted for\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [editorId, toolbarPlugins.map(({\n    name\n  }) => name).join(',')]);\n  const parser = useMemo(() => {\n    const Compiler = tree => {\n      return tree;\n    };\n\n    function identityCompiler() {\n      this.Compiler = Compiler;\n    }\n\n    return unified().use(parsingPluginList).use(identityCompiler);\n  }, [parsingPluginList]);\n  const [parsed, parseError] = useMemo(() => {\n    try {\n      const parsed = parser.processSync(value);\n      return [parsed, null];\n    } catch (e) {\n      return [null, e];\n    }\n  }, [parser, value]);\n  const isPreviewing = viewMode === MODE_VIEWING;\n  const isEditing = viewMode === MODE_EDITING;\n  const replaceNode = useCallback((position, next) => {\n    const leading = value.substr(0, position.start.offset);\n    const trailing = value.substr(position.end.offset);\n    onChange(`${leading}${next}${trailing}`);\n  }, [value, onChange]);\n  const contextValue = useMemo(() => ({\n    openPluginEditor: plugin => setPluginEditorPlugin(() => plugin),\n    replaceNode\n  }), [replaceNode]);\n  const [selectedNode, setSelectedNode] = useState();\n  const textareaRef = useRef(null);\n  useEffect(() => {\n    if (textareaRef == null) return;\n    if (parsed == null) return;\n\n    const getCursorNode = () => {\n      const {\n        selectionStart\n      } = textareaRef.current;\n      let node = parsed.result ?? parsed.contents;\n\n      outer: while (true) {\n        if (node.children) {\n          for (let i = 0; i < node.children.length; i++) {\n            const child = node.children[i];\n\n            if (child.position.start.offset < selectionStart && selectionStart < child.position.end.offset) {\n              if (child.type === 'text') break outer; // don't dive into `text` nodes\n\n              node = child;\n              continue outer;\n            }\n          }\n        }\n\n        break;\n      }\n\n      setSelectedNode(node);\n    };\n\n    const textarea = textareaRef.current;\n    textarea.addEventListener('keyup', getCursorNode);\n    textarea.addEventListener('mouseup', getCursorNode);\n    return () => {\n      textarea.removeEventListener('keyup', getCursorNode);\n      textarea.removeEventListener('mouseup', getCursorNode);\n    };\n  }, [parsed]);\n  useEffect(() => {\n    if (onParse) {\n      const messages = parsed ? parsed.messages : [];\n      const ast = parsed ? parsed.result ?? parsed.contents : null;\n      onParse(parseError, {\n        messages,\n        ast\n      });\n    }\n  }, [onParse, parsed, parseError]);\n  useImperativeHandle(ref, () => ({\n    textarea: textareaRef.current,\n    replaceNode\n  }), [replaceNode]);\n  const textarea = textareaRef.current;\n  const previewRef = useRef(null);\n  const editorToolbarRef = useRef(null);\n  const [hasUnacceptedItems, setHasUnacceptedItems] = React.useState(false);\n  const [currentHeight, setCurrentHeight] = useState(height);\n  const [editorFooterHeight, setEditorFooterHeight] = useState(0);\n  const [editorToolbarHeight, setEditorToolbarHeight] = useState(0);\n  const classes = classNames('euiMarkdownEditor', {\n    'euiMarkdownEditor--fullHeight': height === 'full'\n  }, {\n    'euiMarkdownEditor--isPreviewing': isPreviewing\n  }, className);\n\n  const onResize = () => {\n    if (textarea && isEditing && height !== 'full') {\n      const resizedTextareaHeight = textarea.offsetHeight + editorFooterHeight;\n      setCurrentHeight(resizedTextareaHeight);\n    }\n  };\n\n  useEffect(() => {\n    setEditorToolbarHeight(editorToolbarRef.current.offsetHeight);\n  }, [setEditorToolbarHeight]);\n  useEffect(() => {\n    if (isPreviewing && autoExpandPreview && height !== 'full') {\n      if (previewRef.current.scrollHeight > currentHeight) {\n        // scrollHeight does not include the border or margin\n        // so we ask for the computed value for those,\n        // which is always in pixels because getComputedValue\n        // returns the resolved values\n        const elementComputedStyle = window.getComputedStyle(previewRef.current);\n        const borderWidth = parseFloat(elementComputedStyle.borderTopWidth) + parseFloat(elementComputedStyle.borderBottomWidth);\n        const marginWidth = parseFloat(elementComputedStyle.marginTop) + parseFloat(elementComputedStyle.marginBottom); // then add an extra pixel for safety and because the scrollHeight value is rounded\n\n        const extraHeight = borderWidth + marginWidth + 1;\n        setCurrentHeight(previewRef.current.scrollHeight + extraHeight);\n      }\n    }\n  }, [currentHeight, isPreviewing, height, autoExpandPreview]);\n  const previewHeight = height === 'full' ? `calc(100% - ${editorFooterHeight}px)` : currentHeight;\n  const textAreaHeight = height === 'full' ? '100%' : `calc(${height - editorFooterHeight}px)`;\n  const textAreaMaxHeight = height !== 'full' ? `${maxHeight - editorFooterHeight}px` : ''; // safari needs this calc when the height is set to full\n\n  const editorToggleContainerHeight = `calc(100% - ${editorToolbarHeight}px)`;\n  return <EuiMarkdownContext.Provider value={contextValue}>\n        <div className={classes} {...rest}>\n          <EuiMarkdownEditorToolbar ref={editorToolbarRef} selectedNode={selectedNode} markdownActions={markdownActions} onClickPreview={() => setViewMode(isPreviewing ? MODE_EDITING : MODE_VIEWING)} viewMode={viewMode} uiPlugins={toolbarPlugins} />\n\n          {isPreviewing && <div ref={previewRef} className=\"euiMarkdownEditorPreview\" style={{\n        height: previewHeight\n      }}>\n              <EuiMarkdownFormat parsingPluginList={parsingPluginList} processingPluginList={processingPluginList}>\n                {value}\n              </EuiMarkdownFormat>\n            </div>}\n          {\n        /* Toggle the editor's display instead of unmounting to retain its undo/redo history */\n      }\n          <div className=\"euiMarkdownEditor__toggleContainer\" style={{\n        height: editorToggleContainerHeight\n      }}>\n            <EuiMarkdownEditorDropZone setEditorFooterHeight={setEditorFooterHeight} isEditing={isEditing} dropHandlers={dropHandlers} insertText={(text, config) => {\n          if (config.block) {\n            text = padWithNewlinesIfNeeded(textareaRef.current, text);\n          }\n\n          const originalSelectionStart = textareaRef.current.selectionStart;\n          const newSelectionPoint = originalSelectionStart + text.length;\n          insertText(textareaRef.current, {\n            text,\n            selectionStart: newSelectionPoint,\n            selectionEnd: newSelectionPoint\n          });\n        }} uiPlugins={toolbarPlugins} errors={errors} hasUnacceptedItems={hasUnacceptedItems} setHasUnacceptedItems={setHasUnacceptedItems}>\n              <EuiResizeObserver onResize={onResize}>\n                {resizeRef => {\n              return <EuiMarkdownEditorTextArea height={textAreaHeight} maxHeight={textAreaMaxHeight} ref={mergeRefs(textareaRef, resizeRef)} id={editorId} onChange={e => onChange(e.target.value)} value={value} onFocus={() => setHasUnacceptedItems(false)} {...{\n                'aria-label': ariaLabel,\n                'aria-labelledby': ariaLabelledBy,\n                'aria-describedby': ariaDescribedBy\n              }} />;\n            }}\n              </EuiResizeObserver>\n            </EuiMarkdownEditorDropZone>\n\n            {pluginEditorPlugin && <EuiModal onClose={() => setPluginEditorPlugin(undefined)}>\n                {createElement(pluginEditorPlugin.editor, {\n            node: selectedNode && selectedNode.type === pluginEditorPlugin.name ? selectedNode : null,\n            onCancel: () => setPluginEditorPlugin(undefined),\n            onSave: (markdown, config) => {\n              if (selectedNode && selectedNode.type === pluginEditorPlugin.name) {\n                // modifying an existing node\n                textareaRef.current.setSelectionRange(selectedNode.position.start.offset, selectedNode.position.end.offset);\n              } else {\n                // creating a new node\n                if (config.block) {\n                  // inject newlines if needed\n                  markdown = padWithNewlinesIfNeeded(textareaRef.current, markdown);\n                }\n              }\n\n              insertText(textareaRef.current, {\n                text: markdown,\n                selectionStart: undefined,\n                selectionEnd: undefined\n              });\n              setPluginEditorPlugin(undefined);\n            }\n          })}\n              </EuiModal>}\n          </div>\n        </div>\n      </EuiMarkdownContext.Provider>;\n});\nEuiMarkdownEditor.propTypes = {\n  className: PropTypes.string,\n\n  /** aria-label OR aria-labelledby must be set */\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /** aria-label OR aria-labelledby must be set */\n  \"aria-labelledby\": PropTypes.string,\n\n  /** ID of an element describing the text editor, useful for associating error messages */\n  \"aria-describedby\": PropTypes.string,\n\n  /** a unique ID to attach to the textarea. If one isn't provided, a random one\n       * will be generated */\n  editorId: PropTypes.string,\n\n  /** A markdown content */\n  value: PropTypes.string.isRequired,\n\n  /** callback function when markdown content is modified */\n  onChange: PropTypes.func.isRequired,\n\n  /**\n       * Sets the `height` in pixels of the editor/preview area or pass `full` to allow\n       * the EuiMarkdownEditor to fill the height of its container.\n       * When in `full` mode the vertical resize is not allowed.\n       */\n  height: PropTypes.oneOfType([PropTypes.number.isRequired, PropTypes.oneOf([\"full\"])]),\n\n  /**\n       * Sets the `max-height` in pixels of the editor/preview area.\n       * It has no effect when the `height` is set to `full`.\n       */\n  maxHeight: PropTypes.number,\n\n  /**\n       * Automatically adjusts the preview height to fit all the content and avoid a scrollbar.\n       */\n  autoExpandPreview: PropTypes.bool,\n\n  /** plugins to identify new syntax and parse it into an AST node */\n  parsingPluginList: PropTypes.any,\n\n  /** plugins to process the markdown AST nodes into a React nodes */\n  processingPluginList: PropTypes.any,\n\n  /** defines UI for plugins' buttons in the toolbar as well as any modals or extra UI that provides content to the editor */\n  uiPlugins: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    button: PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      iconType: PropTypes.oneOfType([PropTypes.oneOf([\"accessibility\", \"addDataApp\", \"advancedSettingsApp\", \"aggregate\", \"alert\", \"analyzeEvent\", \"annotation\", \"apmApp\", \"apmTrace\", \"apps\", \"appSearchApp\", \"arrowDown\", \"arrowLeft\", \"arrowRight\", \"arrowUp\", \"asterisk\", \"auditbeatApp\", \"beaker\", \"bell\", \"bellSlash\", \"bolt\", \"boxesHorizontal\", \"boxesVertical\", \"branch\", \"broom\", \"brush\", \"bug\", \"bullseye\", \"calendar\", \"canvasApp\", \"codeApp\", \"check\", \"checkInCircleFilled\", \"cheer\", \"classificationJob\", \"clock\", \"cloudDrizzle\", \"cloudStormy\", \"cloudSunny\", \"color\", \"compute\", \"console\", \"consoleApp\", \"continuityAbove\", \"continuityAboveBelow\", \"continuityBelow\", \"continuityWithin\", \"controlsHorizontal\", \"controlsVertical\", \"copy\", \"copyClipboard\", \"createAdvancedJob\", \"createMultiMetricJob\", \"createPopulationJob\", \"createSingleMetricJob\", \"cross\", \"crossClusterReplicationApp\", \"crosshairs\", \"crossInACircleFilled\", \"currency\", \"cut\", \"dashboardApp\", \"database\", \"dataVisualizer\", \"devToolsApp\", \"discoverApp\", \"document\", \"documentation\", \"documentEdit\", \"documents\", \"dot\", \"download\", \"editorAlignCenter\", \"editorAlignLeft\", \"editorAlignRight\", \"editorBold\", \"editorCodeBlock\", \"editorComment\", \"editorDistributeHorizontal\", \"editorDistributeVertical\", \"editorHeading\", \"editorItalic\", \"editorItemAlignLeft\", \"editorItemAlignBottom\", \"editorItemAlignCenter\", \"editorItemAlignMiddle\", \"editorItemAlignRight\", \"editorItemAlignTop\", \"editorLink\", \"editorOrderedList\", \"editorPositionBottomLeft\", \"editorPositionBottomRight\", \"editorPositionTopLeft\", \"editorPositionTopRight\", \"editorRedo\", \"editorStrike\", \"editorTable\", \"editorUnderline\", \"editorUndo\", \"editorUnorderedList\", \"email\", \"empty\", \"emsApp\", \"eql\", \"eraser\", \"exit\", \"expand\", \"expandMini\", \"exportAction\", \"eye\", \"eyeClosed\", \"faceHappy\", \"faceNeutral\", \"faceSad\", \"filebeatApp\", \"filter\", \"flag\", \"fold\", \"folderCheck\", \"folderClosed\", \"folderExclamation\", \"folderOpen\", \"frameNext\", \"framePrevious\", \"fullScreen\", \"fullScreenExit\", \"function\", \"gear\", \"gisApp\", \"glasses\", \"globe\", \"grab\", \"grabHorizontal\", \"graphApp\", \"grid\", \"grokApp\", \"heart\", \"heartbeatApp\", \"heatmap\", \"help\", \"home\", \"iInCircle\", \"image\", \"importAction\", \"indexClose\", \"indexEdit\", \"indexFlush\", \"indexManagementApp\", \"indexMapping\", \"indexOpen\", \"indexPatternApp\", \"indexRollupApp\", \"indexRuntime\", \"indexSettings\", \"inputOutput\", \"inspect\", \"invert\", \"ip\", \"keyboardShortcut\", \"kqlField\", \"kqlFunction\", \"kqlOperand\", \"kqlSelector\", \"kqlValue\", \"layers\", \"lensApp\", \"link\", \"list\", \"listAdd\", \"lock\", \"lockOpen\", \"logsApp\", \"logoAerospike\", \"logoApache\", \"logoAppSearch\", \"logoAWS\", \"logoAWSMono\", \"logoAzure\", \"logoAzureMono\", \"logoBeats\", \"logoBusinessAnalytics\", \"logoCeph\", \"logoCloud\", \"logoCloudEnterprise\", \"logoCode\", \"logoCodesandbox\", \"logoCouchbase\", \"logoDocker\", \"logoDropwizard\", \"logoElastic\", \"logoElasticsearch\", \"logoElasticStack\", \"logoEnterpriseSearch\", \"logoEtcd\", \"logoGCP\", \"logoGCPMono\", \"logoGithub\", \"logoGmail\", \"logoGolang\", \"logoGoogleG\", \"logoHAproxy\", \"logoIBM\", \"logoIBMMono\", \"logoKafka\", \"logoKibana\", \"logoKubernetes\", \"logoLogging\", \"logoLogstash\", \"logoMaps\", \"logoMemcached\", \"logoMetrics\", \"logoMongodb\", \"logoMySQL\", \"logoNginx\", \"logoObservability\", \"logoOsquery\", \"logoPhp\", \"logoPostgres\", \"logoPrometheus\", \"logoRabbitmq\", \"logoRedis\", \"logoSecurity\", \"logoSiteSearch\", \"logoSketch\", \"logoSlack\", \"logoUptime\", \"logoWebhook\", \"logoWindows\", \"logoWorkplaceSearch\", \"logstashFilter\", \"logstashIf\", \"logstashInput\", \"logstashOutput\", \"logstashQueue\", \"machineLearningApp\", \"magnet\", \"magnifyWithMinus\", \"magnifyWithPlus\", \"managementApp\", \"mapMarker\", \"memory\", \"menu\", \"menuDown\", \"menuLeft\", \"menuRight\", \"menuUp\", \"merge\", \"metricbeatApp\", \"metricsApp\", \"minimize\", \"minus\", \"minusInCircle\", \"minusInCircleFilled\", \"mobile\", \"monitoringApp\", \"moon\", \"nested\", \"node\", \"notebookApp\", \"number\", \"offline\", \"online\", \"outlierDetectionJob\", \"package\", \"packetbeatApp\", \"pageSelect\", \"pagesSelect\", \"partial\", \"paperClip\", \"pause\", \"pencil\", \"percent\", \"pin\", \"pinFilled\", \"pipelineApp\", \"play\", \"playFilled\", \"plus\", \"plusInCircle\", \"plusInCircleFilled\", \"popout\", \"push\", \"questionInCircle\", \"quote\", \"recentlyViewedApp\", \"refresh\", \"regressionJob\", \"reporter\", \"reportingApp\", \"returnKey\", \"save\", \"savedObjectsApp\", \"scale\", \"search\", \"searchProfilerApp\", \"securityAnalyticsApp\", \"securityApp\", \"securitySignal\", \"securitySignalDetected\", \"securitySignalResolved\", \"shard\", \"share\", \"snowflake\", \"sortable\", \"sortDown\", \"sortLeft\", \"sortRight\", \"sortUp\", \"spacesApp\", \"sqlApp\", \"starEmpty\", \"starEmptySpace\", \"starFilled\", \"starFilledSpace\", \"starMinusEmpty\", \"starMinusFilled\", \"starPlusEmpty\", \"starPlusFilled\", \"stats\", \"stop\", \"stopFilled\", \"stopSlash\", \"storage\", \"string\", \"submodule\", \"swatchInput\", \"symlink\", \"tableOfContents\", \"tableDensityExpanded\", \"tableDensityCompact\", \"tableDensityNormal\", \"tag\", \"tear\", \"temperature\", \"timeline\", \"timelionApp\", \"timeslider\", \"training\", \"trash\", \"upgradeAssistantApp\", \"uptimeApp\", \"unfold\", \"unlink\", \"user\", \"users\", \"usersRolesApp\", \"vector\", \"videoPlayer\", \"visArea\", \"visAreaStacked\", \"visBarHorizontal\", \"visBarHorizontalStacked\", \"visBarVertical\", \"visBarVerticalStacked\", \"visGauge\", \"visGoal\", \"visLine\", \"visMapCoordinate\", \"visMapRegion\", \"visMetric\", \"visPie\", \"visTable\", \"visTagCloud\", \"visText\", \"visTimelion\", \"visualizeApp\", \"visVega\", \"visVisualBuilder\", \"watchesApp\", \"wordWrap\", \"wordWrapDisabled\", \"workplaceSearchApp\", \"wrench\", \"tokenClass\", \"tokenProperty\", \"tokenEnum\", \"tokenVariable\", \"tokenMethod\", \"tokenAnnotation\", \"tokenException\", \"tokenInterface\", \"tokenParameter\", \"tokenField\", \"tokenElement\", \"tokenFunction\", \"tokenBoolean\", \"tokenString\", \"tokenArray\", \"tokenNumber\", \"tokenConstant\", \"tokenObject\", \"tokenEvent\", \"tokenKey\", \"tokenNull\", \"tokenStruct\", \"tokenPackage\", \"tokenOperator\", \"tokenEnumMember\", \"tokenRepo\", \"tokenSymbol\", \"tokenFile\", \"tokenModule\", \"tokenNamespace\", \"tokenDate\", \"tokenIP\", \"tokenNested\", \"tokenAlias\", \"tokenShape\", \"tokenGeo\", \"tokenRange\", \"tokenBinary\", \"tokenJoin\", \"tokenPercolator\", \"tokenFlattened\", \"tokenRankFeature\", \"tokenRankFeatures\", \"tokenKeyword\", \"tokenCompletionSuggester\", \"tokenDenseVector\", \"tokenText\", \"tokenTokenCount\", \"tokenSearchType\", \"tokenHistogram\"]).isRequired, PropTypes.string.isRequired, PropTypes.elementType.isRequired]).isRequired\n    }).isRequired,\n    helpText: PropTypes.node,\n    formatting: PropTypes.shape({\n      prefix: PropTypes.string,\n      suffix: PropTypes.string,\n      blockPrefix: PropTypes.string,\n      blockSuffix: PropTypes.string,\n      multiline: PropTypes.bool,\n      replaceNext: PropTypes.string,\n      prefixSpace: PropTypes.bool,\n      scanFor: PropTypes.string,\n      surroundWithNewlines: PropTypes.bool,\n      orderedList: PropTypes.bool,\n      trimFirst: PropTypes.bool\n    }),\n    editor: PropTypes.elementType\n  }).isRequired),\n\n  /** errors to bubble up */\n  errors: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.any.isRequired, PropTypes.any.isRequired]).isRequired),\n\n  /** callback triggered when parsing results are available */\n  onParse: PropTypes.func,\n\n  /** initial display mode for the editor */\n  initialViewMode: PropTypes.oneOfType([PropTypes.any.isRequired, PropTypes.any.isRequired]),\n\n  /** array defining any drag&drop handlers */\n  dropHandlers: PropTypes.arrayOf(PropTypes.shape({\n    supportedFiles: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n    accepts: PropTypes.func.isRequired,\n    getFormattingForItem: PropTypes.func.isRequired\n  }).isRequired)\n};\nEuiMarkdownEditor.displayName = 'EuiMarkdownEditor';\n\ntry {\n  EuiMarkdownEditor.__docgenInfo = {\n    description: '',\n    displayName: 'EuiMarkdownEditor',\n    methods: [],\n    props: {\n      value: {\n        defaultValue: null,\n        description: 'A markdown content',\n        name: 'value',\n        parent: undefined,\n        required: true,\n        type: {\n          name: 'string'\n        }\n      },\n      height: {\n        defaultValue: {\n          value: '250'\n        },\n        description: 'Sets the `height` in pixels of the editor/preview area or pass `full` to allow\\n' + 'the EuiMarkdownEditor to fill the height of its container.\\n' + 'When in `full` mode the vertical resize is not allowed.',\n        name: 'height',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'number | \"full\"'\n        }\n      },\n      className: {\n        defaultValue: null,\n        description: '',\n        name: 'className',\n        parent: {\n          fileName: 'eui/node_modules/@types/react/index.d.ts',\n          name: 'HTMLAttributes'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      onChange: {\n        defaultValue: null,\n        description: 'callback function when markdown content is modified',\n        name: 'onChange',\n        parent: undefined,\n        required: true,\n        type: {\n          name: '(value: string) => void'\n        }\n      },\n      'data-test-subj': {\n        defaultValue: null,\n        description: '',\n        name: 'data-test-subj',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      editorId: {\n        defaultValue: null,\n        description: \"a unique ID to attach to the textarea. If one isn't provided, a random one\\n\" + 'will be generated',\n        name: 'editorId',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      maxHeight: {\n        defaultValue: {\n          value: '500'\n        },\n        description: 'Sets the `max-height` in pixels of the editor/preview area.\\n' + 'It has no effect when the `height` is set to `full`.',\n        name: 'maxHeight',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      autoExpandPreview: {\n        defaultValue: {\n          value: 'true'\n        },\n        description: 'Automatically adjusts the preview height to fit all the content and avoid a scrollbar.',\n        name: 'autoExpandPreview',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      parsingPluginList: {\n        defaultValue: {\n          value: null\n        },\n        description: 'plugins to identify new syntax and parse it into an AST node',\n        name: 'parsingPluginList',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'PluggableList<Settings>'\n        }\n      },\n      processingPluginList: {\n        defaultValue: {\n          value: null\n        },\n        description: 'plugins to process the markdown AST nodes into a React nodes',\n        name: 'processingPluginList',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'PluggableList<Settings>'\n        }\n      },\n      uiPlugins: {\n        defaultValue: {\n          value: null\n        },\n        description: \"defines UI for plugins' buttons in the toolbar as well as any modals or extra UI that provides content to the editor\",\n        name: 'uiPlugins',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'EuiMarkdownEditorUiPlugin<any>[]'\n        }\n      },\n      errors: {\n        defaultValue: {\n          value: '[]'\n        },\n        description: 'errors to bubble up',\n        name: 'errors',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'EuiMarkdownParseError[]'\n        }\n      },\n      onParse: {\n        defaultValue: null,\n        description: 'callback triggered when parsing results are available',\n        name: 'onParse',\n        parent: undefined,\n        required: false,\n        type: {\n          name: '(error: EuiMarkdownParseError, data: { messages: VFileMessage[]; ast: EuiMarkdownAstNode; }) => void'\n        }\n      },\n      initialViewMode: {\n        defaultValue: {\n          value: null\n        },\n        description: 'initial display mode for the editor',\n        name: 'initialViewMode',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'enum',\n          raw: 'MARKDOWN_MODE',\n          value: [{\n            value: '\"editing\"'\n          }, {\n            value: '\"viewing\"'\n          }]\n        }\n      },\n      dropHandlers: {\n        defaultValue: {\n          value: '[]'\n        },\n        description: 'array defining any drag&drop handlers',\n        name: 'dropHandlers',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'EuiMarkdownDropHandler[]'\n        }\n      },\n      'aria-label': {\n        defaultValue: null,\n        description: 'Defines a string value that labels the current element.\\n' + 'aria-label OR aria-labelledby must be set\\n' + '@see aria-labelledby.',\n        name: 'aria-label',\n        parent: {\n          fileName: 'eui/node_modules/@types/react/index.d.ts',\n          name: 'AriaAttributes'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      ref: {\n        defaultValue: null,\n        description: '',\n        name: 'ref',\n        parent: {\n          fileName: 'eui/node_modules/@types/react/index.d.ts',\n          name: 'RefAttributes'\n        },\n        required: false,\n        type: {\n          name: 'Ref<EuiMarkdownEditorRef>'\n        }\n      }\n    },\n    extendedInterfaces: ['HTMLAttributes', 'AriaAttributes', 'DOMAttributes', 'CommonProps', 'Attributes']\n  };\n} catch (e) {}"]}]}