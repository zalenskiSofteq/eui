{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\observer\\mutation_observer\\mutation_observer.ts","dependencies":[{"path":"D:\\work\\eui\\src\\components\\observer\\mutation_observer\\mutation_observer.ts","mtime":1649070093715},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgRXVpT2JzZXJ2ZXIgfSBmcm9tICcuLi9vYnNlcnZlcic7CmV4cG9ydCB2YXIgRXVpTXV0YXRpb25PYnNlcnZlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0V1aU9ic2VydmVyKSB7CiAgX2luaGVyaXRzKEV1aU11dGF0aW9uT2JzZXJ2ZXIsIF9FdWlPYnNlcnZlcik7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRXVpTXV0YXRpb25PYnNlcnZlcik7CgogIGZ1bmN0aW9uIEV1aU11dGF0aW9uT2JzZXJ2ZXIoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV1aU11dGF0aW9uT2JzZXJ2ZXIpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJuYW1lIiwgJ0V1aU11dGF0aW9uT2JzZXJ2ZXInKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbk11dGF0aW9uIiwgZnVuY3Rpb24gKHJlY29yZHMsIG9ic2VydmVyKSB7CiAgICAgIF90aGlzLnByb3BzLm9uTXV0YXRpb24ocmVjb3Jkcywgb2JzZXJ2ZXIpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiYmVnaW5PYnNlcnZlIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgY2hpbGROb2RlID0gX3RoaXMuY2hpbGROb2RlOwogICAgICBfdGhpcy5vYnNlcnZlciA9IG1ha2VNdXRhdGlvbk9ic2VydmVyKGNoaWxkTm9kZSwgX3RoaXMucHJvcHMub2JzZXJ2ZXJPcHRpb25zLCBfdGhpcy5vbk11dGF0aW9uKTsKICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIHJldHVybiBFdWlNdXRhdGlvbk9ic2VydmVyOwp9KEV1aU9ic2VydmVyKTsKCnZhciBtYWtlTXV0YXRpb25PYnNlcnZlciA9IGZ1bmN0aW9uIG1ha2VNdXRhdGlvbk9ic2VydmVyKG5vZGUsIF9vYnNlcnZlck9wdGlvbnMsIGNhbGxiYWNrKSB7CiAgLy8gSUUxMSBhbmQgdGhlIE11dGF0aW9uT2JzZXJ2ZXIgcG9seWZpbGwgdXNlZCBpbiBLaWJhbmEgKGZvciBKZXN0KSBpbXBsZW1lbnQKICAvLyBhbiBvbGRlciBzcGVjIGluIHdoaWNoIHNwZWNpZnlpbmcgYGF0dHJpYnV0ZU9sZFZhbHVlYCBvciBgYXR0cmlidXRlRmlsdGVyYAogIC8vIHdpdGhvdXQgc3BlY2lmeWluZyBgYXR0cmlidXRlc2AgcmVzdWx0cyBpbiBhIGBTeW50YXhFcnJvcmAuCiAgLy8gVGhlIGZvbGxvd2luZyBsb2dpYyBwYXRjaGVzIHRoZSBuZXdlciBzcGVjIGluIHdoaWNoIGBhdHRyaWJ1dGVzOiB0cnVlYCBjYW4gYmUKICAvLyBpbXBsaWVkIHdoZW4gYXBwcm9wcmlhdGUgKGBhdHRyaWJ1dGVPbGRWYWx1ZWAgb3IgYGF0dHJpYnV0ZUZpbHRlcmAgaXMgc3BlY2lmaWVkKS4KICB2YXIgb2JzZXJ2ZXJPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgX29ic2VydmVyT3B0aW9ucyk7CgogIHZhciBuZWVkc0F0dHJpYnV0ZXMgPSBvYnNlcnZlck9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2F0dHJpYnV0ZU9sZFZhbHVlJykgfHwgb2JzZXJ2ZXJPcHRpb25zLmhhc093blByb3BlcnR5KCdhdHRyaWJ1dGVGaWx0ZXInKTsKCiAgaWYgKG5lZWRzQXR0cmlidXRlcyAmJiAhb2JzZXJ2ZXJPcHRpb25zLmhhc093blByb3BlcnR5KCdhdHRyaWJ1dGVzJykpIHsKICAgIG9ic2VydmVyT3B0aW9ucy5hdHRyaWJ1dGVzID0gdHJ1ZTsKICB9CgogIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIG9ic2VydmVyT3B0aW9ucyk7CiAgcmV0dXJuIG9ic2VydmVyOwp9OwoKZXhwb3J0IHZhciB1c2VNdXRhdGlvbk9ic2VydmVyID0gZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcihjb250YWluZXIsIGNhbGxiYWNrLCBvYnNlcnZlck9wdGlvbnMpIHsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGNvbnRhaW5lciAhPSBudWxsKSB7CiAgICAgIHZhciBvYnNlcnZlciA9IG1ha2VNdXRhdGlvbk9ic2VydmVyKGNvbnRhaW5lciwgb2JzZXJ2ZXJPcHRpb25zLCBjYWxsYmFjayk7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgICAgfTsKICAgIH0KICB9LCAvLyBpZ25vcmUgY2hhbmdpbmcgb2JzZXJ2ZXJPcHRpb25zCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgW2NvbnRhaW5lciwgY2FsbGJhY2tdKTsKfTsKCnRyeSB7CiAgRXVpTXV0YXRpb25PYnNlcnZlci5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ0V1aU11dGF0aW9uT2JzZXJ2ZXInLAogICAgbWV0aG9kczogW10sCiAgICBwcm9wczogewogICAgICBjaGlsZHJlbjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogIlJlYWN0Tm9kZSB0byByZW5kZXIgYXMgdGhpcyBjb21wb25lbnQncyBjb250ZW50IiwKICAgICAgICBuYW1lOiAnY2hpbGRyZW4nLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvb2JzZXJ2ZXIvbXV0YXRpb25fb2JzZXJ2ZXIvbXV0YXRpb25fb2JzZXJ2ZXIudHMnLAogICAgICAgICAgbmFtZTogJ0V1aU11dGF0aW9uT2JzZXJ2ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICcocmVmOiAoZTogSFRNTEVsZW1lbnQpID0+IHZvaWQpID0+IFJlYWN0Tm9kZScKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uTXV0YXRpb246IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdvbk11dGF0aW9uJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL29ic2VydmVyL211dGF0aW9uX29ic2VydmVyL211dGF0aW9uX29ic2VydmVyLnRzJywKICAgICAgICAgIG5hbWU6ICdFdWlNdXRhdGlvbk9ic2VydmVyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnTXV0YXRpb25DYWxsYmFjaycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9ic2VydmVyT3B0aW9uczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ29ic2VydmVyT3B0aW9ucycsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9vYnNlcnZlci9tdXRhdGlvbl9vYnNlcnZlci9tdXRhdGlvbl9vYnNlcnZlci50cycsCiAgICAgICAgICBuYW1lOiAnRXVpTXV0YXRpb25PYnNlcnZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdNdXRhdGlvbk9ic2VydmVySW5pdCcKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBleHRlbmRlZEludGVyZmFjZXM6IFsnRXVpTXV0YXRpb25PYnNlcnZlclByb3BzJ10KICB9Owp9IGNhdGNoIChlKSB7fQ=="},{"version":3,"sources":["D:/work/eui/src/components/observer/mutation_observer/mutation_observer.ts"],"names":["useEffect","EuiObserver","EuiMutationObserver","records","observer","props","onMutation","childNode","makeMutationObserver","observerOptions","node","_observerOptions","callback","needsAttributes","hasOwnProperty","attributes","MutationObserver","observe","useMutationObserver","container","disconnect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAoBA,SAApB,QAAqC,OAArC;AAEA,SAASC,WAAT,QAA4B,aAA5B;AAWA,WAAaC,mBAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,2DACS,qBADT;;AAAA,iEAKiC,UAACC,OAAD,EAAUC,QAAV,EAAuB;AACpD,YAAKC,KAAL,CAAWC,UAAX,CAAsBH,OAAtB,EAA+BC,QAA/B;AACD,KAPH;;AAAA,mEASiB,YAAM;AACnB,UAAMG,SAAS,GAAG,MAAKA,SAAvB;AACA,YAAKH,QAAL,GAAgBI,oBAAoB,CAClCD,SADkC,EAElC,MAAKF,KAAL,CAAWI,eAFuB,EAGlC,MAAKH,UAH6B,CAApC;AAKD,KAhBH;;AAAA;AAAA;;AAAA;AAAA,EAAyCL,WAAzC;;AAmBA,IAAMO,oBAAoB,GAAG,SAAvBA,oBAAuB,CAC3BE,IAD2B,EAE3BC,gBAF2B,EAG3BC,QAH2B,EAIxB;AACH;AACA;AACA;AACA;AACA;AACA,MAAMH,eAAqC,qBACtCE,gBADsC,CAA3C;;AAGA,MAAME,eAAe,GACnBJ,eAAe,CAACK,cAAhB,CAA+B,mBAA/B,KACAL,eAAe,CAACK,cAAhB,CAA+B,iBAA/B,CAFF;;AAGA,MAAID,eAAe,IAAI,CAACJ,eAAe,CAACK,cAAhB,CAA+B,YAA/B,CAAxB,EAAsE;AACpEL,IAAAA,eAAe,CAACM,UAAhB,GAA6B,IAA7B;AACD;;AAED,MAAMX,QAAQ,GAAG,IAAIY,gBAAJ,CAAqBJ,QAArB,CAAjB;AACAR,EAAAA,QAAQ,CAACa,OAAT,CAAiBP,IAAjB,EAAuBD,eAAvB;AAEA,SAAOL,QAAP;AACD,CAxBD;;AA0BA,OAAO,IAAMc,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjCC,SADiC,EAEjCP,QAFiC,EAGjCH,eAHiC,EAI9B;AACHT,EAAAA,SAAS,CACP,YAAM;AACJ,QAAImB,SAAS,IAAI,IAAjB,EAAuB;AACrB,UAAMf,QAAQ,GAAGI,oBAAoB,CACnCW,SADmC,EAEnCV,eAFmC,EAGnCG,QAHmC,CAArC;AAKA,aAAO;AAAA,eAAMR,QAAQ,CAACgB,UAAT,EAAN;AAAA,OAAP;AACD;AACF,GAVM,EAWP;AACA;AACA,GAACD,SAAD,EAAYP,QAAZ,CAbO,CAAT;AAeD,CApBM","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { ReactNode, useEffect } from 'react';\n\nimport { EuiObserver } from '../observer';\n\nexport interface EuiMutationObserverProps {\n  /**\n   * ReactNode to render as this component's content\n   */\n  children: (ref: (e: HTMLElement | null) => void) => ReactNode;\n  onMutation: MutationCallback;\n  observerOptions?: MutationObserverInit;\n}\n\nexport class EuiMutationObserver extends EuiObserver<EuiMutationObserverProps> {\n  name = 'EuiMutationObserver';\n\n  // the `onMutation` prop may change while the observer is bound, abstracting\n  // it out into a separate function means the current `onMutation` value is used\n  onMutation: MutationCallback = (records, observer) => {\n    this.props.onMutation(records, observer);\n  };\n\n  beginObserve = () => {\n    const childNode = this.childNode!;\n    this.observer = makeMutationObserver(\n      childNode,\n      this.props.observerOptions,\n      this.onMutation\n    );\n  };\n}\n\nconst makeMutationObserver = (\n  node: Element,\n  _observerOptions: MutationObserverInit | undefined,\n  callback: MutationCallback\n) => {\n  // IE11 and the MutationObserver polyfill used in Kibana (for Jest) implement\n  // an older spec in which specifying `attributeOldValue` or `attributeFilter`\n  // without specifying `attributes` results in a `SyntaxError`.\n  // The following logic patches the newer spec in which `attributes: true` can be\n  // implied when appropriate (`attributeOldValue` or `attributeFilter` is specified).\n  const observerOptions: MutationObserverInit = {\n    ..._observerOptions,\n  };\n  const needsAttributes =\n    observerOptions.hasOwnProperty('attributeOldValue') ||\n    observerOptions.hasOwnProperty('attributeFilter');\n  if (needsAttributes && !observerOptions.hasOwnProperty('attributes')) {\n    observerOptions.attributes = true;\n  }\n\n  const observer = new MutationObserver(callback);\n  observer.observe(node, observerOptions);\n\n  return observer;\n};\n\nexport const useMutationObserver = (\n  container: Element | null,\n  callback: MutationCallback,\n  observerOptions?: MutationObserverInit\n) => {\n  useEffect(\n    () => {\n      if (container != null) {\n        const observer = makeMutationObserver(\n          container,\n          observerOptions,\n          callback\n        );\n        return () => observer.disconnect();\n      }\n    },\n    // ignore changing observerOptions\n    // eslint-disable-next-line\n    [container, callback]\n  );\n};\n"]}]}