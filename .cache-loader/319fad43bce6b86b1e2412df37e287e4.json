{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\selectable\\selectable.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\selectable\\selectable.tsx","mtime":1649070093758},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKCmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQsIGNyZWF0ZVJlZiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICJwcm9wLXR5cGVzIjsKaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7CmltcG9ydCB7IEV1aVNlbGVjdGFibGVTZWFyY2ggfSBmcm9tICcuL3NlbGVjdGFibGVfc2VhcmNoJzsKaW1wb3J0IHsgRXVpU2VsZWN0YWJsZU1lc3NhZ2UgfSBmcm9tICcuL3NlbGVjdGFibGVfbWVzc2FnZSc7CmltcG9ydCB7IEV1aVNlbGVjdGFibGVMaXN0IH0gZnJvbSAnLi9zZWxlY3RhYmxlX2xpc3QnOwppbXBvcnQgeyBFdWlMb2FkaW5nU3Bpbm5lciB9IGZyb20gJy4uL2xvYWRpbmcnOwppbXBvcnQgeyBFdWlTcGFjZXIgfSBmcm9tICcuLi9zcGFjZXInOwppbXBvcnQgeyBnZXRNYXRjaGluZ09wdGlvbnMgfSBmcm9tICcuL21hdGNoaW5nX29wdGlvbnMnOwppbXBvcnQgeyBrZXlzLCBodG1sSWRHZW5lcmF0b3IgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7CmltcG9ydCB7IEV1aUkxOG4gfSBmcm9tICcuLi9pMThuJzsKZXhwb3J0IHZhciBFdWlTZWxlY3RhYmxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEV1aVNlbGVjdGFibGUsIF9Db21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEV1aVNlbGVjdGFibGUpOwoKICBmdW5jdGlvbiBFdWlTZWxlY3RhYmxlKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV1aVNlbGVjdGFibGUpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImNvbnRhaW5lclJlZiIsIC8qI19fUFVSRV9fKi9jcmVhdGVSZWYoKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib3B0aW9uc0xpc3RSZWYiLCAvKiNfX1BVUkVfXyovY3JlYXRlUmVmKCkpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJvb3RJZCIsIGh0bWxJZEdlbmVyYXRvcigpKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJoYXNBY3RpdmVPcHRpb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5zdGF0ZS5hY3RpdmVPcHRpb25JbmRleCAhPSBudWxsOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25Gb2N1cyIsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFfdGhpcy5zdGF0ZS52aXNpYmxlT3B0aW9ucy5sZW5ndGggfHwgX3RoaXMuc3RhdGUuYWN0aXZlT3B0aW9uSW5kZXgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmaXJzdFNlbGVjdGVkID0gX3RoaXMuc3RhdGUudmlzaWJsZU9wdGlvbnMuZmluZEluZGV4KGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgICByZXR1cm4gb3B0aW9uLmNoZWNrZWQgJiYgIW9wdGlvbi5kaXNhYmxlZCAmJiAhb3B0aW9uLmlzR3JvdXBMYWJlbDsKICAgICAgfSk7CgogICAgICBpZiAoZmlyc3RTZWxlY3RlZCA+IC0xKSB7CiAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgYWN0aXZlT3B0aW9uSW5kZXg6IGZpcnN0U2VsZWN0ZWQsCiAgICAgICAgICBpc0ZvY3VzZWQ6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBhY3RpdmVPcHRpb25JbmRleDogX3RoaXMuc3RhdGUudmlzaWJsZU9wdGlvbnMuZmluZEluZGV4KGZ1bmN0aW9uIChvcHRpb24pIHsKICAgICAgICAgICAgcmV0dXJuICFvcHRpb24uZGlzYWJsZWQgJiYgIW9wdGlvbi5pc0dyb3VwTGFiZWw7CiAgICAgICAgICB9KSwKICAgICAgICAgIGlzRm9jdXNlZDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbktleURvd24iLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIG9wdGlvbnNMaXN0ID0gX3RoaXMub3B0aW9uc0xpc3RSZWYuY3VycmVudDsKCiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7CiAgICAgICAgY2FzZSBrZXlzLkFSUk9XX1VQOgogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgICAgIF90aGlzLmluY3JlbWVudEFjdGl2ZU9wdGlvbkluZGV4KC0xKTsKCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBrZXlzLkFSUk9XX0RPV046CiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgICAgICAgX3RoaXMuaW5jcmVtZW50QWN0aXZlT3B0aW9uSW5kZXgoMSk7CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2Uga2V5cy5FTlRFUjoKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCiAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUuYWN0aXZlT3B0aW9uSW5kZXggIT0gbnVsbCAmJiBvcHRpb25zTGlzdCkgewogICAgICAgICAgICBvcHRpb25zTGlzdC5vbkFkZE9yUmVtb3ZlT3B0aW9uKF90aGlzLnN0YXRlLnZpc2libGVPcHRpb25zW190aGlzLnN0YXRlLmFjdGl2ZU9wdGlvbkluZGV4XSk7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4OiB1bmRlZmluZWQKICAgICAgICAgIH0sIF90aGlzLm9uRm9jdXMpOwoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJpbmNyZW1lbnRBY3RpdmVPcHRpb25JbmRleCIsIGZ1bmN0aW9uIChhbW91bnQpIHsKICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIG9wdGlvbnMgYXZhaWxhYmxlLCBkbyBub3RoaW5nLgogICAgICBpZiAoIV90aGlzLnN0YXRlLnZpc2libGVPcHRpb25zLmxlbmd0aCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgYWN0aXZlT3B0aW9uSW5kZXggPSBfcmVmLmFjdGl2ZU9wdGlvbkluZGV4LAogICAgICAgICAgICB2aXNpYmxlT3B0aW9ucyA9IF9yZWYudmlzaWJsZU9wdGlvbnM7CiAgICAgICAgdmFyIG5leHRBY3RpdmVPcHRpb25JbmRleDsKCiAgICAgICAgaWYgKGFjdGl2ZU9wdGlvbkluZGV4ID09IG51bGwpIHsKICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGJlZ2lubmluZyBvZiB0aGUgdXNlcidzIGtleWJvYXJkIG5hdmlnYXRpb24gb2YgdGhlIG1lbnUsIHRoZW4gd2UnbGwgZm9jdXMKICAgICAgICAgIC8vIGVpdGhlciB0aGUgZmlyc3Qgb3IgbGFzdCBpdGVtLgogICAgICAgICAgbmV4dEFjdGl2ZU9wdGlvbkluZGV4ID0gYW1vdW50IDwgMCA/IHZpc2libGVPcHRpb25zLmxlbmd0aCAtIDEgOiAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXh0QWN0aXZlT3B0aW9uSW5kZXggPSBhY3RpdmVPcHRpb25JbmRleCArIGFtb3VudDsKCiAgICAgICAgICBpZiAobmV4dEFjdGl2ZU9wdGlvbkluZGV4IDwgMCkgewogICAgICAgICAgICBuZXh0QWN0aXZlT3B0aW9uSW5kZXggPSB2aXNpYmxlT3B0aW9ucy5sZW5ndGggLSAxOwogICAgICAgICAgfSBlbHNlIGlmIChuZXh0QWN0aXZlT3B0aW9uSW5kZXggPT09IHZpc2libGVPcHRpb25zLmxlbmd0aCkgewogICAgICAgICAgICBuZXh0QWN0aXZlT3B0aW9uSW5kZXggPSAwOwogICAgICAgICAgfQogICAgICAgIH0gLy8gR3JvdXAgdGl0bGVzIGFuZCBkaXNhYmxlZCBvcHRpb25zIGFyZSBpbmNsdWRlZCBpbiBvcHRpb24gbGlzdCBidXQgYXJlIG5vdCBzZWxlY3RhYmxlCgoKICAgICAgICB2YXIgZGlyZWN0aW9uID0gYW1vdW50ID4gMCA/IDEgOiAtMTsKCiAgICAgICAgd2hpbGUgKHZpc2libGVPcHRpb25zW25leHRBY3RpdmVPcHRpb25JbmRleF0uaXNHcm91cExhYmVsIHx8IHZpc2libGVPcHRpb25zW25leHRBY3RpdmVPcHRpb25JbmRleF0uZGlzYWJsZWQpIHsKICAgICAgICAgIG5leHRBY3RpdmVPcHRpb25JbmRleCA9IG5leHRBY3RpdmVPcHRpb25JbmRleCArIGRpcmVjdGlvbjsKCiAgICAgICAgICBpZiAobmV4dEFjdGl2ZU9wdGlvbkluZGV4IDwgMCkgewogICAgICAgICAgICBuZXh0QWN0aXZlT3B0aW9uSW5kZXggPSB2aXNpYmxlT3B0aW9ucy5sZW5ndGggLSAxOwogICAgICAgICAgfSBlbHNlIGlmIChuZXh0QWN0aXZlT3B0aW9uSW5kZXggPT09IHZpc2libGVPcHRpb25zLmxlbmd0aCkgewogICAgICAgICAgICBuZXh0QWN0aXZlT3B0aW9uSW5kZXggPSAwOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4OiBuZXh0QWN0aXZlT3B0aW9uSW5kZXgKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uU2VhcmNoQ2hhbmdlIiwgZnVuY3Rpb24gKHZpc2libGVPcHRpb25zLCBzZWFyY2hWYWx1ZSkgewogICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgdmlzaWJsZU9wdGlvbnM6IHZpc2libGVPcHRpb25zLAogICAgICAgIHNlYXJjaFZhbHVlOiBzZWFyY2hWYWx1ZSwKICAgICAgICBhY3RpdmVPcHRpb25JbmRleDogdW5kZWZpbmVkCiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMuc3RhdGUuaXNGb2N1c2VkKSB7CiAgICAgICAgICBfdGhpcy5vbkZvY3VzKCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChfdGhpcy5wcm9wcy5zZWFyY2hQcm9wcyAmJiBfdGhpcy5wcm9wcy5zZWFyY2hQcm9wcy5vblNlYXJjaCkgewogICAgICAgIF90aGlzLnByb3BzLnNlYXJjaFByb3BzLm9uU2VhcmNoKHNlYXJjaFZhbHVlKTsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25Db250YWluZXJCbHVyIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgLy8gSWdub3JlIGJsdXIgZXZlbnRzIHdoZW4gbW92aW5nIGZyb20gc2VhcmNoIHRvIG9wdGlvbiB0byBhdm9pZCBhY3RpdmVPcHRpb25JbmRleCBjb25mbGljdHMKICAgICAgaWYgKF90aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50LmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkpIHJldHVybjsKCiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBhY3RpdmVPcHRpb25JbmRleDogdW5kZWZpbmVkLAogICAgICAgIGlzRm9jdXNlZDogZmFsc2UKICAgICAgfSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbk9wdGlvbkNsaWNrIiwgZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsCiAgICAgICAgICBpc1ByZUZpbHRlcmVkID0gX3RoaXMkcHJvcHMuaXNQcmVGaWx0ZXJlZCwKICAgICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMub25DaGFuZ2UsCiAgICAgICAgICBzZWFyY2hQcm9wcyA9IF90aGlzJHByb3BzLnNlYXJjaFByb3BzOwogICAgICB2YXIgc2VhcmNoVmFsdWUgPSBfdGhpcy5zdGF0ZS5zZWFyY2hWYWx1ZTsKICAgICAgdmFyIHZpc2libGVPcHRpb25zID0gZ2V0TWF0Y2hpbmdPcHRpb25zKG9wdGlvbnMsIHNlYXJjaFZhbHVlLCBpc1ByZUZpbHRlcmVkKTsKCiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICB2aXNpYmxlT3B0aW9uczogdmlzaWJsZU9wdGlvbnMKICAgICAgfSk7CgogICAgICBpZiAob25DaGFuZ2UpIHsKICAgICAgICBvbkNoYW5nZShvcHRpb25zKTsKICAgICAgfQoKICAgICAgaWYgKHNlYXJjaFByb3BzICYmIHNlYXJjaFByb3BzLm9uQ2hhbmdlKSB7CiAgICAgICAgc2VhcmNoUHJvcHMub25DaGFuZ2UodmlzaWJsZU9wdGlvbnMsIHNlYXJjaFZhbHVlKTsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2Nyb2xsVG9JdGVtIiwgZnVuY3Rpb24gKGluZGV4LCBhbGlnbikgewogICAgICB2YXIgX3RoaXMkb3B0aW9uc0xpc3RSZWYkLCBfdGhpcyRvcHRpb25zTGlzdFJlZiQyOwoKICAgICAgKF90aGlzJG9wdGlvbnNMaXN0UmVmJCA9IF90aGlzLm9wdGlvbnNMaXN0UmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF90aGlzJG9wdGlvbnNMaXN0UmVmJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJG9wdGlvbnNMaXN0UmVmJDIgPSBfdGhpcyRvcHRpb25zTGlzdFJlZiQubGlzdFJlZikgPT09IG51bGwgfHwgX3RoaXMkb3B0aW9uc0xpc3RSZWYkMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkb3B0aW9uc0xpc3RSZWYkMi5zY3JvbGxUb0l0ZW0oaW5kZXgsIGFsaWduKTsKICAgIH0pOwoKICAgIHZhciBfb3B0aW9ucyA9IHByb3BzLm9wdGlvbnMsCiAgICAgICAgc2luZ2xlU2VsZWN0aW9uID0gcHJvcHMuc2luZ2xlU2VsZWN0aW9uLAogICAgICAgIF9pc1ByZUZpbHRlcmVkID0gcHJvcHMuaXNQcmVGaWx0ZXJlZDsKICAgIHZhciBpbml0aWFsU2VhcmNoVmFsdWUgPSAnJzsKCiAgICB2YXIgX3Zpc2libGVPcHRpb25zID0gZ2V0TWF0Y2hpbmdPcHRpb25zKF9vcHRpb25zLCBpbml0aWFsU2VhcmNoVmFsdWUsIF9pc1ByZUZpbHRlcmVkKTsgLy8gZW5zdXJlIHRoYXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBzaW5nbGUgb3B0aW9uIGlzIGFjdGl2ZSBpZiBpdCBpcyBpbiB0aGUgdmlzaWJsZU9wdGlvbnMKCgogICAgdmFyIHNlbGVjdGVkT3B0aW9ucyA9IF9vcHRpb25zLmZpbHRlcihmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgIHJldHVybiBvcHRpb24uY2hlY2tlZDsKICAgIH0pOwoKICAgIHZhciBfYWN0aXZlT3B0aW9uSW5kZXg7CgogICAgaWYgKHNpbmdsZVNlbGVjdGlvbiAmJiBzZWxlY3RlZE9wdGlvbnMubGVuZ3RoID09PSAxKSB7CiAgICAgIGlmIChfdmlzaWJsZU9wdGlvbnMuaW5jbHVkZXMoc2VsZWN0ZWRPcHRpb25zWzBdKSkgewogICAgICAgIF9hY3RpdmVPcHRpb25JbmRleCA9IF92aXNpYmxlT3B0aW9ucy5pbmRleE9mKHNlbGVjdGVkT3B0aW9uc1swXSk7CiAgICAgIH0KICAgIH0KCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgYWN0aXZlT3B0aW9uSW5kZXg6IF9hY3RpdmVPcHRpb25JbmRleCwKICAgICAgc2VhcmNoVmFsdWU6IGluaXRpYWxTZWFyY2hWYWx1ZSwKICAgICAgdmlzaWJsZU9wdGlvbnM6IF92aXNpYmxlT3B0aW9ucywKICAgICAgaXNGb2N1c2VkOiBmYWxzZQogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhFdWlTZWxlY3RhYmxlLCBbewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsCiAgICAgICAgICBpZCA9IF90aGlzJHByb3BzMi5pZCwKICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMyLmNoaWxkcmVuLAogICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmNsYXNzTmFtZSwKICAgICAgICAgIG9wdGlvbnMgPSBfdGhpcyRwcm9wczIub3B0aW9ucywKICAgICAgICAgIG9uQ2hhbmdlID0gX3RoaXMkcHJvcHMyLm9uQ2hhbmdlLAogICAgICAgICAgc2VhcmNoYWJsZSA9IF90aGlzJHByb3BzMi5zZWFyY2hhYmxlLAogICAgICAgICAgc2VhcmNoUHJvcHMgPSBfdGhpcyRwcm9wczIuc2VhcmNoUHJvcHMsCiAgICAgICAgICBzaW5nbGVTZWxlY3Rpb24gPSBfdGhpcyRwcm9wczIuc2luZ2xlU2VsZWN0aW9uLAogICAgICAgICAgaXNMb2FkaW5nID0gX3RoaXMkcHJvcHMyLmlzTG9hZGluZywKICAgICAgICAgIGxpc3RQcm9wcyA9IF90aGlzJHByb3BzMi5saXN0UHJvcHMsCiAgICAgICAgICByZW5kZXJPcHRpb24gPSBfdGhpcyRwcm9wczIucmVuZGVyT3B0aW9uLAogICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHMyLmhlaWdodCwKICAgICAgICAgIGFsbG93RXhjbHVzaW9ucyA9IF90aGlzJHByb3BzMi5hbGxvd0V4Y2x1c2lvbnMsCiAgICAgICAgICBhcmlhTGFiZWwgPSBfdGhpcyRwcm9wczJbJ2FyaWEtbGFiZWwnXSwKICAgICAgICAgIGFyaWFEZXNjcmliZWRieSA9IF90aGlzJHByb3BzMlsnYXJpYS1kZXNjcmliZWRieSddLAogICAgICAgICAgbG9hZGluZ01lc3NhZ2UgPSBfdGhpcyRwcm9wczIubG9hZGluZ01lc3NhZ2UsCiAgICAgICAgICBub01hdGNoZXNNZXNzYWdlID0gX3RoaXMkcHJvcHMyLm5vTWF0Y2hlc01lc3NhZ2UsCiAgICAgICAgICBlbXB0eU1lc3NhZ2UgPSBfdGhpcyRwcm9wczIuZW1wdHlNZXNzYWdlLAogICAgICAgICAgaXNQcmVGaWx0ZXJlZCA9IF90aGlzJHByb3BzMi5pc1ByZUZpbHRlcmVkLAogICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRwcm9wczIsIFsiaWQiLCAiY2hpbGRyZW4iLCAiY2xhc3NOYW1lIiwgIm9wdGlvbnMiLCAib25DaGFuZ2UiLCAic2VhcmNoYWJsZSIsICJzZWFyY2hQcm9wcyIsICJzaW5nbGVTZWxlY3Rpb24iLCAiaXNMb2FkaW5nIiwgImxpc3RQcm9wcyIsICJyZW5kZXJPcHRpb24iLCAiaGVpZ2h0IiwgImFsbG93RXhjbHVzaW9ucyIsICJhcmlhLWxhYmVsIiwgImFyaWEtZGVzY3JpYmVkYnkiLCAibG9hZGluZ01lc3NhZ2UiLCAibm9NYXRjaGVzTWVzc2FnZSIsICJlbXB0eU1lc3NhZ2UiLCAiaXNQcmVGaWx0ZXJlZCJdKTsKCiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsCiAgICAgICAgICBzZWFyY2hWYWx1ZSA9IF90aGlzJHN0YXRlLnNlYXJjaFZhbHVlLAogICAgICAgICAgdmlzaWJsZU9wdGlvbnMgPSBfdGhpcyRzdGF0ZS52aXNpYmxlT3B0aW9ucywKICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4ID0gX3RoaXMkc3RhdGUuYWN0aXZlT3B0aW9uSW5kZXg7IC8vIFNvbWUgbWVzc3kgZGVzdHJ1Y3R1cmluZyBoZXJlIHRvIHJlbW92ZSBhcmlhLWxhYmVsL2Rlc2NyaWJlZGJ5IGZyb20gc2VhcmNoUHJvcHMgYW5kIGxpc3RQcm9wcwogICAgICAvLyBNYWRlIG1lc3NpZXIgYnkgc29tZSBUUyByZXF1aXJlbWVudHMKICAgICAgLy8gVGhlIGFyaWEgYXR0cmlidXRlcyBhcmUgdGhlbiB1c2VkIGluIGdldEFjY2Vzc2libGVOYW1lKCkgdG8gcGxhY2UgdGhlbSB3aGVyZSB0aGV5IG5lZWQgdG8gZ28KCiAgICAgIHZhciB1bmtub3duQWNjZXNzaWJsZU5hbWUgPSB7CiAgICAgICAgJ2FyaWEtbGFiZWwnOiB1bmRlZmluZWQsCiAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiB1bmRlZmluZWQKICAgICAgfTsKCiAgICAgIHZhciBfcmVmMiA9IHNlYXJjaFByb3BzIHx8IHVua25vd25BY2Nlc3NpYmxlTmFtZSwKICAgICAgICAgIHNlYXJjaEFyaWFMYWJlbCA9IF9yZWYyWydhcmlhLWxhYmVsJ10sCiAgICAgICAgICBzZWFyY2hBcmlhRGVzY3JpYmVkYnkgPSBfcmVmMlsnYXJpYS1kZXNjcmliZWRieSddLAogICAgICAgICAgcHJvcHNPbkNoYW5nZSA9IF9yZWYyLm9uQ2hhbmdlLAogICAgICAgICAgb25TZWFyY2ggPSBfcmVmMi5vblNlYXJjaCwKICAgICAgICAgIGNsZWFuZWRTZWFyY2hQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMiwgWyJhcmlhLWxhYmVsIiwgImFyaWEtZGVzY3JpYmVkYnkiLCAib25DaGFuZ2UiLCAib25TZWFyY2giXSk7CgogICAgICB2YXIgX3JlZjMgPSBsaXN0UHJvcHMgfHwgdW5rbm93bkFjY2Vzc2libGVOYW1lLAogICAgICAgICAgbGlzdEFyaWFMYWJlbCA9IF9yZWYzWydhcmlhLWxhYmVsJ10sCiAgICAgICAgICBsaXN0QXJpYURlc2NyaWJlZGJ5ID0gX3JlZjNbJ2FyaWEtZGVzY3JpYmVkYnknXSwKICAgICAgICAgIGNsZWFuZWRMaXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjMsIFsiYXJpYS1sYWJlbCIsICJhcmlhLWRlc2NyaWJlZGJ5Il0pOwoKICAgICAgdmFyIGNsYXNzZXMgPSBjbGFzc05hbWVzKCdldWlTZWxlY3RhYmxlJywgewogICAgICAgICdldWlTZWxlY3RhYmxlLWZ1bGxIZWlnaHQnOiBoZWlnaHQgPT09ICdmdWxsJwogICAgICB9LCBjbGFzc05hbWUpOwogICAgICAvKiogQ3JlYXRlIElkJ3MgKi8KCiAgICAgIHZhciBtZXNzYWdlQ29udGVudElkID0gdGhpcy5yb290SWQoJ21lc3NhZ2VDb250ZW50Jyk7CiAgICAgIHZhciBsaXN0SWQgPSB0aGlzLnJvb3RJZCgnbGlzdGJveCcpOwoKICAgICAgdmFyIG1ha2VPcHRpb25JZCA9IGZ1bmN0aW9uIG1ha2VPcHRpb25JZChpbmRleCkgewogICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gIiIuY29uY2F0KGxpc3RJZCwgIl9vcHRpb24tIikuY29uY2F0KGluZGV4KTsKICAgICAgfTsKICAgICAgLyoqIENyZWF0ZSBtZXNzYWdlIGNvbnRlbnQgdGhhdCByZXBsYWNlcyB0aGUgbGlzdCBpZiBubyBvcHRpb25zIGFyZSBhdmFpbGFibGUgKHlldCkgKi8KCgogICAgICB2YXIgbWVzc2FnZUNvbnRlbnQ7CgogICAgICBpZiAoaXNMb2FkaW5nKSB7CiAgICAgICAgaWYgKGxvYWRpbmdNZXNzYWdlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGxvYWRpbmdNZXNzYWdlID09PSAnc3RyaW5nJykgewogICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpTG9hZGluZ1NwaW5uZXIsIHsKICAgICAgICAgICAgc2l6ZTogIm0iCiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpU3BhY2VyLCB7CiAgICAgICAgICAgIHNpemU6ICJ4cyIKICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIGxvYWRpbmdNZXNzYWdlIHx8IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICAgICAgdG9rZW46ICJldWlTZWxlY3RhYmxlLmxvYWRpbmdPcHRpb25zIiwKICAgICAgICAgICAgZGVmYXVsdDogIkxvYWRpbmcgb3B0aW9ucyIKICAgICAgICAgIH0pKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1lc3NhZ2VDb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChsb2FkaW5nTWVzc2FnZSwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgIGlkOiBtZXNzYWdlQ29udGVudElkCiAgICAgICAgICB9LCBsb2FkaW5nTWVzc2FnZS5wcm9wcykpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChzZWFyY2hWYWx1ZSAmJiB2aXNpYmxlT3B0aW9ucy5sZW5ndGggPT09IDApIHsKICAgICAgICBpZiAobm9NYXRjaGVzTWVzc2FnZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBub01hdGNoZXNNZXNzYWdlID09PSAnc3RyaW5nJykgewogICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIG5vTWF0Y2hlc01lc3NhZ2UgfHwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgICAgICAgICB0b2tlbjogImV1aVNlbGVjdGFibGUubm9NYXRjaGluZ09wdGlvbnMiLAogICAgICAgICAgICBkZWZhdWx0OiAie3NlYXJjaFZhbHVlfSBkb2Vzbid0IG1hdGNoIGFueSBvcHRpb25zIiwKICAgICAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICAgICAgc2VhcmNoVmFsdWU6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCBzZWFyY2hWYWx1ZSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQobm9NYXRjaGVzTWVzc2FnZSwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgIGlkOiBtZXNzYWdlQ29udGVudElkCiAgICAgICAgICB9LCBub01hdGNoZXNNZXNzYWdlLnByb3BzKSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCFvcHRpb25zLmxlbmd0aCkgewogICAgICAgIGlmIChlbXB0eU1lc3NhZ2UgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgZW1wdHlNZXNzYWdlID09PSAnc3RyaW5nJykgewogICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsIGVtcHR5TWVzc2FnZSB8fCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICAgICAgICAgIHRva2VuOiAiZXVpU2VsZWN0YWJsZS5ub0F2YWlsYWJsZU9wdGlvbnMiLAogICAgICAgICAgICBkZWZhdWx0OiAiTm8gb3B0aW9ucyBhdmFpbGFibGUiCiAgICAgICAgICB9KSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1lc3NhZ2VDb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChlbXB0eU1lc3NhZ2UsIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICBpZDogbWVzc2FnZUNvbnRlbnRJZAogICAgICAgICAgfSwgZW1wdHlNZXNzYWdlLnByb3BzKSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIG1lc3NhZ2VDb250ZW50SWQgPSAnJzsKICAgICAgfQogICAgICAvKioKICAgICAgICogVGhlcmUgYXJlIGxvdHMgb2Ygd2F5cyB0byBhZGQgYW4gYWNjZXNzaWJsZSBuYW1lCiAgICAgICAqIFVzdWFsbHkgd2Ugd2FudCB0aGUgc2FtZSBuYW1lIGZvciB0aGUgaW5wdXQgYW5kIHRoZSBsaXN0Ym94ICh3aGljaCBpcyBhZGRlZCBieSBhcmlhLWxhYmVsL2Rlc2NyaWJlZGJ5KQogICAgICAgKiBCdXQgeW91IGNhbiBhbHdheXMgb3ZlcnJpZGUgaXQgdXNpbmcgc2VhcmNoUHJvcHMgb3IgbGlzdFByb3BzCiAgICAgICAqIFRoaXMgZmluZHMgdGhlIGNvcnJlY3QgbmFtZSB0byB1c2UKICAgICAgICoKICAgICAgICogVE9ETzogVGhpcyBkb2Vzbid0IGhhbmRsZSBiZWluZyBsYWJlbGxlZCAoPGxhYmVsIGZvcj0iaWRPZklucHV0Ij4pCiAgICAgICAqLwoKCiAgICAgIHZhciBnZXRBY2Nlc3NpYmxlTmFtZSA9IGZ1bmN0aW9uIGdldEFjY2Vzc2libGVOYW1lKHByb3BzLCBtZXNzYWdlQ29udGVudElkKSB7CiAgICAgICAgaWYgKHByb3BzICYmIHByb3BzWydhcmlhLWxhYmVsJ10pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogcHJvcHNbJ2FyaWEtbGFiZWwnXQogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIHZhciBtZXNzYWdlQ29udGVudElkU3RyaW5nID0gbWVzc2FnZUNvbnRlbnRJZCA/ICIgIi5jb25jYXQobWVzc2FnZUNvbnRlbnRJZCkgOiAnJzsKCiAgICAgICAgaWYgKHByb3BzICYmIHByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogIiIuY29uY2F0KHByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10pLmNvbmNhdChtZXNzYWdlQ29udGVudElkU3RyaW5nKQogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGlmIChhcmlhTGFiZWwpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogYXJpYUxhYmVsCiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgaWYgKGFyaWFEZXNjcmliZWRieSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAiIi5jb25jYXQoYXJpYURlc2NyaWJlZGJ5KS5jb25jYXQobWVzc2FnZUNvbnRlbnRJZFN0cmluZykKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4ge307CiAgICAgIH07CgogICAgICB2YXIgc2VhcmNoQWNjZXNzaWJsZU5hbWUgPSBnZXRBY2Nlc3NpYmxlTmFtZShzZWFyY2hQcm9wcywgbWVzc2FnZUNvbnRlbnRJZCk7CiAgICAgIHZhciBzZWFyY2hIYXNBY2Nlc3NpYmxlTmFtZSA9IEJvb2xlYW4oT2JqZWN0LmtleXMoc2VhcmNoQWNjZXNzaWJsZU5hbWUpLmxlbmd0aCk7CiAgICAgIHZhciBzZWFyY2ggPSBzZWFyY2hhYmxlID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgICAgIHRva2VuOiAiZXVpU2VsZWN0YWJsZS5wbGFjZWhvbGRlck5hbWUiLAogICAgICAgIGRlZmF1bHQ6ICJGaWx0ZXIgb3B0aW9ucyIKICAgICAgfSwgZnVuY3Rpb24gKHBsYWNlaG9sZGVyTmFtZSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlTZWxlY3RhYmxlU2VhcmNoLCBfZXh0ZW5kcyh7CiAgICAgICAgICBrZXk6ICJsaXN0U2VhcmNoIiwKICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsCiAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLm9uU2VhcmNoQ2hhbmdlLAogICAgICAgICAgbGlzdElkOiBfdGhpczIub3B0aW9uc0xpc3RSZWYuY3VycmVudCA/IGxpc3RJZCA6IHVuZGVmaW5lZCAvLyBPbmx5IHBhc3MgdGhlIGxpc3RJZCBpZiBpdCBleGlzdHMgb24gdGhlIHBhZ2UKICAgICAgICAgICwKICAgICAgICAgICJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiOiBtYWtlT3B0aW9uSWQoYWN0aXZlT3B0aW9uSW5kZXgpIC8vIHRoZSBjdXJyZW50IGZhdXgtZm9jdXNlZCBvcHRpb24KICAgICAgICAgICwKICAgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlck5hbWUsCiAgICAgICAgICBpc1ByZUZpbHRlcmVkOiBpc1ByZUZpbHRlcmVkICE9PSBudWxsICYmIGlzUHJlRmlsdGVyZWQgIT09IHZvaWQgMCA/IGlzUHJlRmlsdGVyZWQgOiBmYWxzZQogICAgICAgIH0sIHNlYXJjaEhhc0FjY2Vzc2libGVOYW1lID8gc2VhcmNoQWNjZXNzaWJsZU5hbWUgOiB7CiAgICAgICAgICAnYXJpYS1sYWJlbCc6IHBsYWNlaG9sZGVyTmFtZQogICAgICAgIH0sIGNsZWFuZWRTZWFyY2hQcm9wcykpOwogICAgICB9KSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIGxpc3RBY2Nlc3NpYmxlTmFtZSA9IGdldEFjY2Vzc2libGVOYW1lKGxpc3RQcm9wcyk7CiAgICAgIHZhciBsaXN0SGFzQWNjZXNzaWJsZU5hbWUgPSBCb29sZWFuKE9iamVjdC5rZXlzKGxpc3RBY2Nlc3NpYmxlTmFtZSkubGVuZ3RoKTsKICAgICAgdmFyIGxpc3QgPSBtZXNzYWdlQ29udGVudCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVNlbGVjdGFibGVNZXNzYWdlLCB7CiAgICAgICAgaWQ6IG1lc3NhZ2VDb250ZW50SWQsCiAgICAgICAgYm9yZGVyZWQ6IGxpc3RQcm9wcyAmJiBsaXN0UHJvcHMuYm9yZGVyZWQKICAgICAgfSwgbWVzc2FnZUNvbnRlbnQpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgICAgIHRva2VuOiAiZXVpU2VsZWN0YWJsZS5wbGFjZWhvbGRlck5hbWUiLAogICAgICAgIGRlZmF1bHQ6ICJGaWx0ZXIgb3B0aW9ucyIKICAgICAgfSwgZnVuY3Rpb24gKHBsYWNlaG9sZGVyTmFtZSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlTZWxlY3RhYmxlTGlzdCwgX2V4dGVuZHMoewogICAgICAgICAga2V5OiAibGlzdCIsCiAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLAogICAgICAgICAgdmlzaWJsZU9wdGlvbnM6IHZpc2libGVPcHRpb25zLAogICAgICAgICAgc2VhcmNoVmFsdWU6IHNlYXJjaFZhbHVlLAogICAgICAgICAgYWN0aXZlT3B0aW9uSW5kZXg6IGFjdGl2ZU9wdGlvbkluZGV4LAogICAgICAgICAgc2V0QWN0aXZlT3B0aW9uSW5kZXg6IGZ1bmN0aW9uIHNldEFjdGl2ZU9wdGlvbkluZGV4KGluZGV4LCBjYikgewogICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoewogICAgICAgICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4OiBpbmRleAogICAgICAgICAgICB9LCBjYik7CiAgICAgICAgICB9LAogICAgICAgICAgb25PcHRpb25DbGljazogX3RoaXMyLm9uT3B0aW9uQ2xpY2ssCiAgICAgICAgICBzaW5nbGVTZWxlY3Rpb246IHNpbmdsZVNlbGVjdGlvbiwKICAgICAgICAgIHJlZjogX3RoaXMyLm9wdGlvbnNMaXN0UmVmLAogICAgICAgICAgcmVuZGVyT3B0aW9uOiByZW5kZXJPcHRpb24sCiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCwKICAgICAgICAgIGFsbG93RXhjbHVzaW9uczogYWxsb3dFeGNsdXNpb25zLAogICAgICAgICAgc2VhcmNoYWJsZTogc2VhcmNoYWJsZSwKICAgICAgICAgIG1ha2VPcHRpb25JZDogbWFrZU9wdGlvbklkLAogICAgICAgICAgbGlzdElkOiBsaXN0SWQKICAgICAgICB9LCBsaXN0SGFzQWNjZXNzaWJsZU5hbWUgPyBsaXN0QWNjZXNzaWJsZU5hbWUgOiBzZWFyY2hhYmxlICYmIHsKICAgICAgICAgICdhcmlhLWxhYmVsJzogcGxhY2Vob2xkZXJOYW1lCiAgICAgICAgfSwgY2xlYW5lZExpc3RQcm9wcykpOwogICAgICB9KTsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBfZXh0ZW5kcyh7CiAgICAgICAgcmVmOiB0aGlzLmNvbnRhaW5lclJlZiwKICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMsCiAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93biwKICAgICAgICBvbkJsdXI6IHRoaXMub25Db250YWluZXJCbHVyLAogICAgICAgIG9uRm9jdXM6IHRoaXMub25Gb2N1cwogICAgICB9LCByZXN0KSwgY2hpbGRyZW4gJiYgY2hpbGRyZW4obGlzdCwgc2VhcmNoKSk7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkgewogICAgICB2YXIgb3B0aW9ucyA9IG5leHRQcm9wcy5vcHRpb25zLAogICAgICAgICAgaXNQcmVGaWx0ZXJlZCA9IG5leHRQcm9wcy5pc1ByZUZpbHRlcmVkOwogICAgICB2YXIgYWN0aXZlT3B0aW9uSW5kZXggPSBwcmV2U3RhdGUuYWN0aXZlT3B0aW9uSW5kZXgsCiAgICAgICAgICBzZWFyY2hWYWx1ZSA9IHByZXZTdGF0ZS5zZWFyY2hWYWx1ZTsKICAgICAgdmFyIG1hdGNoaW5nT3B0aW9ucyA9IGdldE1hdGNoaW5nT3B0aW9ucyhvcHRpb25zLCBzZWFyY2hWYWx1ZSwgaXNQcmVGaWx0ZXJlZCk7CiAgICAgIHZhciBzdGF0ZVVwZGF0ZSA9IHsKICAgICAgICB2aXNpYmxlT3B0aW9uczogbWF0Y2hpbmdPcHRpb25zLAogICAgICAgIGFjdGl2ZU9wdGlvbkluZGV4OiBhY3RpdmVPcHRpb25JbmRleAogICAgICB9OwoKICAgICAgaWYgKGFjdGl2ZU9wdGlvbkluZGV4ICE9IG51bGwgJiYgYWN0aXZlT3B0aW9uSW5kZXggPj0gbWF0Y2hpbmdPcHRpb25zLmxlbmd0aCkgewogICAgICAgIHN0YXRlVXBkYXRlLmFjdGl2ZU9wdGlvbkluZGV4ID0gLTE7CiAgICAgIH0KCiAgICAgIHJldHVybiBzdGF0ZVVwZGF0ZTsKICAgIH0KICB9XSk7CgogIHJldHVybiBFdWlTZWxlY3RhYmxlOwp9KENvbXBvbmVudCk7CgpfZGVmaW5lUHJvcGVydHkoRXVpU2VsZWN0YWJsZSwgImRlZmF1bHRQcm9wcyIsIHsKICBvcHRpb25zOiBbXSwKICBzaW5nbGVTZWxlY3Rpb246IGZhbHNlLAogIHNlYXJjaGFibGU6IGZhbHNlLAogIGlzUHJlRmlsdGVyZWQ6IGZhbHNlCn0pOwoKRXVpU2VsZWN0YWJsZS5wcm9wVHlwZXMgPSB7CiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLAogICJhcmlhLWxhYmVsIjogUHJvcFR5cGVzLnN0cmluZywKICAiZGF0YS10ZXN0LXN1YmoiOiBQcm9wVHlwZXMuc3RyaW5nLAoKICAvKioKICAgICAgICogSG9va3MgdXAgYSBzZWFyY2ggYm94IHRvIGZpbHRlciB0aGUgbGlzdCAoYm9vbGVhbikKICAgICAgICovCiAgc2VhcmNoYWJsZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFtmYWxzZV0pLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5vbmVPZihbdHJ1ZV0pLmlzUmVxdWlyZWRdKS5pc1JlcXVpcmVkLAoKICAvKioKICAgICAgICogUGFzc2VzIHByb3BzIGRvd24gdG8gdGhlIGBFdWlGaWVsZFNlYXJjaGAKICAgICAgICovCiAgc2VhcmNoUHJvcHM6IFByb3BUeXBlcy5hbnksCgogIC8qKgogICAgICAgKiBGdW5jdGlvbiB0aGF0IHRha2VzIHRoZSBgbGlzdGAgbm9kZSBhbmQgdGhlbgogICAgICAgKiB0aGUgYHNlYXJjaGAgbm9kZSAoaWYgYHNlYXJjaGFibGVgIGlzIGFwcGxpZWQpCiAgICAgICAqLwogIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYywKCiAgLyoqCiAgICAgICAqIEFycmF5IG9mIEV1aVNlbGVjdGFibGVPcHRpb24gb2JqZWN0cy4gU2VlICNFdWlTZWxlY3RhYmxlT3B0aW9uUHJvcHMKICAgICAgICovCiAgb3B0aW9uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHsKICAgIC8qKgogICAgICAgKiBPcHRpb25hbCBgYm9vbGVhbmAuCiAgICAgICAqIFNldCB0byBgdHJ1ZWAgdG8gaW5kaWNhdGUgb2JqZWN0IGlzIGp1c3QgYSBncm91cGluZyBsYWJlbCwgbm90IGEgc2VsZWN0YWJsZSBpdGVtCiAgICAgICAqLwogICAgaXNHcm91cExhYmVsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub25lT2YoW3RydWVdKS5pc1JlcXVpcmVkLCBQcm9wVHlwZXMub25lT2YoW2ZhbHNlXSldKSwKICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZywKICAgICJhcmlhLWxhYmVsIjogUHJvcFR5cGVzLnN0cmluZywKICAgICJkYXRhLXRlc3Qtc3ViaiI6IFByb3BUeXBlcy5zdHJpbmcsCgogICAgLyoqCiAgICAgICAqIFZpc2libGUgbGFiZWwgb2Ygb3B0aW9uLgogICAgICAgKiBNdXN0IGJlIHVuaXF1ZSBhY3Jvc3MgaXRlbXMgaWYgYGtleWAgaXMgbm90IHN1cHBsaWVkCiAgICAgICAqLwogICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsCgogICAgLyoqCiAgICAgICAqIE9wdGlvbmFsbHkgY2hhbmdlIHRoZSBzZWFyY2hhYmxlIHRlcm0gYnkgcGFzc2luZyBhIGRpZmZlcmVudCBzdHJpbmcgb3RoZXIgdGhhbiB0aGUgYGxhYmVsYC4KICAgICAgICogQmVzdCB1c2VkIHdoZW4gY3JlYXRpbmcgYSBjdXN0b20gYG9wdGlvblJlbmRlcmAgdG8gc2VwYXJhdGUgdGhlIGxhYmVsIGZyb20gbWV0YWRhdGEgYnV0IGFsbG93aW5nIHRvIHNlYXJjaCBvbiBib3RoCiAgICAgICAqLwogICAgc2VhcmNoYWJsZUxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLAoKICAgIC8qKgogICAgICAgKiBNdXN0IGJlIHVuaXF1ZSBhY3Jvc3MgaXRlbXMuCiAgICAgICAqIFdpbGwgYmUgdXNlZCB0byBtYXRjaCBvcHRpb25zIGluc3RlYWQgb2YgYGxhYmVsYAogICAgICAgKi8KICAgIGtleTogUHJvcFR5cGVzLnN0cmluZywKCiAgICAvKioKICAgICAgICogTGVhdmUgYHVuZGVmaW5lZGAgdG8gaW5kaWNhdGUgbm90IHNlbGVjdGVkLAogICAgICAgKiAnb24nIHRvIGluZGljYXRlIGluY2x1c2lvbiBhbmQKICAgICAgICogJ29mZicgdG8gaW5kaWNhdGUgZXhjbHVzaW9uCiAgICAgICAqLwogICAgY2hlY2tlZDogUHJvcFR5cGVzLm9uZU9mKFsib24iLCAib2ZmIiwgdW5kZWZpbmVkXSksCiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsCgogICAgLyoqCiAgICAgICAqIE5vZGUgdG8gYWRkIGJldHdlZW4gdGhlIHNlbGVjdGlvbiBpY29uIGFuZCB0aGUgbGFiZWwKICAgICAgICovCiAgICBwcmVwZW5kOiBQcm9wVHlwZXMubm9kZSwKCiAgICAvKioKICAgICAgICogTm9kZSB0byBhZGQgdG8gdGhlIGZhciByaWdodCBvZiB0aGUgaXRlbQogICAgICAgKi8KICAgIGFwcGVuZDogUHJvcFR5cGVzLm5vZGUsCiAgICByZWY6IFByb3BUeXBlcy5mdW5jCiAgfSkuaXNSZXF1aXJlZCkuaXNSZXF1aXJlZCwKCiAgLyoqCiAgICAgICAqIFBhc3NlcyBiYWNrIHRoZSBhbHRlcmVkIGBvcHRpb25zYCBhcnJheSB3aXRoIHNlbGVjdGVkIG9wdGlvbnMgYXMKICAgICAgICovCiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLAoKICAvKioKICAgICAgICogU2V0cyB0aGUgc2luZ2xlIHNlbGVjdGlvbiBwb2xpY3kgb2YKICAgICAgICogYGZhbHNlYDogYWxsb3dzIG11bHRpcGxlIHNlbGVjdGlvbgogICAgICAgKiBgdHJ1ZWA6IG9ubHkgYWxsb3dzIG9uZSBzZWxlY3Rpb24KICAgICAgICogYGFsd2F5c2A6IGNhbiBhbmQgbXVzdCBoYXZlIG9ubHkgb25lIHNlbGVjdGlvbgogICAgICAgKi8KICBzaW5nbGVTZWxlY3Rpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbImFsd2F5cyJdKSwgUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZF0pLAoKICAvKioKICAgICAgICogQWxsb3dzIG1hcmtpbmcgb3B0aW9ucyBhcyBgY2hlY2tlZD0nb2ZmJ2AgYXMgd2VsbCBhcyBgJ29uJ2AKICAgICAgICovCiAgYWxsb3dFeGNsdXNpb25zOiBQcm9wVHlwZXMuYm9vbCwKCiAgLyoqCiAgICAgICAqIFNob3cgYW4gbG9hZGluZyBpbmRpY2F0b3Igd2hpbGUgeW91IGxvYWQgYW5kIGhvb2sgdXAgeW91ciBkYXRhCiAgICAgICAqLwogIGlzTG9hZGluZzogUHJvcFR5cGVzLmJvb2wsCgogIC8qKgogICAgICAgKiBTZXRzIHRoZSBtYXggaGVpZ2h0IGluIHBpeGVscyBvciBwYXNzIGBmdWxsYCB0byBhbGxvdwogICAgICAgKiB0aGUgd2hvbGUgZ3JvdXAgdG8gZmlsbCB0aGUgaGVpZ2h0IG9mIGl0cyBjb250YWluZXIgYW5kCiAgICAgICAqIGFsbG93cyB0aGUgbGlzdCBncm93IGFzIHdlbGwKICAgICAgICovCiAgaGVpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5vbmVPZihbImZ1bGwiXSldKSwKCiAgLyoqCiAgICAgICAqIFNlZSAjRXVpU2VsZWN0YWJsZU9wdGlvbnNMaXN0CiAgICAgICAqLwogIGxpc3RQcm9wczogUHJvcFR5cGVzLmFueSwKCiAgLyoqCiAgICAgICAqIEN1c3RvbSByZW5kZXIgZnVuY3Rpb24gZm9yIGVhY2ggb3B0aW9uLgogICAgICAgKiBSZXR1cm5zIGAob3B0aW9uLCBzZWFyY2hWYWx1ZSlgCiAgICAgICAqLwogIHJlbmRlck9wdGlvbjogUHJvcFR5cGVzLmZ1bmMsCgogIC8qKgogICAgICAgKiBDdXN0b21pemUgdGhlIGxvYWRpbmcgbWVzc2FnZS4gUGFzcyBhIHN0cmluZyB0byBzaW1wbHkgY2hhbmdlIHRoZSB0ZXh0LAogICAgICAgKiBvciBhIG5vZGUgdG8gcmVwbGFjZSB0aGUgd2hvbGUgY29udGVudC4KICAgICAgICovCiAgbG9hZGluZ01lc3NhZ2U6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWQsIFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZF0pLAoKICAvKioKICAgICAgICogQ3VzdG9taXplIHRoZSBubyBtYXRjaGVzIG1lc3NhZ2UuIFBhc3MgYSBzdHJpbmcgdG8gc2ltcGx5IGNoYW5nZSB0aGUgdGV4dCwKICAgICAgICogb3IgYSBub2RlIHRvIHJlcGxhY2UgdGhlIHdob2xlIGNvbnRlbnQuCiAgICAgICAqLwogIG5vTWF0Y2hlc01lc3NhZ2U6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWQsIFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZF0pLAoKICAvKioKICAgICAgICogQ3VzdG9taXplIHRoZSBlbXB0eSBtZXNzYWdlLiBQYXNzIGEgc3RyaW5nIHRvIHNpbXBseSBjaGFuZ2UgdGhlIHRleHQsCiAgICAgICAqIG9yIGEgbm9kZSB0byByZXBsYWNlIHRoZSB3aG9sZSBjb250ZW50LgogICAgICAgKi8KICBlbXB0eU1lc3NhZ2U6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5lbGVtZW50LmlzUmVxdWlyZWQsIFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZF0pLAoKICAvKioKICAgICAgICogQ29udHJvbCB3aGV0aGVyIG9yIG5vdCBvcHRpb25zIGdldCBmaWx0ZXJlZCBpbnRlcm5hbGx5IG9yIGlmIGNvbnN1bWVyIHdpbGwgZmlsdGVyCiAgICAgICAqIERlZmF1bHQ6IGZhbHNlCiAgICAgICAqLwogIGlzUHJlRmlsdGVyZWQ6IFByb3BUeXBlcy5ib29sCn07Cgp0cnkgewogIEV1aVNlbGVjdGFibGUuX19kb2NnZW5JbmZvID0gewogICAgZGVzY3JpcHRpb246ICcnLAogICAgZGlzcGxheU5hbWU6ICdFdWlTZWxlY3RhYmxlJywKICAgIG1ldGhvZHM6IFtdLAogICAgcHJvcHM6IHsKICAgICAgY2xhc3NOYW1lOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnY2xhc3NOYW1lJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbW1vbi50cycsCiAgICAgICAgICBuYW1lOiAnQ29tbW9uUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgICdhcmlhLWxhYmVsJzogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0RlZmluZXMgYSBzdHJpbmcgdmFsdWUgdGhhdCBsYWJlbHMgdGhlIGN1cnJlbnQgZWxlbWVudC5cbicgKyAnQHNlZSBhcmlhLWxhYmVsbGVkYnkuJywKICAgICAgICBuYW1lOiAnYXJpYS1sYWJlbCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb21tb24udHMnLAogICAgICAgICAgbmFtZTogJ0NvbW1vblByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdzdHJpbmcnCiAgICAgICAgfQogICAgICB9LAogICAgICAnZGF0YS10ZXN0LXN1YmonOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnZGF0YS10ZXN0LXN1YmonLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29tbW9uLnRzJywKICAgICAgICAgIG5hbWU6ICdDb21tb25Qcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2VhcmNoYWJsZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdmYWxzZScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnSG9va3MgdXAgYSBzZWFyY2ggYm94IHRvIGZpbHRlciB0aGUgbGlzdCAoYm9vbGVhbiknLAogICAgICAgIG5hbWU6ICdzZWFyY2hhYmxlJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBzZWFyY2hQcm9wczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ1Bhc3NlcyBwcm9wcyBkb3duIHRvIHRoZSBgRXVpRmllbGRTZWFyY2hgJywKICAgICAgICBuYW1lOiAnc2VhcmNoUHJvcHMnLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUGFydGlhbDxFdWlTZWxlY3RhYmxlU2VhcmNoUHJvcHM8VD4+JwogICAgICAgIH0KICAgICAgfSwKICAgICAgY2hpbGRyZW46IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdGdW5jdGlvbiB0aGF0IHRha2VzIHRoZSBgbGlzdGAgbm9kZSBhbmQgdGhlblxuJyArICd0aGUgYHNlYXJjaGAgbm9kZSAoaWYgYHNlYXJjaGFibGVgIGlzIGFwcGxpZWQpJywKICAgICAgICBuYW1lOiAnY2hpbGRyZW4nLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnKGxpc3Q6IFJlYWN0RWxlbWVudDx0eXBlb2YgRXVpU2VsZWN0YWJsZUxpc3QgfCBGdW5jdGlvbkNvbXBvbmVudDxFdWlTZWxlY3RhYmxlTWVzc2FnZVByb3BzPiwgc3RyaW5nIHwgKChwcm9wczogYW55KSA9PiBSZWFjdEVsZW1lbnQ8YW55LCBzdHJpbmcgfCAuLi4gMSBtb3JlIC4uLiB8IChuZXcgKHByb3BzOiBhbnkpID0+IENvbXBvbmVudDwuLi4+KT4pIHwgKG5ldyAocHJvcHM6IGFueSkgPT4gQ29tcG9uZW50PC4uLj4pPiwgc2VhcmNoOiBSZWFjdEVsZW1lbnQ8Li4uPikgPT4gUmVhY3ROb2RlJwogICAgICAgIH0KICAgICAgfSwKICAgICAgb3B0aW9uczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdbXScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnQXJyYXkgb2YgRXVpU2VsZWN0YWJsZU9wdGlvbiBvYmplY3RzLiBTZWUgI0V1aVNlbGVjdGFibGVPcHRpb25Qcm9wcycsCiAgICAgICAgbmFtZTogJ29wdGlvbnMnLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnRXhjbHVzaXZlVW5pb248RXVpU2VsZWN0YWJsZUdyb3VwTGFiZWxPcHRpb248VD4sIEV1aVNlbGVjdGFibGVMSU9wdGlvbjxUPj5bXScKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uQ2hhbmdlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnUGFzc2VzIGJhY2sgdGhlIGFsdGVyZWQgYG9wdGlvbnNgIGFycmF5IHdpdGggc2VsZWN0ZWQgb3B0aW9ucyBhcycsCiAgICAgICAgbmFtZTogJ29uQ2hhbmdlJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJyhvcHRpb25zOiBFeGNsdXNpdmVVbmlvbjxFdWlTZWxlY3RhYmxlR3JvdXBMYWJlbE9wdGlvbjxUPiwgRXVpU2VsZWN0YWJsZUxJT3B0aW9uPFQ+PltdKSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2luZ2xlU2VsZWN0aW9uOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2ZhbHNlJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICdTZXRzIHRoZSBzaW5nbGUgc2VsZWN0aW9uIHBvbGljeSBvZlxuJyArICdgZmFsc2VgOiBhbGxvd3MgbXVsdGlwbGUgc2VsZWN0aW9uXG4nICsgJ2B0cnVlYDogb25seSBhbGxvd3Mgb25lIHNlbGVjdGlvblxuJyArICdgYWx3YXlzYDogY2FuIGFuZCBtdXN0IGhhdmUgb25seSBvbmUgc2VsZWN0aW9uJywKICAgICAgICBuYW1lOiAnc2luZ2xlU2VsZWN0aW9uJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4gfCAiYWx3YXlzIicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFsbG93RXhjbHVzaW9uczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogIkFsbG93cyBtYXJraW5nIG9wdGlvbnMgYXMgYGNoZWNrZWQ9J29mZidgIGFzIHdlbGwgYXMgYCdvbidgIiwKICAgICAgICBuYW1lOiAnYWxsb3dFeGNsdXNpb25zJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBpc0xvYWRpbmc6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdTaG93IGFuIGxvYWRpbmcgaW5kaWNhdG9yIHdoaWxlIHlvdSBsb2FkIGFuZCBob29rIHVwIHlvdXIgZGF0YScsCiAgICAgICAgbmFtZTogJ2lzTG9hZGluZycsCiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaGVpZ2h0OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnU2V0cyB0aGUgbWF4IGhlaWdodCBpbiBwaXhlbHMgb3IgcGFzcyBgZnVsbGAgdG8gYWxsb3dcbicgKyAndGhlIHdob2xlIGdyb3VwIHRvIGZpbGwgdGhlIGhlaWdodCBvZiBpdHMgY29udGFpbmVyIGFuZFxuJyArICdhbGxvd3MgdGhlIGxpc3QgZ3JvdyBhcyB3ZWxsJywKICAgICAgICBuYW1lOiAnaGVpZ2h0JywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ251bWJlciB8ICJmdWxsIicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxpc3RQcm9wczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ1NlZSAjRXVpU2VsZWN0YWJsZU9wdGlvbnNMaXN0JywKICAgICAgICBuYW1lOiAnbGlzdFByb3BzJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ0V1aVNlbGVjdGFibGVPcHRpb25zTGlzdFByb3BzV2l0aERlZmF1bHRzJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVuZGVyT3B0aW9uOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VzdG9tIHJlbmRlciBmdW5jdGlvbiBmb3IgZWFjaCBvcHRpb24uXG4nICsgJ1JldHVybnMgYChvcHRpb24sIHNlYXJjaFZhbHVlKWAnLAogICAgICAgIG5hbWU6ICdyZW5kZXJPcHRpb24nLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnKG9wdGlvbjogRXhjbHVzaXZlVW5pb248RXVpU2VsZWN0YWJsZUdyb3VwTGFiZWxPcHRpb248VD4sIEV1aVNlbGVjdGFibGVMSU9wdGlvbjxUPj4sIHNlYXJjaFZhbHVlOiBzdHJpbmcpID0+IFJlYWN0Tm9kZScKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxvYWRpbmdNZXNzYWdlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VzdG9taXplIHRoZSBsb2FkaW5nIG1lc3NhZ2UuIFBhc3MgYSBzdHJpbmcgdG8gc2ltcGx5IGNoYW5nZSB0aGUgdGV4dCxcbicgKyAnb3IgYSBub2RlIHRvIHJlcGxhY2UgdGhlIHdob2xlIGNvbnRlbnQuJywKICAgICAgICBuYW1lOiAnbG9hZGluZ01lc3NhZ2UnLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nIHwgUmVhY3RFbGVtZW50JwogICAgICAgIH0KICAgICAgfSwKICAgICAgbm9NYXRjaGVzTWVzc2FnZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0N1c3RvbWl6ZSB0aGUgbm8gbWF0Y2hlcyBtZXNzYWdlLiBQYXNzIGEgc3RyaW5nIHRvIHNpbXBseSBjaGFuZ2UgdGhlIHRleHQsXG4nICsgJ29yIGEgbm9kZSB0byByZXBsYWNlIHRoZSB3aG9sZSBjb250ZW50LicsCiAgICAgICAgbmFtZTogJ25vTWF0Y2hlc01lc3NhZ2UnLAogICAgICAgIHBhcmVudDogdW5kZWZpbmVkLAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nIHwgUmVhY3RFbGVtZW50JwogICAgICAgIH0KICAgICAgfSwKICAgICAgZW1wdHlNZXNzYWdlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VzdG9taXplIHRoZSBlbXB0eSBtZXNzYWdlLiBQYXNzIGEgc3RyaW5nIHRvIHNpbXBseSBjaGFuZ2UgdGhlIHRleHQsXG4nICsgJ29yIGEgbm9kZSB0byByZXBsYWNlIHRoZSB3aG9sZSBjb250ZW50LicsCiAgICAgICAgbmFtZTogJ2VtcHR5TWVzc2FnZScsCiAgICAgICAgcGFyZW50OiB1bmRlZmluZWQsCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdzdHJpbmcgfCBSZWFjdEVsZW1lbnQnCiAgICAgICAgfQogICAgICB9LAogICAgICBpc1ByZUZpbHRlcmVkOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2ZhbHNlJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICdDb250cm9sIHdoZXRoZXIgb3Igbm90IG9wdGlvbnMgZ2V0IGZpbHRlcmVkIGludGVybmFsbHkgb3IgaWYgY29uc3VtZXIgd2lsbCBmaWx0ZXJcbicgKyAnRGVmYXVsdDogZmFsc2UnLAogICAgICAgIG5hbWU6ICdpc1ByZUZpbHRlcmVkJywKICAgICAgICBwYXJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZXh0ZW5kZWRJbnRlcmZhY2VzOiBbJ0NvbW1vblByb3BzJywgJ0hUTUxBdHRyaWJ1dGVzJywgJ0FyaWFBdHRyaWJ1dGVzJywgJ0RPTUF0dHJpYnV0ZXMnXQogIH07Cn0gY2F0Y2ggKGUpIHt9"},{"version":3,"sources":["D:/work/eui/src/components/selectable/selectable.tsx"],"names":["React","Component","createRef","classNames","EuiSelectableSearch","EuiSelectableMessage","EuiSelectableList","EuiLoadingSpinner","EuiSpacer","getMatchingOptions","keys","htmlIdGenerator","EuiI18n","EuiSelectable","props","state","activeOptionIndex","visibleOptions","length","firstSelected","findIndex","option","checked","disabled","isGroupLabel","setState","isFocused","event","optionsList","optionsListRef","current","key","ARROW_UP","preventDefault","stopPropagation","incrementActiveOptionIndex","ARROW_DOWN","ENTER","onAddOrRemoveOption","undefined","onFocus","amount","nextActiveOptionIndex","direction","searchValue","searchProps","onSearch","e","containerRef","contains","relatedTarget","options","isPreFiltered","onChange","index","align","listRef","scrollToItem","singleSelection","initialSearchValue","selectedOptions","filter","includes","indexOf","id","children","className","searchable","isLoading","listProps","renderOption","height","allowExclusions","ariaLabel","ariaDescribedby","loadingMessage","noMatchesMessage","emptyMessage","rest","unknownAccessibleName","searchAriaLabel","searchAriaDescribedby","propsOnChange","cleanedSearchProps","listAriaLabel","listAriaDescribedby","cleanedListProps","classes","messageContentId","rootId","listId","makeOptionId","messageContent","cloneElement","getAccessibleName","messageContentIdString","searchAccessibleName","searchHasAccessibleName","Boolean","Object","search","placeholderName","onSearchChange","listAccessibleName","listHasAccessibleName","list","bordered","cb","onOptionClick","onKeyDown","onContainerBlur","nextProps","prevState","matchingOptions","stateUpdate"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Component, createRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport { EuiSelectableSearch } from './selectable_search';\nimport { EuiSelectableMessage } from './selectable_message';\nimport { EuiSelectableList } from './selectable_list';\nimport { EuiLoadingSpinner } from '../loading';\nimport { EuiSpacer } from '../spacer';\nimport { getMatchingOptions } from './matching_options';\nimport { keys, htmlIdGenerator } from '../../services';\nimport { EuiI18n } from '../i18n';\nexport class EuiSelectable extends Component {\n  static defaultProps = {\n    options: [],\n    singleSelection: false,\n    searchable: false,\n    isPreFiltered: false\n  };\n  containerRef = createRef();\n  optionsListRef = createRef();\n  rootId = htmlIdGenerator();\n\n  constructor(props) {\n    super(props);\n    const {\n      options,\n      singleSelection,\n      isPreFiltered\n    } = props;\n    const initialSearchValue = '';\n    const visibleOptions = getMatchingOptions(options, initialSearchValue, isPreFiltered); // ensure that the currently selected single option is active if it is in the visibleOptions\n\n    const selectedOptions = options.filter(option => option.checked);\n    let activeOptionIndex;\n\n    if (singleSelection && selectedOptions.length === 1) {\n      if (visibleOptions.includes(selectedOptions[0])) {\n        activeOptionIndex = visibleOptions.indexOf(selectedOptions[0]);\n      }\n    }\n\n    this.state = {\n      activeOptionIndex,\n      searchValue: initialSearchValue,\n      visibleOptions,\n      isFocused: false\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      options,\n      isPreFiltered\n    } = nextProps;\n    const {\n      activeOptionIndex,\n      searchValue\n    } = prevState;\n    const matchingOptions = getMatchingOptions(options, searchValue, isPreFiltered);\n    const stateUpdate = {\n      visibleOptions: matchingOptions,\n      activeOptionIndex\n    };\n\n    if (activeOptionIndex != null && activeOptionIndex >= matchingOptions.length) {\n      stateUpdate.activeOptionIndex = -1;\n    }\n\n    return stateUpdate;\n  }\n\n  hasActiveOption = () => {\n    return this.state.activeOptionIndex != null;\n  };\n  onFocus = () => {\n    if (!this.state.visibleOptions.length || this.state.activeOptionIndex) {\n      return;\n    }\n\n    const firstSelected = this.state.visibleOptions.findIndex(option => option.checked && !option.disabled && !option.isGroupLabel);\n\n    if (firstSelected > -1) {\n      this.setState({\n        activeOptionIndex: firstSelected,\n        isFocused: true\n      });\n    } else {\n      this.setState({\n        activeOptionIndex: this.state.visibleOptions.findIndex(option => !option.disabled && !option.isGroupLabel),\n        isFocused: true\n      });\n    }\n  };\n  onKeyDown = event => {\n    const optionsList = this.optionsListRef.current;\n\n    switch (event.key) {\n      case keys.ARROW_UP:\n        event.preventDefault();\n        event.stopPropagation();\n        this.incrementActiveOptionIndex(-1);\n        break;\n\n      case keys.ARROW_DOWN:\n        event.preventDefault();\n        event.stopPropagation();\n        this.incrementActiveOptionIndex(1);\n        break;\n\n      case keys.ENTER:\n        event.preventDefault();\n        event.stopPropagation();\n\n        if (this.state.activeOptionIndex != null && optionsList) {\n          optionsList.onAddOrRemoveOption(this.state.visibleOptions[this.state.activeOptionIndex]);\n        }\n\n        break;\n\n      default:\n        this.setState({\n          activeOptionIndex: undefined\n        }, this.onFocus);\n        break;\n    }\n  };\n  incrementActiveOptionIndex = amount => {\n    // If there are no options available, do nothing.\n    if (!this.state.visibleOptions.length) {\n      return;\n    }\n\n    this.setState(({\n      activeOptionIndex,\n      visibleOptions\n    }) => {\n      let nextActiveOptionIndex;\n\n      if (activeOptionIndex == null) {\n        // If this is the beginning of the user's keyboard navigation of the menu, then we'll focus\n        // either the first or last item.\n        nextActiveOptionIndex = amount < 0 ? visibleOptions.length - 1 : 0;\n      } else {\n        nextActiveOptionIndex = activeOptionIndex + amount;\n\n        if (nextActiveOptionIndex < 0) {\n          nextActiveOptionIndex = visibleOptions.length - 1;\n        } else if (nextActiveOptionIndex === visibleOptions.length) {\n          nextActiveOptionIndex = 0;\n        }\n      } // Group titles and disabled options are included in option list but are not selectable\n\n\n      const direction = amount > 0 ? 1 : -1;\n\n      while (visibleOptions[nextActiveOptionIndex].isGroupLabel || visibleOptions[nextActiveOptionIndex].disabled) {\n        nextActiveOptionIndex = nextActiveOptionIndex + direction;\n\n        if (nextActiveOptionIndex < 0) {\n          nextActiveOptionIndex = visibleOptions.length - 1;\n        } else if (nextActiveOptionIndex === visibleOptions.length) {\n          nextActiveOptionIndex = 0;\n        }\n      }\n\n      return {\n        activeOptionIndex: nextActiveOptionIndex\n      };\n    });\n  };\n  onSearchChange = (visibleOptions, searchValue) => {\n    this.setState({\n      visibleOptions,\n      searchValue,\n      activeOptionIndex: undefined\n    }, () => {\n      if (this.state.isFocused) {\n        this.onFocus();\n      }\n    });\n\n    if (this.props.searchProps && this.props.searchProps.onSearch) {\n      this.props.searchProps.onSearch(searchValue);\n    }\n  };\n  onContainerBlur = e => {\n    // Ignore blur events when moving from search to option to avoid activeOptionIndex conflicts\n    if (this.containerRef.current.contains(e.relatedTarget)) return;\n    this.setState({\n      activeOptionIndex: undefined,\n      isFocused: false\n    });\n  };\n  onOptionClick = options => {\n    const {\n      isPreFiltered,\n      onChange,\n      searchProps\n    } = this.props;\n    const {\n      searchValue\n    } = this.state;\n    const visibleOptions = getMatchingOptions(options, searchValue, isPreFiltered);\n    this.setState({\n      visibleOptions\n    });\n\n    if (onChange) {\n      onChange(options);\n    }\n\n    if (searchProps && searchProps.onChange) {\n      searchProps.onChange(visibleOptions, searchValue);\n    }\n  };\n  scrollToItem = (index, align) => {\n    this.optionsListRef.current?.listRef?.scrollToItem(index, align);\n  };\n\n  render() {\n    const {\n      id,\n      children,\n      className,\n      options,\n      onChange,\n      searchable,\n      searchProps,\n      singleSelection,\n      isLoading,\n      listProps,\n      renderOption,\n      height,\n      allowExclusions,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedby,\n      loadingMessage,\n      noMatchesMessage,\n      emptyMessage,\n      isPreFiltered,\n      ...rest\n    } = this.props;\n    const {\n      searchValue,\n      visibleOptions,\n      activeOptionIndex\n    } = this.state; // Some messy destructuring here to remove aria-label/describedby from searchProps and listProps\n    // Made messier by some TS requirements\n    // The aria attributes are then used in getAccessibleName() to place them where they need to go\n\n    const unknownAccessibleName = {\n      'aria-label': undefined,\n      'aria-describedby': undefined\n    };\n    const {\n      'aria-label': searchAriaLabel,\n      'aria-describedby': searchAriaDescribedby,\n      onChange: propsOnChange,\n      onSearch,\n      ...cleanedSearchProps\n    } = searchProps || unknownAccessibleName;\n    const {\n      'aria-label': listAriaLabel,\n      'aria-describedby': listAriaDescribedby,\n      ...cleanedListProps\n    } = listProps || unknownAccessibleName;\n    const classes = classNames('euiSelectable', {\n      'euiSelectable-fullHeight': height === 'full'\n    }, className);\n    /** Create Id's */\n\n    let messageContentId = this.rootId('messageContent');\n    const listId = this.rootId('listbox');\n\n    const makeOptionId = index => {\n      if (typeof index === 'undefined') {\n        return '';\n      }\n\n      return `${listId}_option-${index}`;\n    };\n    /** Create message content that replaces the list if no options are available (yet) */\n\n\n    let messageContent;\n\n    if (isLoading) {\n      if (loadingMessage === undefined || typeof loadingMessage === 'string') {\n        messageContent = <>\n            <EuiLoadingSpinner size=\"m\" />\n            <EuiSpacer size=\"xs\" />\n            <p>\n              {loadingMessage || <EuiI18n token=\"euiSelectable.loadingOptions\" default=\"Loading options\" />}\n            </p>\n          </>;\n      } else {\n        messageContent = React.cloneElement(loadingMessage, {\n          id: messageContentId,\n          ...loadingMessage.props\n        });\n      }\n    } else if (searchValue && visibleOptions.length === 0) {\n      if (noMatchesMessage === undefined || typeof noMatchesMessage === 'string') {\n        messageContent = <p>\n            {noMatchesMessage || <EuiI18n token=\"euiSelectable.noMatchingOptions\" default=\"{searchValue} doesn't match any options\" values={{\n            searchValue: <strong>{searchValue}</strong>\n          }} />}\n          </p>;\n      } else {\n        messageContent = React.cloneElement(noMatchesMessage, {\n          id: messageContentId,\n          ...noMatchesMessage.props\n        });\n      }\n    } else if (!options.length) {\n      if (emptyMessage === undefined || typeof emptyMessage === 'string') {\n        messageContent = <p>\n            {emptyMessage || <EuiI18n token=\"euiSelectable.noAvailableOptions\" default=\"No options available\" />}\n          </p>;\n      } else {\n        messageContent = React.cloneElement(emptyMessage, {\n          id: messageContentId,\n          ...emptyMessage.props\n        });\n      }\n    } else {\n      messageContentId = '';\n    }\n    /**\n     * There are lots of ways to add an accessible name\n     * Usually we want the same name for the input and the listbox (which is added by aria-label/describedby)\n     * But you can always override it using searchProps or listProps\n     * This finds the correct name to use\n     *\n     * TODO: This doesn't handle being labelled (<label for=\"idOfInput\">)\n     */\n\n\n    const getAccessibleName = (props, messageContentId) => {\n      if (props && props['aria-label']) {\n        return {\n          'aria-label': props['aria-label']\n        };\n      }\n\n      const messageContentIdString = messageContentId ? ` ${messageContentId}` : '';\n\n      if (props && props['aria-describedby']) {\n        return {\n          'aria-describedby': `${props['aria-describedby']}${messageContentIdString}`\n        };\n      }\n\n      if (ariaLabel) {\n        return {\n          'aria-label': ariaLabel\n        };\n      }\n\n      if (ariaDescribedby) {\n        return {\n          'aria-describedby': `${ariaDescribedby}${messageContentIdString}`\n        };\n      }\n\n      return {};\n    };\n\n    const searchAccessibleName = getAccessibleName(searchProps, messageContentId);\n    const searchHasAccessibleName = Boolean(Object.keys(searchAccessibleName).length);\n    const search = searchable ? <EuiI18n token=\"euiSelectable.placeholderName\" default=\"Filter options\">\n        {placeholderName => <EuiSelectableSearch key=\"listSearch\" options={options} onChange={this.onSearchChange} listId={this.optionsListRef.current ? listId : undefined} // Only pass the listId if it exists on the page\n      aria-activedescendant={makeOptionId(activeOptionIndex)} // the current faux-focused option\n      placeholder={placeholderName} isPreFiltered={isPreFiltered ?? false} {...searchHasAccessibleName ? searchAccessibleName : {\n        'aria-label': placeholderName\n      }} {...cleanedSearchProps} />}\n      </EuiI18n> : undefined;\n    const listAccessibleName = getAccessibleName(listProps);\n    const listHasAccessibleName = Boolean(Object.keys(listAccessibleName).length);\n    const list = messageContent ? <EuiSelectableMessage id={messageContentId} bordered={listProps && listProps.bordered}>\n        {messageContent}\n      </EuiSelectableMessage> : <EuiI18n token=\"euiSelectable.placeholderName\" default=\"Filter options\">\n        {placeholderName => <EuiSelectableList key=\"list\" options={options} visibleOptions={visibleOptions} searchValue={searchValue} activeOptionIndex={activeOptionIndex} setActiveOptionIndex={(index, cb) => {\n        this.setState({\n          activeOptionIndex: index\n        }, cb);\n      }} onOptionClick={this.onOptionClick} singleSelection={singleSelection} ref={this.optionsListRef} renderOption={renderOption} height={height} allowExclusions={allowExclusions} searchable={searchable} makeOptionId={makeOptionId} listId={listId} {...listHasAccessibleName ? listAccessibleName : searchable && {\n        'aria-label': placeholderName\n      }} {...cleanedListProps} />}\n      </EuiI18n>;\n    return <div ref={this.containerRef} className={classes} onKeyDown={this.onKeyDown} onBlur={this.onContainerBlur} onFocus={this.onFocus} {...rest}>\n        {children && children(list, search)}\n      </div>;\n  }\n\n}\nEuiSelectable.propTypes = {\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n       * Hooks up a search box to filter the list (boolean)\n       */\n  searchable: PropTypes.oneOfType([PropTypes.oneOf([false]).isRequired, PropTypes.oneOf([true]).isRequired]).isRequired,\n\n  /**\n       * Passes props down to the `EuiFieldSearch`\n       */\n  searchProps: PropTypes.any,\n\n  /**\n       * Function that takes the `list` node and then\n       * the `search` node (if `searchable` is applied)\n       */\n  children: PropTypes.func,\n\n  /**\n       * Array of EuiSelectableOption objects. See #EuiSelectableOptionProps\n       */\n  options: PropTypes.arrayOf(PropTypes.shape({\n    /**\n       * Optional `boolean`.\n       * Set to `true` to indicate object is just a grouping label, not a selectable item\n       */\n    isGroupLabel: PropTypes.oneOfType([PropTypes.oneOf([true]).isRequired, PropTypes.oneOf([false])]),\n    className: PropTypes.string,\n    \"aria-label\": PropTypes.string,\n    \"data-test-subj\": PropTypes.string,\n\n    /**\n       * Visible label of option.\n       * Must be unique across items if `key` is not supplied\n       */\n    label: PropTypes.string,\n\n    /**\n       * Optionally change the searchable term by passing a different string other than the `label`.\n       * Best used when creating a custom `optionRender` to separate the label from metadata but allowing to search on both\n       */\n    searchableLabel: PropTypes.string,\n\n    /**\n       * Must be unique across items.\n       * Will be used to match options instead of `label`\n       */\n    key: PropTypes.string,\n\n    /**\n       * Leave `undefined` to indicate not selected,\n       * 'on' to indicate inclusion and\n       * 'off' to indicate exclusion\n       */\n    checked: PropTypes.oneOf([\"on\", \"off\", undefined]),\n    disabled: PropTypes.bool,\n\n    /**\n       * Node to add between the selection icon and the label\n       */\n    prepend: PropTypes.node,\n\n    /**\n       * Node to add to the far right of the item\n       */\n    append: PropTypes.node,\n    ref: PropTypes.func\n  }).isRequired).isRequired,\n\n  /**\n       * Passes back the altered `options` array with selected options as\n       */\n  onChange: PropTypes.func,\n\n  /**\n       * Sets the single selection policy of\n       * `false`: allows multiple selection\n       * `true`: only allows one selection\n       * `always`: can and must have only one selection\n       */\n  singleSelection: PropTypes.oneOfType([PropTypes.oneOf([\"always\"]), PropTypes.bool.isRequired]),\n\n  /**\n       * Allows marking options as `checked='off'` as well as `'on'`\n       */\n  allowExclusions: PropTypes.bool,\n\n  /**\n       * Show an loading indicator while you load and hook up your data\n       */\n  isLoading: PropTypes.bool,\n\n  /**\n       * Sets the max height in pixels or pass `full` to allow\n       * the whole group to fill the height of its container and\n       * allows the list grow as well\n       */\n  height: PropTypes.oneOfType([PropTypes.number.isRequired, PropTypes.oneOf([\"full\"])]),\n\n  /**\n       * See #EuiSelectableOptionsList\n       */\n  listProps: PropTypes.any,\n\n  /**\n       * Custom render function for each option.\n       * Returns `(option, searchValue)`\n       */\n  renderOption: PropTypes.func,\n\n  /**\n       * Customize the loading message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  loadingMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Customize the no matches message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  noMatchesMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Customize the empty message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  emptyMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Control whether or not options get filtered internally or if consumer will filter\n       * Default: false\n       */\n  isPreFiltered: PropTypes.bool\n};\n\ntry {\n  EuiSelectable.__docgenInfo = {\n    description: '',\n    displayName: 'EuiSelectable',\n    methods: [],\n    props: {\n      className: {\n        defaultValue: null,\n        description: '',\n        name: 'className',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'aria-label': {\n        defaultValue: null,\n        description: 'Defines a string value that labels the current element.\\n' + '@see aria-labelledby.',\n        name: 'aria-label',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'data-test-subj': {\n        defaultValue: null,\n        description: '',\n        name: 'data-test-subj',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      searchable: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'Hooks up a search box to filter the list (boolean)',\n        name: 'searchable',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      searchProps: {\n        defaultValue: null,\n        description: 'Passes props down to the `EuiFieldSearch`',\n        name: 'searchProps',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'Partial<EuiSelectableSearchProps<T>>'\n        }\n      },\n      children: {\n        defaultValue: null,\n        description: 'Function that takes the `list` node and then\\n' + 'the `search` node (if `searchable` is applied)',\n        name: 'children',\n        parent: undefined,\n        required: false,\n        type: {\n          name: '(list: ReactElement<typeof EuiSelectableList | FunctionComponent<EuiSelectableMessageProps>, string | ((props: any) => ReactElement<any, string | ... 1 more ... | (new (props: any) => Component<...>)>) | (new (props: any) => Component<...>)>, search: ReactElement<...>) => ReactNode'\n        }\n      },\n      options: {\n        defaultValue: {\n          value: '[]'\n        },\n        description: 'Array of EuiSelectableOption objects. See #EuiSelectableOptionProps',\n        name: 'options',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'ExclusiveUnion<EuiSelectableGroupLabelOption<T>, EuiSelectableLIOption<T>>[]'\n        }\n      },\n      onChange: {\n        defaultValue: null,\n        description: 'Passes back the altered `options` array with selected options as',\n        name: 'onChange',\n        parent: undefined,\n        required: false,\n        type: {\n          name: '(options: ExclusiveUnion<EuiSelectableGroupLabelOption<T>, EuiSelectableLIOption<T>>[]) => void'\n        }\n      },\n      singleSelection: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'Sets the single selection policy of\\n' + '`false`: allows multiple selection\\n' + '`true`: only allows one selection\\n' + '`always`: can and must have only one selection',\n        name: 'singleSelection',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'boolean | \"always\"'\n        }\n      },\n      allowExclusions: {\n        defaultValue: null,\n        description: \"Allows marking options as `checked='off'` as well as `'on'`\",\n        name: 'allowExclusions',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      isLoading: {\n        defaultValue: null,\n        description: 'Show an loading indicator while you load and hook up your data',\n        name: 'isLoading',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      height: {\n        defaultValue: null,\n        description: 'Sets the max height in pixels or pass `full` to allow\\n' + 'the whole group to fill the height of its container and\\n' + 'allows the list grow as well',\n        name: 'height',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'number | \"full\"'\n        }\n      },\n      listProps: {\n        defaultValue: null,\n        description: 'See #EuiSelectableOptionsList',\n        name: 'listProps',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'EuiSelectableOptionsListPropsWithDefaults'\n        }\n      },\n      renderOption: {\n        defaultValue: null,\n        description: 'Custom render function for each option.\\n' + 'Returns `(option, searchValue)`',\n        name: 'renderOption',\n        parent: undefined,\n        required: false,\n        type: {\n          name: '(option: ExclusiveUnion<EuiSelectableGroupLabelOption<T>, EuiSelectableLIOption<T>>, searchValue: string) => ReactNode'\n        }\n      },\n      loadingMessage: {\n        defaultValue: null,\n        description: 'Customize the loading message. Pass a string to simply change the text,\\n' + 'or a node to replace the whole content.',\n        name: 'loadingMessage',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'string | ReactElement'\n        }\n      },\n      noMatchesMessage: {\n        defaultValue: null,\n        description: 'Customize the no matches message. Pass a string to simply change the text,\\n' + 'or a node to replace the whole content.',\n        name: 'noMatchesMessage',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'string | ReactElement'\n        }\n      },\n      emptyMessage: {\n        defaultValue: null,\n        description: 'Customize the empty message. Pass a string to simply change the text,\\n' + 'or a node to replace the whole content.',\n        name: 'emptyMessage',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'string | ReactElement'\n        }\n      },\n      isPreFiltered: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'Control whether or not options get filtered internally or if consumer will filter\\n' + 'Default: false',\n        name: 'isPreFiltered',\n        parent: undefined,\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      }\n    },\n    extendedInterfaces: ['CommonProps', 'HTMLAttributes', 'AriaAttributes', 'DOMAttributes']\n  };\n} catch (e) {}"]}]}