{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\services\\color\\luminance_and_contrast.ts","dependencies":[{"path":"D:\\work\\eui\\src\\services\\color\\luminance_and_contrast.ts","mtime":1649070093833},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKCi8qCiAqIExpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvcgogKiBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aAogKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodAogKiBvd25lcnNoaXAuIEVsYXN0aWNzZWFyY2ggQi5WLiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8geW91IHVuZGVyCiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5CiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAogKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgogKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKICogdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwpleHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlTHVtaW5hbmNlKHIsIGcsIGIpIHsKICB2YXIgYSA9IFtyLCBnLCBiXS5tYXAoZnVuY3Rpb24gKHYpIHsKICAgIHYgLz0gMjU1OwogICAgcmV0dXJuIHYgPD0gMC4wMzkyOCA/IHYgLyAxMi45MiA6IE1hdGgucG93KCh2ICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7CiAgfSk7CiAgcmV0dXJuIGFbMF0gKiAwLjIxMjYgKyBhWzFdICogMC43MTUyICsgYVsyXSAqIDAuMDcyMjsKfQpleHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQ29udHJhc3QocmdiMSwgcmdiMikgewogIHZhciBjb250cmFzdCA9IChjYWxjdWxhdGVMdW1pbmFuY2UocmdiMVswXSwgcmdiMVsxXSwgcmdiMVsyXSkgKyAwLjA1KSAvIChjYWxjdWxhdGVMdW1pbmFuY2UocmdiMlswXSwgcmdiMlsxXSwgcmdiMlsyXSkgKyAwLjA1KTsKCiAgaWYgKGNvbnRyYXN0IDwgMSkgewogICAgY29udHJhc3QgPSAxIC8gY29udHJhc3Q7CiAgfQoKICByZXR1cm4gY29udHJhc3Q7Cn0="},{"version":3,"sources":["D:/work/eui/src/services/color/luminance_and_contrast.ts"],"names":["calculateLuminance","r","g","b","a","map","v","Math","pow","calculateContrast","rgb1","rgb2","contrast"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA,OAAO,SAASA,kBAAT,CAA4BC,CAA5B,EAAuCC,CAAvC,EAAkDC,CAAlD,EAAqE;AAC1E,MAAMC,CAAC,GAAG,CAACH,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAUE,GAAV,CAAc,UAACC,CAAD,EAAO;AAC7BA,IAAAA,CAAC,IAAI,GAAL;AACA,WAAOA,CAAC,IAAI,OAAL,GAAeA,CAAC,GAAG,KAAnB,GAA2BC,IAAI,CAACC,GAAL,CAAS,CAACF,CAAC,GAAG,KAAL,IAAc,KAAvB,EAA8B,GAA9B,CAAlC;AACD,GAHS,CAAV;AAIA,SAAOF,CAAC,CAAC,CAAD,CAAD,GAAO,MAAP,GAAgBA,CAAC,CAAC,CAAD,CAAD,GAAO,MAAvB,GAAgCA,CAAC,CAAC,CAAD,CAAD,GAAO,MAA9C;AACD;AAED,OAAO,SAASK,iBAAT,CAA2BC,IAA3B,EAAyCC,IAAzC,EAA+D;AACpE,MAAIC,QAAQ,GACV,CAACZ,kBAAkB,CAACU,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,EAAmBA,IAAI,CAAC,CAAD,CAAvB,CAAlB,GAAgD,IAAjD,KACCV,kBAAkB,CAACW,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,EAAmBA,IAAI,CAAC,CAAD,CAAvB,CAAlB,GAAgD,IADjD,CADF;;AAIA,MAAIC,QAAQ,GAAG,CAAf,EAAkB;AAChBA,IAAAA,QAAQ,GAAG,IAAIA,QAAf;AACD;;AACD,SAAOA,QAAP;AACD","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { rgbDef } from './color_types';\n\nexport function calculateLuminance(r: number, g: number, b: number): number {\n  const a = [r, g, b].map((v) => {\n    v /= 255;\n    return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n  });\n  return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n}\n\nexport function calculateContrast(rgb1: rgbDef, rgb2: rgbDef): number {\n  let contrast =\n    (calculateLuminance(rgb1[0], rgb1[1], rgb1[2]) + 0.05) /\n    (calculateLuminance(rgb2[0], rgb2[1], rgb2[2]) + 0.05);\n\n  if (contrast < 1) {\n    contrast = 1 / contrast;\n  }\n  return contrast;\n}\n"]}]}