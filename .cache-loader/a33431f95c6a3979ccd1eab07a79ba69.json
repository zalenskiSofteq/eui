{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\popover\\popover.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\popover\\popover.tsx","mtime":1649070093735},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7CgpmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgppbXBvcnQgUHJvcFR5cGVzIGZyb20gInByb3AtdHlwZXMiOwoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgovKgogKiBMaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IKICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQKICogb3duZXJzaGlwLiBFbGFzdGljc2VhcmNoIEIuVi4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlcgogKiB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heQogKiBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7CmltcG9ydCB0YWJiYWJsZSBmcm9tICd0YWJiYWJsZSc7CmltcG9ydCB7IEV1aUZvY3VzVHJhcCB9IGZyb20gJy4uL2ZvY3VzX3RyYXAnOwppbXBvcnQgeyBjYXNjYWRpbmdNZW51S2V5cywgZ2V0VHJhbnNpdGlvblRpbWluZ3MsIGdldFdhaXREdXJhdGlvbiwgcGVyZm9ybU9uRnJhbWUsIGh0bWxJZEdlbmVyYXRvciB9IGZyb20gJy4uLy4uL3NlcnZpY2VzJzsKaW1wb3J0IHsgRXVpU2NyZWVuUmVhZGVyT25seSB9IGZyb20gJy4uL2FjY2Vzc2liaWxpdHknOwppbXBvcnQgeyBFdWlQYW5lbCB9IGZyb20gJy4uL3BhbmVsJzsKaW1wb3J0IHsgRXVpUG9ydGFsIH0gZnJvbSAnLi4vcG9ydGFsJzsKaW1wb3J0IHsgRXVpTXV0YXRpb25PYnNlcnZlciB9IGZyb20gJy4uL29ic2VydmVyL211dGF0aW9uX29ic2VydmVyJzsKaW1wb3J0IHsgZmluZFBvcG92ZXJQb3NpdGlvbiwgZ2V0RWxlbWVudFpJbmRleCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3BvcG92ZXInOwppbXBvcnQgeyBFdWlJMThuIH0gZnJvbSAnLi4vaTE4bic7CmltcG9ydCB7IEV1aU91dHNpZGVDbGlja0RldGVjdG9yIH0gZnJvbSAnLi4vb3V0c2lkZV9jbGlja19kZXRlY3Rvcic7CnZhciBnZW5lcmF0ZUlkID0gaHRtbElkR2VuZXJhdG9yKCk7CnZhciBhbmNob3JQb3NpdGlvblRvUG9wb3ZlclBvc2l0aW9uTWFwID0gewogIHVwOiAndG9wJywKICByaWdodDogJ3JpZ2h0JywKICBkb3duOiAnYm90dG9tJywKICBsZWZ0OiAnbGVmdCcKfTsKZXhwb3J0IGZ1bmN0aW9uIGdldFBvcG92ZXJQb3NpdGlvbkZyb21BbmNob3JQb3NpdGlvbihhbmNob3JQb3NpdGlvbikgewogIC8vIG1hcHMgdGhlIGFuY2hvciBwb3NpdGlvbiB0byB0aGUgbWF0Y2hpbmcgcG9wb3ZlciBwb3NpdGlvbgogIC8vIGUuZy4gInVwTGVmdCIgLT4gInRvcCIsICJkb3duUmlnaHQiIC0+ICJib3R0b20iCiAgLy8gZXh0cmFjdCB0aGUgZmlyc3QgcG9zaXRpb25hbCB3b3JkIGZyb20gYW5jaG9yUG9zaXRpb246CiAgLy8gc3RhcnRzIGF0IHRoZSBiZWdpbm5pbmcgKCIgXiAiKSBvZiBhbmNob3JQb3NpdGlvbiBhbmQKICAvLyBjYXB0dXJlcyBhbGwgb2YgdGhlIGNoYXJhY3RlcnMgKCIgKC4qPykgIikgdW50aWwgdGhlCiAgLy8gZmlyc3QgY2FwaXRhbCBsZXR0ZXIgKCIgW0EtWl0gIikgaXMgZW5jb3VudGVyZWQKICB2YXIgX3JlZiA9IGFuY2hvclBvc2l0aW9uLm1hdGNoKC9eKC4qPylbQS1aXS8pLAogICAgICBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICBwcmltYXJ5UG9zaXRpb24gPSBfcmVmMlsxXTsKCiAgcmV0dXJuIGFuY2hvclBvc2l0aW9uVG9Qb3BvdmVyUG9zaXRpb25NYXBbcHJpbWFyeVBvc2l0aW9uXTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0UG9wb3ZlckFsaWduRnJvbUFuY2hvclBvc2l0aW9uKGFuY2hvclBvc2l0aW9uKSB7CiAgLy8gbWFwcyB0aGUgZ3Jhdml0eSB0byB0aGUgbWF0Y2hpbmcgcG9wb3ZlciBwb3NpdGlvbgogIC8vIGUuZy4gInVwTGVmdCIgLT4gImxlZnQiLCAicmlnaHREb3duIiAtPiAiYm90dG9tIgogIC8vIGV4dHJhY3QgdGhlIHNlY29uZCBwb3NpdGlvbmFsIHdvcmQgZnJvbSBhbmNob3JQb3NpdGlvbjoKICAvLyBzdGFydHMgYSBjYXB0dXJlIGdyb3VwIGF0IHRoZSBmaXJzdCBjYXBpdGFsIGxldHRlcgogIC8vIGFuZCBpbmNsdWRlcyBldmVyeXRoaW5nIGFmdGVyIGl0CiAgdmFyIF9yZWYzID0gYW5jaG9yUG9zaXRpb24ubWF0Y2goLyhbQS1aXS4qKS8pLAogICAgICBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAyKSwKICAgICAgYWxpZ24gPSBfcmVmNFsxXTsgLy8gdGhpcyBwZXJmb3JtcyB0d28gdGFza3M6CiAgLy8gMS4gbm9ybWFsaXplcyB0aGUgYWxpZ24gcG9zaXRpb24gYnkgbG93ZXJjYXNpbmcgaXQKICAvLyAyLiBgY2VudGVyYCBkb2Vzbid0IGV4aXN0IGluIHRoZSBsb29rdXAgbWFwIHdoaWNoIGNvbnZlcnRzIGl0IHRvIGB1bmRlZmluZWRgIG1lYW5pbmcgbm8gYWxpZ24KCgogIHJldHVybiBhbmNob3JQb3NpdGlvblRvUG9wb3ZlclBvc2l0aW9uTWFwW2FsaWduLnRvTG93ZXJDYXNlKCldOwp9CnZhciBhbmNob3JQb3NpdGlvblRvQ2xhc3NOYW1lTWFwID0gewogIHVwQ2VudGVyOiAnZXVpUG9wb3Zlci0tYW5jaG9yVXBDZW50ZXInLAogIHVwTGVmdDogJ2V1aVBvcG92ZXItLWFuY2hvclVwTGVmdCcsCiAgdXBSaWdodDogJ2V1aVBvcG92ZXItLWFuY2hvclVwUmlnaHQnLAogIGRvd25DZW50ZXI6ICdldWlQb3BvdmVyLS1hbmNob3JEb3duQ2VudGVyJywKICBkb3duTGVmdDogJ2V1aVBvcG92ZXItLWFuY2hvckRvd25MZWZ0JywKICBkb3duUmlnaHQ6ICdldWlQb3BvdmVyLS1hbmNob3JEb3duUmlnaHQnLAogIGxlZnRDZW50ZXI6ICdldWlQb3BvdmVyLS1hbmNob3JMZWZ0Q2VudGVyJywKICBsZWZ0VXA6ICdldWlQb3BvdmVyLS1hbmNob3JMZWZ0VXAnLAogIGxlZnREb3duOiAnZXVpUG9wb3Zlci0tYW5jaG9yTGVmdERvd24nLAogIHJpZ2h0Q2VudGVyOiAnZXVpUG9wb3Zlci0tYW5jaG9yUmlnaHRDZW50ZXInLAogIHJpZ2h0VXA6ICdldWlQb3BvdmVyLS1hbmNob3JSaWdodFVwJywKICByaWdodERvd246ICdldWlQb3BvdmVyLS1hbmNob3JSaWdodERvd24nCn07CmV4cG9ydCB2YXIgQU5DSE9SX1BPU0lUSU9OUyA9IE9iamVjdC5rZXlzKGFuY2hvclBvc2l0aW9uVG9DbGFzc05hbWVNYXApOwp2YXIgZGlzcGxheVRvQ2xhc3NOYW1lTWFwID0gewogIGlubGluZUJsb2NrOiB1bmRlZmluZWQsCiAgYmxvY2s6ICdldWlQb3BvdmVyLS1kaXNwbGF5QmxvY2snCn07CmV4cG9ydCB2YXIgRElTUExBWSA9IE9iamVjdC5rZXlzKGRpc3BsYXlUb0NsYXNzTmFtZU1hcCk7CnZhciBERUZBVUxUX1BPUE9WRVJfU1RZTEVTID0gewogIHRvcDogNTAsCiAgbGVmdDogNTAKfTsKCmZ1bmN0aW9uIGdldEVsZW1lbnRGcm9tSW5pdGlhbEZvY3VzKGluaXRpYWxGb2N1cykgewogIHZhciBpbml0aWFsRm9jdXNUeXBlID0gX3R5cGVvZihpbml0aWFsRm9jdXMpOwoKICBpZiAoaW5pdGlhbEZvY3VzVHlwZSA9PT0gJ3N0cmluZycpIHsKICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluaXRpYWxGb2N1cyk7CiAgfQoKICBpZiAoaW5pdGlhbEZvY3VzVHlwZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgcmV0dXJuIGluaXRpYWxGb2N1cygpOwogIH0KCiAgcmV0dXJuIGluaXRpYWxGb2N1czsKfQoKdmFyIHJldHVybkZvY3VzQ29uZmlnID0gewogIHByZXZlbnRTY3JvbGw6IHRydWUKfTsKZXhwb3J0IHZhciBFdWlQb3BvdmVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKEV1aVBvcG92ZXIsIF9Db21wb25lbnQpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEV1aVBvcG92ZXIpOwoKICBfY3JlYXRlQ2xhc3MoRXVpUG9wb3ZlciwgbnVsbCwgW3sKICAgIGtleTogImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7CiAgICAgIGlmIChwcmV2U3RhdGUucHJldlByb3BzLmlzT3BlbiAmJiAhbmV4dFByb3BzLmlzT3BlbikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBwcmV2UHJvcHM6IHsKICAgICAgICAgICAgaXNPcGVuOiBuZXh0UHJvcHMuaXNPcGVuCiAgICAgICAgICB9LAogICAgICAgICAgaXNDbG9zaW5nOiB0cnVlLAogICAgICAgICAgaXNPcGVuaW5nOiBmYWxzZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmIChwcmV2U3RhdGUucHJldlByb3BzLmlzT3BlbiAhPT0gbmV4dFByb3BzLmlzT3BlbikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBwcmV2UHJvcHM6IHsKICAgICAgICAgICAgaXNPcGVuOiBuZXh0UHJvcHMuaXNPcGVuCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfV0pOwoKICBmdW5jdGlvbiBFdWlQb3BvdmVyKHByb3BzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV1aVBvcG92ZXIpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlc3Bvc2l0aW9uVGltZW91dCIsIHZvaWQgMCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY2xvc2luZ1RyYW5zaXRpb25UaW1lb3V0Iiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjbG9zaW5nVHJhbnNpdGlvbkFuaW1hdGlvbkZyYW1lIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJ1cGRhdGVGb2N1c0FuaW1hdGlvbkZyYW1lIiwgdm9pZCAwKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJidXR0b24iLCBudWxsKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJwYW5lbCIsIG51bGwpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImhhc1NldEluaXRpYWxGb2N1cyIsIGZhbHNlKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjbG9zZVBvcG92ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5wcm9wcy5pc09wZW4pIHsKICAgICAgICBfdGhpcy5wcm9wcy5jbG9zZVBvcG92ZXIoKTsKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAib25Fc2NhcGVLZXkiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgaWYgKF90aGlzLnByb3BzLmlzT3BlbikgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgICAgIF90aGlzLmNsb3NlUG9wb3ZlcigpOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbktleURvd24iLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmtleSA9PT0gY2FzY2FkaW5nTWVudUtleXMuRVNDQVBFKSB7CiAgICAgICAgX3RoaXMub25Fc2NhcGVLZXkoZXZlbnQpOwogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJvbkNsaWNrT3V0c2lkZSIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAvLyBvbmx5IGNsb3NlIHRoZSBwb3BvdmVyIGlmIHRoZSBldmVudCBzb3VyY2UgaXNuJ3QgdGhlIGFuY2hvciBidXR0b24KICAgICAgLy8gb3RoZXJ3aXNlLCBpdCBpcyB1cCB0byB0aGUgYW5jaG9yIHRvIHRvZ2dsZSB0aGUgcG9wb3ZlcidzIG9wZW4gc3RhdHVzCiAgICAgIGlmIChfdGhpcy5idXR0b24gJiYgX3RoaXMuYnV0dG9uLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgPT09IGZhbHNlKSB7CiAgICAgICAgX3RoaXMuY2xvc2VQb3BvdmVyKCk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uT3BlblBvcG92ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5jbG9zaW5nVHJhbnNpdGlvblRpbWVvdXQpOwoKICAgICAgaWYgKF90aGlzLmNsb3NpbmdUcmFuc2l0aW9uQW5pbWF0aW9uRnJhbWUpIHsKICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShfdGhpcy5jbG9zaW5nVHJhbnNpdGlvbkFuaW1hdGlvbkZyYW1lKTsKICAgICAgfSAvLyBXZSBuZWVkIHRvIHNldCB0aGlzIHN0YXRlIGEgYmVhdCBhZnRlciB0aGUgcmVuZGVyIHRha2VzIHBsYWNlLCBzbyB0aGF0IHRoZSBDU1MKICAgICAgLy8gdHJhbnNpdGlvbiBjYW4gdGFrZSBlZmZlY3QuCgoKICAgICAgX3RoaXMuY2xvc2luZ1RyYW5zaXRpb25BbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIGlzT3BlbmluZzogdHJ1ZQogICAgICAgIH0pOwogICAgICB9KTsgLy8gZm9yIGVhY2ggY2hpbGQgZWxlbWVudCBvZiBgdGhpcy5wYW5lbGAsIGZpbmQgYW55IHRyYW5zaXRpb24gZHVyYXRpb24gd2Ugc2hvdWxkIHdhaXQgZm9yIGJlZm9yZSBzdGFiaWxpemluZwoKICAgICAgdmFyIF9BcnJheSRwcm90b3R5cGUkc2xpYyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKF90aGlzLnBhbmVsID8gW190aGlzLnBhbmVsXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5LmZyb20oX3RoaXMucGFuZWwuY2hpbGRyZW4pKSkgOiBbXSkucmVkdWNlKGZ1bmN0aW9uIChfcmVmNSwgZWxlbWVudCkgewogICAgICAgIHZhciBkdXJhdGlvbk1hdGNoID0gX3JlZjUuZHVyYXRpb25NYXRjaCwKICAgICAgICAgICAgZGVsYXlNYXRjaCA9IF9yZWY1LmRlbGF5TWF0Y2g7CiAgICAgICAgdmFyIHRyYW5zaXRpb25UaW1pbmdzID0gZ2V0VHJhbnNpdGlvblRpbWluZ3MoZWxlbWVudCk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGR1cmF0aW9uTWF0Y2g6IE1hdGgubWF4KGR1cmF0aW9uTWF0Y2gsIHRyYW5zaXRpb25UaW1pbmdzLmR1cmF0aW9uTWF0Y2gpLAogICAgICAgICAgZGVsYXlNYXRjaDogTWF0aC5tYXgoZGVsYXlNYXRjaCwgdHJhbnNpdGlvblRpbWluZ3MuZGVsYXlNYXRjaCkKICAgICAgICB9OwogICAgICB9LCB7CiAgICAgICAgZHVyYXRpb25NYXRjaDogMCwKICAgICAgICBkZWxheU1hdGNoOiAwCiAgICAgIH0pLAogICAgICAgICAgZHVyYXRpb25NYXRjaCA9IF9BcnJheSRwcm90b3R5cGUkc2xpYy5kdXJhdGlvbk1hdGNoLAogICAgICAgICAgZGVsYXlNYXRjaCA9IF9BcnJheSRwcm90b3R5cGUkc2xpYy5kZWxheU1hdGNoOwoKICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnJlc3Bvc2l0aW9uVGltZW91dCk7CiAgICAgIF90aGlzLnJlc3Bvc2l0aW9uVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBpc09wZW5TdGFibGU6IHRydWUKICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5wb3NpdGlvblBvcG92ZXJGaXhlZCgpOwoKICAgICAgICAgIF90aGlzLnVwZGF0ZUZvY3VzKCk7CiAgICAgICAgfSk7CiAgICAgIH0sIGR1cmF0aW9uTWF0Y2ggKyBkZWxheU1hdGNoKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9uTXV0YXRpb24iLCBmdW5jdGlvbiAocmVjb3JkcykgewogICAgICB2YXIgd2FpdER1cmF0aW9uID0gZ2V0V2FpdER1cmF0aW9uKHJlY29yZHMpOwoKICAgICAgX3RoaXMucG9zaXRpb25Qb3BvdmVyRml4ZWQoKTsKCiAgICAgIHBlcmZvcm1PbkZyYW1lKHdhaXREdXJhdGlvbiwgX3RoaXMucG9zaXRpb25Qb3BvdmVyRml4ZWQpOwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAicG9zaXRpb25Qb3BvdmVyIiwgZnVuY3Rpb24gKGFsbG93RW5mb3JjZVBvc2l0aW9uKSB7CiAgICAgIGlmIChfdGhpcy5idXR0b24gPT0gbnVsbCB8fCBfdGhpcy5wYW5lbCA9PSBudWxsKSByZXR1cm47CiAgICAgIHZhciBfcmVmNiA9IF90aGlzLnByb3BzLAogICAgICAgICAgYW5jaG9yUG9zaXRpb24gPSBfcmVmNi5hbmNob3JQb3NpdGlvbjsKICAgICAgdmFyIHBvc2l0aW9uID0gZ2V0UG9wb3ZlclBvc2l0aW9uRnJvbUFuY2hvclBvc2l0aW9uKGFuY2hvclBvc2l0aW9uKTsKICAgICAgdmFyIGZvcmNlUG9zaXRpb24gPSB1bmRlZmluZWQ7CgogICAgICBpZiAoYWxsb3dFbmZvcmNlUG9zaXRpb24gJiYgX3RoaXMuc3RhdGUuaXNPcGVuU3RhYmxlICYmIF90aGlzLnN0YXRlLm9wZW5Qb3NpdGlvbiAhPSBudWxsKSB7CiAgICAgICAgcG9zaXRpb24gPSBfdGhpcy5zdGF0ZS5vcGVuUG9zaXRpb247CiAgICAgICAgZm9yY2VQb3NpdGlvbiA9IHRydWU7CiAgICAgIH0KCiAgICAgIHZhciBfZmluZFBvcG92ZXJQb3NpdGlvbiA9IGZpbmRQb3BvdmVyUG9zaXRpb24oewogICAgICAgIGNvbnRhaW5lcjogX3RoaXMucHJvcHMuY29udGFpbmVyLAogICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbiwKICAgICAgICBmb3JjZVBvc2l0aW9uOiBmb3JjZVBvc2l0aW9uLAogICAgICAgIGFsaWduOiBnZXRQb3BvdmVyQWxpZ25Gcm9tQW5jaG9yUG9zaXRpb24oYW5jaG9yUG9zaXRpb24pLAogICAgICAgIGFuY2hvcjogX3RoaXMuYnV0dG9uLAogICAgICAgIHBvcG92ZXI6IF90aGlzLnBhbmVsLAogICAgICAgIG9mZnNldDogIV90aGlzLnByb3BzLmF0dGFjaFRvQW5jaG9yICYmIF90aGlzLnByb3BzLmhhc0Fycm93ID8gMTYgKyAoX3RoaXMucHJvcHMub2Zmc2V0IHx8IDApIDogOCArIChfdGhpcy5wcm9wcy5vZmZzZXQgfHwgMCksCiAgICAgICAgYXJyb3dDb25maWc6IHsKICAgICAgICAgIGFycm93V2lkdGg6IDI0LAogICAgICAgICAgYXJyb3dCdWZmZXI6IDEwCiAgICAgICAgfSwKICAgICAgICByZXR1cm5Cb3VuZGluZ0JveDogX3RoaXMucHJvcHMuYXR0YWNoVG9BbmNob3IsCiAgICAgICAgYnVmZmVyOiBfdGhpcy5wcm9wcy5idWZmZXIKICAgICAgfSksCiAgICAgICAgICB0b3AgPSBfZmluZFBvcG92ZXJQb3NpdGlvbi50b3AsCiAgICAgICAgICBsZWZ0ID0gX2ZpbmRQb3BvdmVyUG9zaXRpb24ubGVmdCwKICAgICAgICAgIGZvdW5kUG9zaXRpb24gPSBfZmluZFBvcG92ZXJQb3NpdGlvbi5wb3NpdGlvbiwKICAgICAgICAgIGFycm93ID0gX2ZpbmRQb3BvdmVyUG9zaXRpb24uYXJyb3csCiAgICAgICAgICBhbmNob3JCb3VuZGluZ0JveCA9IF9maW5kUG9wb3ZlclBvc2l0aW9uLmFuY2hvckJvdW5kaW5nQm94OyAvLyB0aGUgcG9wb3ZlcidzIHotaW5kZXggbXVzdCBpbmhlcml0IGZyb20gdGhlIGJ1dHRvbgogICAgICAvLyB0aGlzIGtlZXBzIGEgYnV0dG9uJ3MgcG9wb3ZlciB1bmRlciBhIGZseW91dCB0aGF0IHdvdWxkIGNvdmVyIHRoZSBidXR0b24KICAgICAgLy8gYnV0IGEgcG9wb3ZlciB0cmlnZ2VyZWQgaW5zaWRlIGEgZmx5b3V0IHdpbGwgYXBwZWFyIG92ZXIgdGhhdCBmbHlvdXQKCgogICAgICB2YXIgekluZGV4UHJvcCA9IF90aGlzLnByb3BzLnpJbmRleDsKICAgICAgdmFyIHpJbmRleCA9IHpJbmRleFByb3AgPT0gbnVsbCA/IGdldEVsZW1lbnRaSW5kZXgoX3RoaXMuYnV0dG9uLCBfdGhpcy5wYW5lbCkgKyAyMDAwIDogekluZGV4UHJvcDsKCiAgICAgIHZhciBwb3BvdmVyU3R5bGVzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5wcm9wcy5wYW5lbFN0eWxlKSwge30sIHsKICAgICAgICB0b3A6IHRvcCwKICAgICAgICBsZWZ0OiBfdGhpcy5wcm9wcy5hdHRhY2hUb0FuY2hvciAmJiBhbmNob3JCb3VuZGluZ0JveCA/IGFuY2hvckJvdW5kaW5nQm94LmxlZnQgOiBsZWZ0LAogICAgICAgIHpJbmRleDogekluZGV4CiAgICAgIH0pOwoKICAgICAgdmFyIHdpbGxSZW5kZXJBcnJvdyA9ICFfdGhpcy5wcm9wcy5hdHRhY2hUb0FuY2hvciAmJiBfdGhpcy5wcm9wcy5oYXNBcnJvdzsKICAgICAgdmFyIGFycm93U3R5bGVzID0gd2lsbFJlbmRlckFycm93ID8gYXJyb3cgOiB1bmRlZmluZWQ7CiAgICAgIHZhciBhcnJvd1Bvc2l0aW9uID0gZm91bmRQb3NpdGlvbjsKCiAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICBwb3BvdmVyU3R5bGVzOiBwb3BvdmVyU3R5bGVzLAogICAgICAgIGFycm93U3R5bGVzOiBhcnJvd1N0eWxlcywKICAgICAgICBhcnJvd1Bvc2l0aW9uOiBhcnJvd1Bvc2l0aW9uLAogICAgICAgIG9wZW5Qb3NpdGlvbjogZm91bmRQb3NpdGlvbgogICAgICB9KTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInBvc2l0aW9uUG9wb3ZlckZpeGVkIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5wb3NpdGlvblBvcG92ZXIodHJ1ZSk7CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJwb3NpdGlvblBvcG92ZXJGbHVpZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucG9zaXRpb25Qb3BvdmVyKGZhbHNlKTsKICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInBhbmVsUmVmIiwgZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgX3RoaXMucGFuZWwgPSBub2RlOwogICAgICBfdGhpcy5wcm9wcy5wYW5lbFJlZiAmJiBfdGhpcy5wcm9wcy5wYW5lbFJlZihub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwpIHsKICAgICAgICAvLyBwYW5lbCBoYXMgdW5tb3VudGVkLCByZXN0b3JlIHRoZSBzdGF0ZSBkZWZhdWx0cwogICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgIHBvcG92ZXJTdHlsZXM6IERFRkFVTFRfUE9QT1ZFUl9TVFlMRVMsCiAgICAgICAgICBhcnJvd1N0eWxlczoge30sCiAgICAgICAgICBhcnJvd1Bvc2l0aW9uOiBudWxsLAogICAgICAgICAgb3BlblBvc2l0aW9uOiBudWxsLAogICAgICAgICAgaXNPcGVuU3RhYmxlOiBmYWxzZQogICAgICAgIH0pOwoKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgX3RoaXMucG9zaXRpb25Qb3BvdmVyRmx1aWQpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHBhbmVsIGlzIGNvbWluZyBpbnRvIGV4aXN0ZW5jZQogICAgICAgIF90aGlzLnBvc2l0aW9uUG9wb3ZlckZsdWlkKCk7CgogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfdGhpcy5wb3NpdGlvblBvcG92ZXJGbHVpZCk7CiAgICAgIH0KICAgIH0pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImJ1dHRvblJlZiIsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgIF90aGlzLmJ1dHRvbiA9IG5vZGU7CiAgICAgIF90aGlzLnByb3BzLmJ1dHRvblJlZiAmJiBfdGhpcy5wcm9wcy5idXR0b25SZWYobm9kZSk7CiAgICB9KTsKCiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgcHJldlByb3BzOiB7CiAgICAgICAgaXNPcGVuOiBwcm9wcy5pc09wZW4KICAgICAgfSwKICAgICAgc3VwcHJlc3NpbmdQb3BvdmVyOiBwcm9wcy5pc09wZW4sCiAgICAgIC8vIG9ubHkgc3VwcHJlc3MgaWYgY3JlYXRlZCB3aXRoIGlzT3Blbj10cnVlCiAgICAgIGlzQ2xvc2luZzogZmFsc2UsCiAgICAgIGlzT3BlbmluZzogZmFsc2UsCiAgICAgIHBvcG92ZXJTdHlsZXM6IERFRkFVTFRfUE9QT1ZFUl9TVFlMRVMsCiAgICAgIGFycm93U3R5bGVzOiB7fSwKICAgICAgYXJyb3dQb3NpdGlvbjogbnVsbCwKICAgICAgb3BlblBvc2l0aW9uOiBudWxsLAogICAgICAvLyBvbmNlIGEgc3RhYmxlIHBvc2l0aW9uIGhhcyBiZWVuIGZvdW5kLCBrZWVwIHRoZSBjb250ZW50cyBvbiB0aGF0IHNpZGUKICAgICAgaXNPcGVuU3RhYmxlOiBmYWxzZSAvLyB3YWl0IGZvciBhbnkgaW5pdGlhbCBvcGVuaW5nIHRyYW5zaXRpb25zIHRvIGZpbmlzaCBiZWZvcmUgbWFya2luZyBhcyBzdGFibGUKCiAgICB9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEV1aVBvcG92ZXIsIFt7CiAgICBrZXk6ICJ1cGRhdGVGb2N1cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRm9jdXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8gV2FpdCBmb3IgdGhlIERPTSB0byB1cGRhdGUuCiAgICAgIHRoaXMudXBkYXRlRm9jdXNBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghX3RoaXMyLnByb3BzLm93bkZvY3VzIHx8ICFfdGhpczIucGFuZWwgfHwgX3RoaXMyLnByb3BzLmluaXRpYWxGb2N1cyA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vIElmIHdlJ3ZlIGFscmVhZHkgZm9jdXNlZCBvbiBzb21ldGhpbmcgaW5zaWRlIHRoZSBwYW5lbCwgZXZlcnl0aGluZydzIGZpbmUuCgoKICAgICAgICBpZiAoX3RoaXMyLmhhc1NldEluaXRpYWxGb2N1cyAmJiBfdGhpczIucGFuZWwuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vIE90aGVyd2lzZSBsZXQncyBmb2N1cyB0aGUgZmlyc3QgdGFiYmFibGUgaXRlbSBhbmQgZXhwZWRpdGUgaW5wdXQgZnJvbSB0aGUgdXNlci4KCgogICAgICAgIHZhciBmb2N1c1RhcmdldDsKCiAgICAgICAgaWYgKF90aGlzMi5wcm9wcy5pbml0aWFsRm9jdXMgIT0gbnVsbCkgewogICAgICAgICAgZm9jdXNUYXJnZXQgPSBnZXRFbGVtZW50RnJvbUluaXRpYWxGb2N1cyhfdGhpczIucHJvcHMuaW5pdGlhbEZvY3VzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHRhYmJhYmxlSXRlbXMgPSB0YWJiYWJsZShfdGhpczIucGFuZWwpOwoKICAgICAgICAgIGlmICh0YWJiYWJsZUl0ZW1zLmxlbmd0aCkgewogICAgICAgICAgICBmb2N1c1RhcmdldCA9IHRhYmJhYmxlSXRlbXNbMF07CiAgICAgICAgICB9CiAgICAgICAgfSAvLyB0aGVyZSdzIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB0aGUgcG9wb3ZlciBjb250ZW50IGJlY29taW5nIHZpc2libGUgYW5kIHRoaXMgZnVuY3Rpb24gY2FsbAogICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IGlzbid0IHZpc2libGUgeWV0IChkdWUgdG8gY3NzIHN0eWxpbmcpIHRoZW4gaXQgY2FuJ3QgYWNjZXB0IGZvY3VzCiAgICAgICAgLy8gc28gd2FpdCBmb3IgYW5vdGhlciByZW5kZXIgYW5kIHRyeSBhZ2FpbgoKCiAgICAgICAgaWYgKGZvY3VzVGFyZ2V0ID09IG51bGwpIHsKICAgICAgICAgIC8vIHRoZXJlIGlzbid0IGEgZm9jdXMgdGFyZ2V0LCBvbmUgb2YgdHdvIHJlYXNvbnM6CiAgICAgICAgICAvLyAjMSBpcyB0aGUgd2hvbGUgcGFuZWwgaGlkZGVuPyBJZiBzbywgc2NoZWR1bGUgYW5vdGhlciBjaGVjawogICAgICAgICAgLy8gIzIgcGFuZWwgaXMgdmlzaWJsZSBidXQgbm8gdGFiYmFibGVzIGV4aXN0LCBtb3ZlIGZvY3VzIHRvIHRoZSBwYW5lbAogICAgICAgICAgdmFyIHBhbmVsVmlzaWJpbGl0eSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKF90aGlzMi5wYW5lbCkudmlzaWJpbGl0eTsKCiAgICAgICAgICBpZiAocGFuZWxWaXNpYmlsaXR5ID09PSAnaGlkZGVuJykgewogICAgICAgICAgICAvLyAjMQogICAgICAgICAgICBfdGhpczIudXBkYXRlRm9jdXMoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vICMyCiAgICAgICAgICAgIGZvY3VzVGFyZ2V0ID0gX3RoaXMyLnBhbmVsOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBmb3VuZCBhbiBlbGVtZW50IHRvIGZvY3VzLCBidXQgaXMgaXQgdmlzaWJsZT8KICAgICAgICAgIHZhciB2aXNpYmlsaXR5ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZm9jdXNUYXJnZXQpLnZpc2liaWxpdHk7CgogICAgICAgICAgaWYgKHZpc2liaWxpdHkgPT09ICdoaWRkZW4nKSB7CiAgICAgICAgICAgIC8vIG5vdCB2aXNpYmxlLCBjaGVjayBhZ2FpbiBuZXh0IHJlbmRlciBmcmFtZQogICAgICAgICAgICBfdGhpczIudXBkYXRlRm9jdXMoKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChmb2N1c1RhcmdldCAhPSBudWxsKSB7CiAgICAgICAgICBfdGhpczIuaGFzU2V0SW5pdGlhbEZvY3VzID0gdHJ1ZTsKICAgICAgICAgIGZvY3VzVGFyZ2V0LmZvY3VzKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc3RhdGUuc3VwcHJlc3NpbmdQb3BvdmVyKSB7CiAgICAgICAgLy8gY29tcG9uZW50IHdhcyBjcmVhdGVkIHdpdGggaXNPcGVuPXRydWU7IG5vdyB0aGF0IGl0J3MgbW91bnRlZAogICAgICAgIC8vIHN0b3Agc3VwcHJlc3NpbmcgYW5kIHN0YXJ0IG9wZW5pbmcKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tZGlkLW1vdW50LXNldC1zdGF0ZQogICAgICAgIHRoaXMuc2V0U3RhdGUoewogICAgICAgICAgc3VwcHJlc3NpbmdQb3BvdmVyOiBmYWxzZSwKICAgICAgICAgIGlzT3BlbmluZzogdHJ1ZQogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5vbk9wZW5Qb3BvdmVyKCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnByb3BzLnJlcG9zaXRpb25PblNjcm9sbCkgewogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnBvc2l0aW9uUG9wb3ZlckZpeGVkKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudERpZFVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIC8vIFRoZSBwb3BvdmVyIGlzIGJlaW5nIG9wZW5lZC4KICAgICAgaWYgKCFwcmV2UHJvcHMuaXNPcGVuICYmIHRoaXMucHJvcHMuaXNPcGVuKSB7CiAgICAgICAgdGhpcy5vbk9wZW5Qb3BvdmVyKCk7CiAgICAgIH0gLy8gdXBkYXRlIHNjcm9sbCBsaXN0ZW5lcgoKCiAgICAgIGlmIChwcmV2UHJvcHMucmVwb3NpdGlvbk9uU2Nyb2xsICE9PSB0aGlzLnByb3BzLnJlcG9zaXRpb25PblNjcm9sbCkgewogICAgICAgIGlmICh0aGlzLnByb3BzLnJlcG9zaXRpb25PblNjcm9sbCkgewogICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucG9zaXRpb25Qb3BvdmVyRml4ZWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5wb3NpdGlvblBvcG92ZXJGaXhlZCk7CiAgICAgICAgfQogICAgICB9IC8vIFRoZSBwb3BvdmVyIGlzIGJlaW5nIGNsb3NlZC4KCgogICAgICBpZiAocHJldlByb3BzLmlzT3BlbiAmJiAhdGhpcy5wcm9wcy5pc09wZW4pIHsKICAgICAgICAvLyBJZiB0aGUgdXNlciBoYXMganVzdCBjbG9zZWQgdGhlIHBvcG92ZXIsIHF1ZXVlIHVwIHRoZSByZW1vdmFsIG9mIHRoZSBjb250ZW50IGFmdGVyIHRoZQogICAgICAgIC8vIHRyYW5zaXRpb24gaXMgY29tcGxldGUuCiAgICAgICAgdGhpcy5jbG9zaW5nVHJhbnNpdGlvblRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQuaGFzU2V0SW5pdGlhbEZvY3VzID0gZmFsc2U7CgogICAgICAgICAgX3RoaXM0LnNldFN0YXRlKHsKICAgICAgICAgICAgaXNDbG9zaW5nOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfSwgMjUwKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvbXBvbmVudFdpbGxVbm1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucG9zaXRpb25Qb3BvdmVyRml4ZWQpOwogICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNwb3NpdGlvblRpbWVvdXQpOwogICAgICBjbGVhclRpbWVvdXQodGhpcy5jbG9zaW5nVHJhbnNpdGlvblRpbWVvdXQpOwogICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmNsb3NpbmdUcmFuc2l0aW9uQW5pbWF0aW9uRnJhbWUpOwogICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUZvY3VzQW5pbWF0aW9uRnJhbWUpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBhbmNob3JDbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5hbmNob3JDbGFzc05hbWUsCiAgICAgICAgICBhbmNob3JQb3NpdGlvbiA9IF90aGlzJHByb3BzLmFuY2hvclBvc2l0aW9uLAogICAgICAgICAgYnV0dG9uID0gX3RoaXMkcHJvcHMuYnV0dG9uLAogICAgICAgICAgYnV0dG9uUmVmID0gX3RoaXMkcHJvcHMuYnV0dG9uUmVmLAogICAgICAgICAgaW5zZXJ0ID0gX3RoaXMkcHJvcHMuaW5zZXJ0LAogICAgICAgICAgaXNPcGVuID0gX3RoaXMkcHJvcHMuaXNPcGVuLAogICAgICAgICAgb3duRm9jdXMgPSBfdGhpcyRwcm9wcy5vd25Gb2N1cywKICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sCiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsCiAgICAgICAgICBjbG9zZVBvcG92ZXIgPSBfdGhpcyRwcm9wcy5jbG9zZVBvcG92ZXIsCiAgICAgICAgICBwYW5lbENsYXNzTmFtZSA9IF90aGlzJHByb3BzLnBhbmVsQ2xhc3NOYW1lLAogICAgICAgICAgcGFuZWxQYWRkaW5nU2l6ZSA9IF90aGlzJHByb3BzLnBhbmVsUGFkZGluZ1NpemUsCiAgICAgICAgICBwYW5lbFByb3BzID0gX3RoaXMkcHJvcHMucGFuZWxQcm9wcywKICAgICAgICAgIHBhbmVsUmVmID0gX3RoaXMkcHJvcHMucGFuZWxSZWYsCiAgICAgICAgICBwYW5lbFN0eWxlID0gX3RoaXMkcHJvcHMucGFuZWxTdHlsZSwKICAgICAgICAgIHBvcG92ZXJSZWYgPSBfdGhpcyRwcm9wcy5wb3BvdmVyUmVmLAogICAgICAgICAgaGFzQXJyb3cgPSBfdGhpcyRwcm9wcy5oYXNBcnJvdywKICAgICAgICAgIGFycm93Q2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5hcnJvd0NoaWxkcmVuLAogICAgICAgICAgcmVwb3NpdGlvbk9uU2Nyb2xsID0gX3RoaXMkcHJvcHMucmVwb3NpdGlvbk9uU2Nyb2xsLAogICAgICAgICAgekluZGV4ID0gX3RoaXMkcHJvcHMuekluZGV4LAogICAgICAgICAgaW5pdGlhbEZvY3VzID0gX3RoaXMkcHJvcHMuaW5pdGlhbEZvY3VzLAogICAgICAgICAgYXR0YWNoVG9BbmNob3IgPSBfdGhpcyRwcm9wcy5hdHRhY2hUb0FuY2hvciwKICAgICAgICAgIGRpc3BsYXkgPSBfdGhpcyRwcm9wcy5kaXNwbGF5LAogICAgICAgICAgb25UcmFwRGVhY3RpdmF0aW9uID0gX3RoaXMkcHJvcHMub25UcmFwRGVhY3RpdmF0aW9uLAogICAgICAgICAgYnVmZmVyID0gX3RoaXMkcHJvcHMuYnVmZmVyLAogICAgICAgICAgYXJpYUxhYmVsID0gX3RoaXMkcHJvcHNbJ2FyaWEtbGFiZWwnXSwKICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5ID0gX3RoaXMkcHJvcHNbJ2FyaWEtbGFiZWxsZWRieSddLAogICAgICAgICAgY29udGFpbmVyID0gX3RoaXMkcHJvcHMuY29udGFpbmVyLAogICAgICAgICAgZm9jdXNUcmFwUHJvcHMgPSBfdGhpcyRwcm9wcy5mb2N1c1RyYXBQcm9wcywKICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkcHJvcHMsIFsiYW5jaG9yQ2xhc3NOYW1lIiwgImFuY2hvclBvc2l0aW9uIiwgImJ1dHRvbiIsICJidXR0b25SZWYiLCAiaW5zZXJ0IiwgImlzT3BlbiIsICJvd25Gb2N1cyIsICJjaGlsZHJlbiIsICJjbGFzc05hbWUiLCAiY2xvc2VQb3BvdmVyIiwgInBhbmVsQ2xhc3NOYW1lIiwgInBhbmVsUGFkZGluZ1NpemUiLCAicGFuZWxQcm9wcyIsICJwYW5lbFJlZiIsICJwYW5lbFN0eWxlIiwgInBvcG92ZXJSZWYiLCAiaGFzQXJyb3ciLCAiYXJyb3dDaGlsZHJlbiIsICJyZXBvc2l0aW9uT25TY3JvbGwiLCAiekluZGV4IiwgImluaXRpYWxGb2N1cyIsICJhdHRhY2hUb0FuY2hvciIsICJkaXNwbGF5IiwgIm9uVHJhcERlYWN0aXZhdGlvbiIsICJidWZmZXIiLCAiYXJpYS1sYWJlbCIsICJhcmlhLWxhYmVsbGVkYnkiLCAiY29udGFpbmVyIiwgImZvY3VzVHJhcFByb3BzIl0pOwoKICAgICAgdmFyIGRlc2NyaXB0aW9uSWQgPSBnZW5lcmF0ZUlkKCk7CiAgICAgIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lcygnZXVpUG9wb3ZlcicsIGFuY2hvclBvc2l0aW9uID8gYW5jaG9yUG9zaXRpb25Ub0NsYXNzTmFtZU1hcFthbmNob3JQb3NpdGlvbl0gOiBudWxsLCBkaXNwbGF5ID8gZGlzcGxheVRvQ2xhc3NOYW1lTWFwW2Rpc3BsYXldIDogbnVsbCwgewogICAgICAgICdldWlQb3BvdmVyLWlzT3Blbic6IHRoaXMuc3RhdGUuaXNPcGVuaW5nCiAgICAgIH0sIGNsYXNzTmFtZSk7CiAgICAgIHZhciBhbmNob3JDbGFzc2VzID0gY2xhc3NOYW1lcygnZXVpUG9wb3Zlcl9fYW5jaG9yJywgYW5jaG9yQ2xhc3NOYW1lKTsKICAgICAgdmFyIHBhbmVsQ2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2V1aVBvcG92ZXJfX3BhbmVsJywgImV1aVBvcG92ZXJfX3BhbmVsLS0iLmNvbmNhdCh0aGlzLnN0YXRlLmFycm93UG9zaXRpb24pLCB7CiAgICAgICAgJ2V1aVBvcG92ZXJfX3BhbmVsLWlzT3Blbic6IHRoaXMuc3RhdGUuaXNPcGVuaW5nCiAgICAgIH0sIHsKICAgICAgICAnZXVpUG9wb3Zlcl9fcGFuZWwtbm9BcnJvdyc6ICFoYXNBcnJvdyB8fCBhdHRhY2hUb0FuY2hvcgogICAgICB9LCB7CiAgICAgICAgJ2V1aVBvcG92ZXJfX3BhbmVsLWlzQXR0YWNoZWQnOiBhdHRhY2hUb0FuY2hvcgogICAgICB9LCBwYW5lbENsYXNzTmFtZSwgcGFuZWxQcm9wcyA9PT0gbnVsbCB8fCBwYW5lbFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYW5lbFByb3BzLmNsYXNzTmFtZSk7CiAgICAgIHZhciBwYW5lbDsKCiAgICAgIGlmICghdGhpcy5zdGF0ZS5zdXBwcmVzc2luZ1BvcG92ZXIgJiYgKGlzT3BlbiB8fCB0aGlzLnN0YXRlLmlzQ2xvc2luZykpIHsKICAgICAgICB2YXIgdGFiSW5kZXg7CgogICAgICAgIHZhciBfaW5pdGlhbEZvY3VzOwoKICAgICAgICB2YXIgYXJpYURlc2NyaWJlZGJ5OwogICAgICAgIHZhciBhcmlhTGl2ZTsKCiAgICAgICAgaWYgKG93bkZvY3VzKSB7CiAgICAgICAgICB0YWJJbmRleCA9IDA7CiAgICAgICAgICBhcmlhTGl2ZSA9ICdvZmYnOwoKICAgICAgICAgIF9pbml0aWFsRm9jdXMgPSBmdW5jdGlvbiBfaW5pdGlhbEZvY3VzKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXM1LnBhbmVsOwogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXJpYUxpdmUgPSAnYXNzZXJ0aXZlJzsKICAgICAgICB9CgogICAgICAgIHZhciBmb2N1c1RyYXBTY3JlZW5SZWFkZXJUZXh0OwoKICAgICAgICBpZiAob3duRm9jdXMpIHsKICAgICAgICAgIGFyaWFEZXNjcmliZWRieSA9IGRlc2NyaXB0aW9uSWQ7CiAgICAgICAgICBmb2N1c1RyYXBTY3JlZW5SZWFkZXJUZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpU2NyZWVuUmVhZGVyT25seSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInAiLCB7CiAgICAgICAgICAgIGlkOiBkZXNjcmlwdGlvbklkCiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICAgICAgICAgIHRva2VuOiAiZXVpUG9wb3Zlci5zY3JlZW5SZWFkZXJBbm5vdW5jZW1lbnQiLAogICAgICAgICAgICBkZWZhdWx0OiAiWW91IGFyZSBpbiBhIGRpYWxvZy4gVG8gY2xvc2UgdGhpcyBkaWFsb2csIGhpdCBlc2NhcGUuIgogICAgICAgICAgfSkpKTsKICAgICAgICB9CgogICAgICAgIHZhciBhcnJvd0NsYXNzTmFtZXMgPSBjbGFzc05hbWVzKCdldWlQb3BvdmVyX19wYW5lbEFycm93JywgImV1aVBvcG92ZXJfX3BhbmVsQXJyb3ctLSIuY29uY2F0KHRoaXMuc3RhdGUuYXJyb3dQb3NpdGlvbikpOwogICAgICAgIHZhciByZXR1cm5Gb2N1cyA9IHRoaXMuc3RhdGUuaXNPcGVuU3RhYmxlID8gcmV0dXJuRm9jdXNDb25maWcgOiBmYWxzZTsKICAgICAgICBwYW5lbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVBvcnRhbCwgewogICAgICAgICAgaW5zZXJ0OiBpbnNlcnQKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlGb2N1c1RyYXAsIF9leHRlbmRzKHsKICAgICAgICAgIGNsaWNrT3V0c2lkZURpc2FibGVzOiB0cnVlCiAgICAgICAgfSwgZm9jdXNUcmFwUHJvcHMsIHsKICAgICAgICAgIHJldHVybkZvY3VzOiByZXR1cm5Gb2N1cyAvLyBJZ25vcmUgdGVtcG9yYXJ5IHN0YXRlIG9mIGluZGVjaXNpdmUgZm9jdXMKICAgICAgICAgICwKICAgICAgICAgIGluaXRpYWxGb2N1czogX2luaXRpYWxGb2N1cywKICAgICAgICAgIG9uRGVhY3RpdmF0aW9uOiBvblRyYXBEZWFjdGl2YXRpb24sCiAgICAgICAgICBvbkNsaWNrT3V0c2lkZTogdGhpcy5vbkNsaWNrT3V0c2lkZSwKICAgICAgICAgIG9uRXNjYXBlS2V5OiB0aGlzLm9uRXNjYXBlS2V5LAogICAgICAgICAgZGlzYWJsZWQ6ICFvd25Gb2N1cyB8fCAhdGhpcy5zdGF0ZS5pc09wZW5TdGFibGUgfHwgdGhpcy5zdGF0ZS5pc0Nsb3NpbmcKICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpUGFuZWwsIF9leHRlbmRzKHt9LCBwYW5lbFByb3BzLCB7CiAgICAgICAgICBwYW5lbFJlZjogdGhpcy5wYW5lbFJlZiwKICAgICAgICAgIGNsYXNzTmFtZTogcGFuZWxDbGFzc2VzLAogICAgICAgICAgaGFzU2hhZG93OiBmYWxzZSwKICAgICAgICAgIHBhZGRpbmdTaXplOiBwYW5lbFBhZGRpbmdTaXplLAogICAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4LAogICAgICAgICAgImFyaWEtbGl2ZSI6IGFyaWFMaXZlLAogICAgICAgICAgcm9sZTogImRpYWxvZyIsCiAgICAgICAgICAiYXJpYS1sYWJlbCI6IGFyaWFMYWJlbCwKICAgICAgICAgICJhcmlhLWxhYmVsbGVkYnkiOiBhcmlhTGFiZWxsZWRCeSwKICAgICAgICAgICJhcmlhLW1vZGFsIjogInRydWUiLAogICAgICAgICAgImFyaWEtZGVzY3JpYmVkYnkiOiBhcmlhRGVzY3JpYmVkYnksCiAgICAgICAgICBzdHlsZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnN0YXRlLnBvcG92ZXJTdHlsZXMpLCB7fSwgewogICAgICAgICAgICAvLyBBZGRpbmcgYHdpbGwtY2hhbmdlYCB0byByZWR1Y2UgcmlzayBvZiBhIGJsdXJyeSBhbmltYXRpb24gaW4gQ2hyb21lIDg2KwogICAgICAgICAgICB3aWxsQ2hhbmdlOiAhdGhpcy5zdGF0ZS5pc09wZW5TdGFibGUgPyAndHJhbnNmb3JtLCBvcGFjaXR5JyA6IHVuZGVmaW5lZAogICAgICAgICAgfSkKICAgICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogYXJyb3dDbGFzc05hbWVzLAogICAgICAgICAgc3R5bGU6IHRoaXMuc3RhdGUuYXJyb3dTdHlsZXMKICAgICAgICB9LCBhcnJvd0NoaWxkcmVuKSwgZm9jdXNUcmFwU2NyZWVuUmVhZGVyVGV4dCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpTXV0YXRpb25PYnNlcnZlciwgewogICAgICAgICAgb2JzZXJ2ZXJPcHRpb25zOiB7CiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsCiAgICAgICAgICAgIC8vIGVsZW1lbnQgYXR0cmlidXRlIGNoYW5nZXMKICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLAogICAgICAgICAgICAvLyBhZGRlZC9yZW1vdmVkIGVsZW1lbnRzCiAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsCiAgICAgICAgICAgIC8vIHRleHQgY2hhbmdlcwogICAgICAgICAgICBzdWJ0cmVlOiB0cnVlIC8vIHdhdGNoIGFsbCBjaGlsZCBlbGVtZW50cwoKICAgICAgICAgIH0sCiAgICAgICAgICBvbk11dGF0aW9uOiB0aGlzLm9uTXV0YXRpb24KICAgICAgICB9LCBmdW5jdGlvbiAobXV0YXRpb25SZWYpIHsKICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICByZWY6IG11dGF0aW9uUmVmCiAgICAgICAgICB9LCBjaGlsZHJlbik7CiAgICAgICAgfSkpKSk7CiAgICAgIH0gLy8gcmVhY3QtZm9jdXMtb24gYW5kIHJlbGF0YWVkIGRvIG5vdCByZWdpc3RlciBvdXRzaWRlIGNsaWNrIGRldGVjdGlvbgogICAgICAvLyB3aGVuIGRpc2FibGVkLCBzbyB3ZSBzdGlsbCBuZWVkIHRvIGNvbmRpdGlvbmFsbHkgY2hlY2sgZm9yIHRoYXQgb3Vyc2VsdmVzCgoKICAgICAgaWYgKG93bkZvY3VzKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBfZXh0ZW5kcyh7CiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMsCiAgICAgICAgICByZWY6IHBvcG92ZXJSZWYKICAgICAgICB9LCByZXN0KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogYW5jaG9yQ2xhc3NlcywKICAgICAgICAgIHJlZjogdGhpcy5idXR0b25SZWYKICAgICAgICB9LCBidXR0b24gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/IG51bGwgOiBidXR0b24pLCBwYW5lbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aU91dHNpZGVDbGlja0RldGVjdG9yLCB7CiAgICAgICAgICBvbk91dHNpZGVDbGljazogdGhpcy5jbG9zZVBvcG92ZXIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgX2V4dGVuZHMoewogICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLAogICAgICAgICAgcmVmOiBwb3BvdmVyUmVmLAogICAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bgogICAgICAgIH0sIHJlc3QpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgY2xhc3NOYW1lOiBhbmNob3JDbGFzc2VzLAogICAgICAgICAgcmVmOiB0aGlzLmJ1dHRvblJlZgogICAgICAgIH0sIGJ1dHRvbiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gbnVsbCA6IGJ1dHRvbiksIHBhbmVsKSk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBFdWlQb3BvdmVyOwp9KENvbXBvbmVudCk7CgpfZGVmaW5lUHJvcGVydHkoRXVpUG9wb3ZlciwgImRlZmF1bHRQcm9wcyIsIHsKICBpc09wZW46IGZhbHNlLAogIG93bkZvY3VzOiB0cnVlLAogIGFuY2hvclBvc2l0aW9uOiAnZG93bkNlbnRlcicsCiAgcGFuZWxQYWRkaW5nU2l6ZTogJ20nLAogIGhhc0Fycm93OiB0cnVlLAogIGRpc3BsYXk6ICdpbmxpbmVCbG9jaycKfSk7CgpFdWlQb3BvdmVyLnByb3BUeXBlcyA9IHsKICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsCgogIC8qKgogICAgICogUHJvdmlkZSBhIG5hbWUgdG8gdGhlIHBvcG92ZXIgcGFuZWwKICAgICAqLwogICJhcmlhLWxhYmVsIjogUHJvcFR5cGVzLnN0cmluZywKICAiZGF0YS10ZXN0LXN1YmoiOiBQcm9wVHlwZXMuc3RyaW5nLAoKICAvKioKICAgICAqIENsYXNzIG5hbWUgcGFzc2VkIHRvIHRoZSBkaXJlY3QgcGFyZW50IG9mIHRoZSBidXR0b24KICAgICAqLwogIGFuY2hvckNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZywKCiAgLyoqCiAgICAgKiBBbGlnbm1lbnQgb2YgdGhlIHBvcG92ZXIgYW5kIGFycm93IHJlbGF0aXZlIHRvIHRoZSBidXR0b24KICAgICAqLwogIGFuY2hvclBvc2l0aW9uOiBQcm9wVHlwZXMub25lT2YoWyJ1cENlbnRlciIsICJ1cExlZnQiLCAidXBSaWdodCIsICJkb3duQ2VudGVyIiwgImRvd25MZWZ0IiwgImRvd25SaWdodCIsICJsZWZ0Q2VudGVyIiwgImxlZnRVcCIsICJsZWZ0RG93biIsICJyaWdodENlbnRlciIsICJyaWdodFVwIiwgInJpZ2h0RG93biJdKSwKCiAgLyoqCiAgICAgKiBTdHlsZSBhbmQgcG9zaXRpb24gYWx0ZXJhdGlvbiBmb3IgYXJyb3ctbGVzcywgbGVmdC1hbGlnbmVkCiAgICAgKiBhdHRhY2htZW50LiBJbnRlbmRlZCBmb3IgdXNlIHdpdGggaW5wdXRzIGFzIGFuY2hvcnMsIGUuZy4KICAgICAqIEV1aUlucHV0UG9wb3ZlcgogICAgICovCiAgYXR0YWNoVG9BbmNob3I6IFByb3BUeXBlcy5ib29sLAoKICAvKioKICAgICAqIFRyaWdnZXJpbmcgZWxlbWVudCBmb3Igd2hpY2ggdG8gYWxpZ24gdGhlIHBvcG92ZXIgdG8KICAgICAqLwogIGJ1dHRvbjogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkLAogIGJ1dHRvblJlZjogUHJvcFR5cGVzLmFueSwKCiAgLyoqCiAgICAgKiBDYWxsYmFjayB0byBoYW5kbGUgaGlkaW5nIG9mIHRoZSBwb3BvdmVyCiAgICAgKi8KICBjbG9zZVBvcG92ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCgogIC8qKgogICAgICogUmVzdHJpY3QgdGhlIHBvcG92ZXIncyBwb3NpdGlvbiB3aXRoaW4gdGhpcyBlbGVtZW50CiAgICAgKi8KICBjb250YWluZXI6IFByb3BUeXBlcy5hbnksCgogIC8qKgogICAgICogQ1NTIGRpc3BsYXkgdHlwZSBmb3IgYm90aCB0aGUgcG9wb3ZlciBhbmQgYW5jaG9yCiAgICAgKi8KICBkaXNwbGF5OiBQcm9wVHlwZXMub25lT2YoWyJpbmxpbmVCbG9jayIsICJibG9jayJdKSwKCiAgLyoqCiAgICAgKiBPYmplY3Qgb2YgcHJvcHMgcGFzc2VkIHRvIEV1aUZvY3VzVHJhcAogICAgICovCiAgZm9jdXNUcmFwUHJvcHM6IFByb3BUeXBlcy5hbnksCgogIC8qKgogICAgICogU2hvdyBhcnJvdyBpbmRpY2F0aW5nIHRvIG9yaWdpbmF0aW5nIGJ1dHRvbgogICAgICovCiAgaGFzQXJyb3c6IFByb3BUeXBlcy5ib29sLAoKICAvKioKICAgICAqIFNwZWNpZmllcyB3aGF0IGVsZW1lbnQgc2hvdWxkIGluaXRpYWxseSBoYXZlIGZvY3VzOyBDYW4gYmUgYSBET00KICAgICAqIG5vZGUsIG9yIGEgc2VsZWN0b3Igc3RyaW5nICh3aGljaCB3aWxsIGJlIHBhc3NlZCB0bwogICAgICogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigpIHRvIGZpbmQgdGhlIERPTSBub2RlKSwgb3IgYSBmdW5jdGlvbiB0aGF0CiAgICAgKiByZXR1cm5zIGEgRE9NIG5vZGUKICAgICAqIFNldCB0byBgZmFsc2VgIHRvIHByZXZlbnQgaW5pdGlhbCBhdXRvLWZvY3VzLiBVc2Ugb25seQogICAgICogd2hlbiB5b3VyIGFwcCBoYW5kbGVzIHNldHRpbmcgaW5pdGlhbCBmb2N1cyBzdGF0ZS4KICAgICAqLwogIGluaXRpYWxGb2N1czogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkLCBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRdKS5pc1JlcXVpcmVkLCBQcm9wVHlwZXMub25lT2YoW2ZhbHNlXSldKSwKCiAgLyoqCiAgICAgKiBQYXNzZWQgZGlyZWN0bHkgdG8gRXVpUG9ydGFsIGZvciBET00gcG9zaXRpb25pbmcuIEJvdGggcHJvcGVydGllcyBhcmUKICAgICAqIHJlcXVpcmVkIGlmIHByb3AgaXMgc3BlY2lmaWVkCiAgICAgKi8KICBpbnNlcnQ6IFByb3BUeXBlcy5zaGFwZSh7CiAgICBzaWJsaW5nOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsCiAgICBwb3NpdGlvbjogUHJvcFR5cGVzLm9uZU9mKFsiYmVmb3JlIiwgImFmdGVyIl0pLmlzUmVxdWlyZWQKICB9KSwKCiAgLyoqCiAgICAgKiBWaXNpYmlsaXR5IHN0YXRlIG9mIHRoZSBwb3BvdmVyCiAgICAgKi8KICBpc09wZW46IFByb3BUeXBlcy5ib29sLAoKICAvKioKICAgICAqIFRyYXBzIHRhYiBmb2N1cyB3aXRoaW4gdGhlIHBvcG92ZXIgY29udGVudHMKICAgICAqLwogIG93bkZvY3VzOiBQcm9wVHlwZXMuYm9vbCwKCiAgLyoqCiAgICAgKiBDdXN0b20gY2xhc3MgYWRkZWQgdG8gdGhlIEV1aVBhbmVsIGNvbnRhaW5pbmcgdGhlIHBvcG92ZXIgY29udGVudHMKICAgICAqLwogIHBhbmVsQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLAoKICAvKioKICAgICAqIEV1aVBhbmVsIHBhZGRpbmcgb24gYWxsIHNpZGVzCiAgICAgKi8KICBwYW5lbFBhZGRpbmdTaXplOiBQcm9wVHlwZXMuYW55LAoKICAvKioKICAgICAqIFN0YW5kYXJkIERPTSBgc3R5bGVgIGF0dHJpYnV0ZS4gUGFzc2VkIHRvIHRoZSBFdWlQYW5lbAogICAgICovCiAgcGFuZWxTdHlsZTogUHJvcFR5cGVzLmFueSwKCiAgLyoqCiAgICAgKiBPYmplY3Qgb2YgcHJvcHMgcGFzc2VkIHRvIEV1aVBhbmVsCiAgICAgKi8KICBwYW5lbFByb3BzOiBQcm9wVHlwZXMuYW55LAogIHBhbmVsUmVmOiBQcm9wVHlwZXMuYW55LAogIHBvcG92ZXJSZWY6IFByb3BUeXBlcy5hbnksCgogIC8qKgogICAgICogV2hlbiBgdHJ1ZWAsIHRoZSBwb3BvdmVyJ3MgcG9zaXRpb24gaXMgcmUtY2FsY3VsYXRlZCB3aGVuIHRoZSB1c2VyCiAgICAgKiBzY3JvbGxzLCB0aGlzIHN1cHBvcnRzIGhhdmluZyBmaXhlZC1wb3NpdGlvbiBwb3BvdmVyIGFuY2hvcnMKICAgICAqLwogIHJlcG9zaXRpb25PblNjcm9sbDogUHJvcFR5cGVzLmJvb2wsCgogIC8qKgogICAgICogQnkgZGVmYXVsdCwgcG9wb3ZlciBjb250ZW50IGluaGVyaXRzIHRoZSB6LWluZGV4IG9mIHRoZSBhbmNob3IKICAgICAqIGNvbXBvbmVudDsgcGFzcyBgekluZGV4YCB0byBvdmVycmlkZQogICAgICovCiAgekluZGV4OiBQcm9wVHlwZXMubnVtYmVyLAoKICAvKioKICAgICAqIEZ1bmN0aW9uIGNhbGxiYWNrIGZvciB3aGVuIHRoZSBmb2N1cyB0cmFwIGlzIGRlYWN0aXZhdGVkCiAgICAgKi8KICBvblRyYXBEZWFjdGl2YXRpb246IFByb3BUeXBlcy5hbnksCgogIC8qKgogICAgICogRGlzdGFuY2UgYXdheSBmcm9tIHRoZSBhbmNob3IgdGhhdCB0aGUgcG9wb3ZlciB3aWxsIHJlbmRlcgogICAgICovCiAgb2Zmc2V0OiBQcm9wVHlwZXMubnVtYmVyLAoKICAvKioKICAgICAqIE1pbmltdW0gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9wb3ZlciBhbmQgdGhlIGJvdW5kaW5nIGNvbnRhaW5lcjsKICAgICAqIFBhc3MgYW4gYXJyYXkgb2YgNCB2YWx1ZXMgdG8gYWRqdXN0IGVhY2ggc2lkZSBkaWZmZXJlbnRseTogYFt0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRdYAogICAgICogRGVmYXVsdCBpcyAxNgogICAgICovCiAgYnVmZmVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZF0pLAoKICAvKioKICAgICAqIEVsZW1lbnQgdG8gcGFzcyBhcyB0aGUgY2hpbGQgZWxlbWVudCBvZiB0aGUgYXJyb3c7CiAgICAgKiBVc2UgY2FzZSBpcyB0eXBpY2FsbHkgbGltaXRlZCB0byBhbiBhY2NvbXBhbnlpbmcgYEV1aUJlYWNvbmAKICAgICAqLwogIGFycm93Q2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLAoKICAvKioKICAgICAqIEFsdGVybmF0aXZlIG9wdGlvbiB0byBgYXJpYS1sYWJlbGAgdGhhdCB0YWtlcyBhbiBgaWRgLgogICAgICogVXN1YWxseSB0YWtlcyB0aGUgYGlkYCBvZiB0aGUgcG9wb3ZlciB0aXRsZQogICAgICovCiAgImFyaWEtbGFiZWxsZWRieSI6IFByb3BUeXBlcy5zdHJpbmcKfTsKCnRyeSB7CiAgZ2V0UG9wb3ZlclBvc2l0aW9uRnJvbUFuY2hvclBvc2l0aW9uLl9fZG9jZ2VuSW5mbyA9IHsKICAgIGRlc2NyaXB0aW9uOiAnJywKICAgIGRpc3BsYXlOYW1lOiAnZ2V0UG9wb3ZlclBvc2l0aW9uRnJvbUFuY2hvclBvc2l0aW9uJywKICAgIG1ldGhvZHM6IFtdLAogICAgcHJvcHM6IHt9LAogICAgZXh0ZW5kZWRJbnRlcmZhY2VzOiBbJ1N0cmluZycsICdDb21tb25Qcm9wcycsICdIVE1MQXR0cmlidXRlcycsICdBcmlhQXR0cmlidXRlcycsICdET01BdHRyaWJ1dGVzJywgJ0V1aVBvcG92ZXJQcm9wcyddCiAgfTsKfSBjYXRjaCAoZSkge30KCnRyeSB7CiAgZ2V0UG9wb3ZlckFsaWduRnJvbUFuY2hvclBvc2l0aW9uLl9fZG9jZ2VuSW5mbyA9IHsKICAgIGRlc2NyaXB0aW9uOiAnJywKICAgIGRpc3BsYXlOYW1lOiAnZ2V0UG9wb3ZlckFsaWduRnJvbUFuY2hvclBvc2l0aW9uJywKICAgIG1ldGhvZHM6IFtdLAogICAgcHJvcHM6IHt9LAogICAgZXh0ZW5kZWRJbnRlcmZhY2VzOiBbJ1N0cmluZycsICdDb21tb25Qcm9wcycsICdIVE1MQXR0cmlidXRlcycsICdBcmlhQXR0cmlidXRlcycsICdET01BdHRyaWJ1dGVzJywgJ0V1aVBvcG92ZXJQcm9wcyddCiAgfTsKfSBjYXRjaCAoZSkge30KCnRyeSB7CiAgRXVpUG9wb3Zlci5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ0V1aVBvcG92ZXInLAogICAgbWV0aG9kczogW10sCiAgICBwcm9wczogewogICAgICBjbGFzc05hbWU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdjbGFzc05hbWUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29tbW9uLnRzJywKICAgICAgICAgIG5hbWU6ICdDb21tb25Qcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2FyaWEtbGFiZWwnOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnRGVmaW5lcyBhIHN0cmluZyB2YWx1ZSB0aGF0IGxhYmVscyB0aGUgY3VycmVudCBlbGVtZW50LlxuJyArICdQcm92aWRlIGEgbmFtZSB0byB0aGUgcG9wb3ZlciBwYW5lbFxuJyArICdAc2VlIGFyaWEtbGFiZWxsZWRieS4nLAogICAgICAgIG5hbWU6ICdhcmlhLWxhYmVsJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbW1vbi50cycsCiAgICAgICAgICBuYW1lOiAnQ29tbW9uUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgICdkYXRhLXRlc3Qtc3Viaic6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdkYXRhLXRlc3Qtc3ViaicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb21tb24udHMnLAogICAgICAgICAgbmFtZTogJ0NvbW1vblByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdzdHJpbmcnCiAgICAgICAgfQogICAgICB9LAogICAgICBhbmNob3JDbGFzc05hbWU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdDbGFzcyBuYW1lIHBhc3NlZCB0byB0aGUgZGlyZWN0IHBhcmVudCBvZiB0aGUgYnV0dG9uJywKICAgICAgICBuYW1lOiAnYW5jaG9yQ2xhc3NOYW1lJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgYW5jaG9yUG9zaXRpb246IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnZG93bkNlbnRlcicKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnQWxpZ25tZW50IG9mIHRoZSBwb3BvdmVyIGFuZCBhcnJvdyByZWxhdGl2ZSB0byB0aGUgYnV0dG9uJywKICAgICAgICBuYW1lOiAnYW5jaG9yUG9zaXRpb24nLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdlbnVtJywKICAgICAgICAgIHJhdzogJ1BvcG92ZXJBbmNob3JQb3NpdGlvbicsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICcidXBDZW50ZXIiJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJ1cExlZnQiJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJ1cFJpZ2h0IicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICciZG93bkNlbnRlciInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnImRvd25MZWZ0IicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICciZG93blJpZ2h0IicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICcibGVmdENlbnRlciInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnImxlZnRVcCInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnImxlZnREb3duIicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICcicmlnaHRDZW50ZXIiJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJyaWdodFVwIicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICcicmlnaHREb3duIicKICAgICAgICAgIH1dCiAgICAgICAgfQogICAgICB9LAogICAgICBhdHRhY2hUb0FuY2hvcjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ1N0eWxlIGFuZCBwb3NpdGlvbiBhbHRlcmF0aW9uIGZvciBhcnJvdy1sZXNzLCBsZWZ0LWFsaWduZWRcbicgKyAnYXR0YWNobWVudC4gSW50ZW5kZWQgZm9yIHVzZSB3aXRoIGlucHV0cyBhcyBhbmNob3JzLCBlLmcuXG4nICsgJ0V1aUlucHV0UG9wb3ZlcicsCiAgICAgICAgbmFtZTogJ2F0dGFjaFRvQW5jaG9yJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJ1dHRvbjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ1RyaWdnZXJpbmcgZWxlbWVudCBmb3Igd2hpY2ggdG8gYWxpZ24gdGhlIHBvcG92ZXIgdG8nLAogICAgICAgIG5hbWU6ICdidXR0b24nLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ1JlYWN0Tm9kZScKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGJ1dHRvblJlZjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2J1dHRvblJlZicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9wb3BvdmVyL3BvcG92ZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlQb3BvdmVyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJyhpbnN0YW5jZTogSFRNTERpdkVsZW1lbnQpID0+IHZvaWQnCiAgICAgICAgfQogICAgICB9LAogICAgICBjbG9zZVBvcG92ZXI6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdDYWxsYmFjayB0byBoYW5kbGUgaGlkaW5nIG9mIHRoZSBwb3BvdmVyJywKICAgICAgICBuYW1lOiAnY2xvc2VQb3BvdmVyJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdOb0FyZ0NhbGxiYWNrPHZvaWQ+JwogICAgICAgIH0KICAgICAgfSwKICAgICAgY29udGFpbmVyOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAiUmVzdHJpY3QgdGhlIHBvcG92ZXIncyBwb3NpdGlvbiB3aXRoaW4gdGhpcyBlbGVtZW50IiwKICAgICAgICBuYW1lOiAnY29udGFpbmVyJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnSFRNTEVsZW1lbnQnCiAgICAgICAgfQogICAgICB9LAogICAgICBkaXNwbGF5OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2lubGluZUJsb2NrJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICdDU1MgZGlzcGxheSB0eXBlIGZvciBib3RoIHRoZSBwb3BvdmVyIGFuZCBhbmNob3InLAogICAgICAgIG5hbWU6ICdkaXNwbGF5JywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnZW51bScsCiAgICAgICAgICByYXc6ICciaW5saW5lQmxvY2siIHwgImJsb2NrIicsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICciaW5saW5lQmxvY2siJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJibG9jayInCiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfSwKICAgICAgZm9jdXNUcmFwUHJvcHM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdPYmplY3Qgb2YgcHJvcHMgcGFzc2VkIHRvIEV1aUZvY3VzVHJhcCcsCiAgICAgICAgbmFtZTogJ2ZvY3VzVHJhcFByb3BzJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUGljazxFdWlGb2N1c1RyYXBQcm9wcywgImNsaWNrT3V0c2lkZURpc2FibGVzIiB8ICJub0lzb2xhdGlvbiIgfCAic2Nyb2xsTG9jayI+JwogICAgICAgIH0KICAgICAgfSwKICAgICAgaGFzQXJyb3c6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAndHJ1ZScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnU2hvdyBhcnJvdyBpbmRpY2F0aW5nIHRvIG9yaWdpbmF0aW5nIGJ1dHRvbicsCiAgICAgICAgbmFtZTogJ2hhc0Fycm93JywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGluaXRpYWxGb2N1czogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ1NwZWNpZmllcyB3aGF0IGVsZW1lbnQgc2hvdWxkIGluaXRpYWxseSBoYXZlIGZvY3VzOyBDYW4gYmUgYSBET01cbicgKyAnbm9kZSwgb3IgYSBzZWxlY3RvciBzdHJpbmcgKHdoaWNoIHdpbGwgYmUgcGFzc2VkIHRvXG4nICsgJ2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoKSB0byBmaW5kIHRoZSBET00gbm9kZSksIG9yIGEgZnVuY3Rpb24gdGhhdFxuJyArICdyZXR1cm5zIGEgRE9NIG5vZGVcbicgKyAnU2V0IHRvIGBmYWxzZWAgdG8gcHJldmVudCBpbml0aWFsIGF1dG8tZm9jdXMuIFVzZSBvbmx5XG4nICsgJ3doZW4geW91ciBhcHAgaGFuZGxlcyBzZXR0aW5nIGluaXRpYWwgZm9jdXMgc3RhdGUuJywKICAgICAgICBuYW1lOiAnaW5pdGlhbEZvY3VzJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nIHwgZmFsc2UgfCBIVE1MRWxlbWVudCB8ICgoKSA9PiBIVE1MRWxlbWVudCknCiAgICAgICAgfQogICAgICB9LAogICAgICBpbnNlcnQ6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdQYXNzZWQgZGlyZWN0bHkgdG8gRXVpUG9ydGFsIGZvciBET00gcG9zaXRpb25pbmcuIEJvdGggcHJvcGVydGllcyBhcmVcbicgKyAncmVxdWlyZWQgaWYgcHJvcCBpcyBzcGVjaWZpZWQnLAogICAgICAgIG5hbWU6ICdpbnNlcnQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICd7IHNpYmxpbmc6IEhUTUxFbGVtZW50OyBwb3NpdGlvbjogImJlZm9yZSIgfCAiYWZ0ZXIiOyB9JwogICAgICAgIH0KICAgICAgfSwKICAgICAgaXNPcGVuOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2ZhbHNlJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICdWaXNpYmlsaXR5IHN0YXRlIG9mIHRoZSBwb3BvdmVyJywKICAgICAgICBuYW1lOiAnaXNPcGVuJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG93bkZvY3VzOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ3RydWUnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ1RyYXBzIHRhYiBmb2N1cyB3aXRoaW4gdGhlIHBvcG92ZXIgY29udGVudHMnLAogICAgICAgIG5hbWU6ICdvd25Gb2N1cycsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9wb3BvdmVyL3BvcG92ZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlQb3BvdmVyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBwYW5lbENsYXNzTmFtZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0N1c3RvbSBjbGFzcyBhZGRlZCB0byB0aGUgRXVpUGFuZWwgY29udGFpbmluZyB0aGUgcG9wb3ZlciBjb250ZW50cycsCiAgICAgICAgbmFtZTogJ3BhbmVsQ2xhc3NOYW1lJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFuZWxQYWRkaW5nU2l6ZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdtJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICdFdWlQYW5lbCBwYWRkaW5nIG9uIGFsbCBzaWRlcycsCiAgICAgICAgbmFtZTogJ3BhbmVsUGFkZGluZ1NpemUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdlbnVtJywKICAgICAgICAgIHJhdzogJyJzIiB8ICJtIiB8ICJsIiB8ICJub25lIicsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICcicyInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnIm0iJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJsIicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICcibm9uZSInCiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFuZWxTdHlsZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ1N0YW5kYXJkIERPTSBgc3R5bGVgIGF0dHJpYnV0ZS4gUGFzc2VkIHRvIHRoZSBFdWlQYW5lbCcsCiAgICAgICAgbmFtZTogJ3BhbmVsU3R5bGUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdDU1NQcm9wZXJ0aWVzJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcGFuZWxQcm9wczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ09iamVjdCBvZiBwcm9wcyBwYXNzZWQgdG8gRXVpUGFuZWwnLAogICAgICAgIG5hbWU6ICdwYW5lbFByb3BzJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUGljazwoRGlzYW1iaWd1YXRlU2V0PF9FdWlQYW5lbEJ1dHRvbmxpa2UsIF9FdWlQYW5lbERpdmxpa2U+ICYgX0V1aVBhbmVsRGl2bGlrZSkgfCAoRGlzYW1iaWd1YXRlU2V0PF9FdWlQYW5lbERpdmxpa2UsIF9FdWlQYW5lbEJ1dHRvbmxpa2U+ICYgX0V1aVBhbmVsQnV0dG9ubGlrZSksICJ2YWx1ZSIgfCAuLi4gMjcwIG1vcmUgLi4uIHwgImVsZW1lbnQiPicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBhbmVsUmVmOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAncGFuZWxSZWYnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICcoaW5zdGFuY2U6IEhUTUxFbGVtZW50KSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcG9wb3ZlclJlZjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3BvcG92ZXJSZWYnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdSZWY8SFRNTERpdkVsZW1lbnQ+JwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVwb3NpdGlvbk9uU2Nyb2xsOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAiV2hlbiBgdHJ1ZWAsIHRoZSBwb3BvdmVyJ3MgcG9zaXRpb24gaXMgcmUtY2FsY3VsYXRlZCB3aGVuIHRoZSB1c2VyXG4iICsgJ3Njcm9sbHMsIHRoaXMgc3VwcG9ydHMgaGF2aW5nIGZpeGVkLXBvc2l0aW9uIHBvcG92ZXIgYW5jaG9ycycsCiAgICAgICAgbmFtZTogJ3JlcG9zaXRpb25PblNjcm9sbCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9wb3BvdmVyL3BvcG92ZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlQb3BvdmVyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICB6SW5kZXg6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdCeSBkZWZhdWx0LCBwb3BvdmVyIGNvbnRlbnQgaW5oZXJpdHMgdGhlIHotaW5kZXggb2YgdGhlIGFuY2hvclxuJyArICdjb21wb25lbnQ7IHBhc3MgYHpJbmRleGAgdG8gb3ZlcnJpZGUnLAogICAgICAgIG5hbWU6ICd6SW5kZXgnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdudW1iZXInCiAgICAgICAgfQogICAgICB9LAogICAgICBvblRyYXBEZWFjdGl2YXRpb246IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdGdW5jdGlvbiBjYWxsYmFjayBmb3Igd2hlbiB0aGUgZm9jdXMgdHJhcCBpcyBkZWFjdGl2YXRlZCcsCiAgICAgICAgbmFtZTogJ29uVHJhcERlYWN0aXZhdGlvbicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9wb3BvdmVyL3BvcG92ZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlQb3BvdmVyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJygpID0+IHZvaWQnCiAgICAgICAgfQogICAgICB9LAogICAgICBvZmZzZXQ6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdEaXN0YW5jZSBhd2F5IGZyb20gdGhlIGFuY2hvciB0aGF0IHRoZSBwb3BvdmVyIHdpbGwgcmVuZGVyJywKICAgICAgICBuYW1lOiAnb2Zmc2V0JywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL3BvcG92ZXIvcG9wb3Zlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aVBvcG92ZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnbnVtYmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgYnVmZmVyOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnTWluaW11bSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwb3BvdmVyIGFuZCB0aGUgYm91bmRpbmcgY29udGFpbmVyO1xuJyArICdQYXNzIGFuIGFycmF5IG9mIDQgdmFsdWVzIHRvIGFkanVzdCBlYWNoIHNpZGUgZGlmZmVyZW50bHk6IGBbdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XWBcbicgKyAnRGVmYXVsdCBpcyAxNicsCiAgICAgICAgbmFtZTogJ2J1ZmZlcicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9wb3BvdmVyL3BvcG92ZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlQb3BvdmVyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ251bWJlciB8IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdJwogICAgICAgIH0KICAgICAgfSwKICAgICAgYXJyb3dDaGlsZHJlbjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0VsZW1lbnQgdG8gcGFzcyBhcyB0aGUgY2hpbGQgZWxlbWVudCBvZiB0aGUgYXJyb3c7XG4nICsgJ1VzZSBjYXNlIGlzIHR5cGljYWxseSBsaW1pdGVkIHRvIGFuIGFjY29tcGFueWluZyBgRXVpQmVhY29uYCcsCiAgICAgICAgbmFtZTogJ2Fycm93Q2hpbGRyZW4nLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvcG9wb3Zlci9wb3BvdmVyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpUG9wb3ZlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdSZWFjdE5vZGUnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZXh0ZW5kZWRJbnRlcmZhY2VzOiBbJ1N0cmluZycsICdDb21tb25Qcm9wcycsICdIVE1MQXR0cmlidXRlcycsICdBcmlhQXR0cmlidXRlcycsICdET01BdHRyaWJ1dGVzJywgJ0V1aVBvcG92ZXJQcm9wcyddCiAgfTsKfSBjYXRjaCAoZSkge30="},{"version":3,"sources":["D:/work/eui/src/components/popover/popover.tsx"],"names":["React","Component","classNames","tabbable","EuiFocusTrap","cascadingMenuKeys","getTransitionTimings","getWaitDuration","performOnFrame","htmlIdGenerator","EuiScreenReaderOnly","EuiPanel","EuiPortal","EuiMutationObserver","findPopoverPosition","getElementZIndex","EuiI18n","EuiOutsideClickDetector","generateId","anchorPositionToPopoverPositionMap","up","right","down","left","getPopoverPositionFromAnchorPosition","anchorPosition","match","primaryPosition","getPopoverAlignFromAnchorPosition","align","toLowerCase","anchorPositionToClassNameMap","upCenter","upLeft","upRight","downCenter","downLeft","downRight","leftCenter","leftUp","leftDown","rightCenter","rightUp","rightDown","ANCHOR_POSITIONS","Object","keys","displayToClassNameMap","inlineBlock","undefined","block","DISPLAY","DEFAULT_POPOVER_STYLES","top","getElementFromInitialFocus","initialFocus","initialFocusType","document","querySelector","returnFocusConfig","preventScroll","EuiPopover","nextProps","prevState","prevProps","isOpen","isClosing","isOpening","props","closePopover","event","preventDefault","stopPropagation","key","ESCAPE","onEscapeKey","button","contains","target","clearTimeout","closingTransitionTimeout","closingTransitionAnimationFrame","cancelAnimationFrame","window","requestAnimationFrame","setState","Array","prototype","slice","call","panel","from","children","reduce","element","durationMatch","delayMatch","transitionTimings","Math","max","respositionTimeout","setTimeout","isOpenStable","positionPopoverFixed","updateFocus","records","waitDuration","allowEnforcePosition","position","forcePosition","state","openPosition","container","anchor","popover","offset","attachToAnchor","hasArrow","arrowConfig","arrowWidth","arrowBuffer","returnBoundingBox","buffer","foundPosition","arrow","anchorBoundingBox","zIndexProp","zIndex","popoverStyles","panelStyle","willRenderArrow","arrowStyles","arrowPosition","positionPopover","node","panelRef","removeEventListener","positionPopoverFluid","addEventListener","buttonRef","suppressingPopover","updateFocusAnimationFrame","ownFocus","hasSetInitialFocus","activeElement","focusTarget","tabbableItems","length","panelVisibility","getComputedStyle","visibility","focus","onOpenPopover","repositionOnScroll","anchorClassName","insert","className","panelClassName","panelPaddingSize","panelProps","popoverRef","arrowChildren","display","onTrapDeactivation","ariaLabel","ariaLabelledBy","focusTrapProps","rest","descriptionId","classes","anchorClasses","panelClasses","tabIndex","ariaDescribedby","ariaLive","focusTrapScreenReaderText","arrowClassNames","returnFocus","onClickOutside","willChange","attributes","childList","characterData","subtree","onMutation","mutationRef","HTMLElement","onKeyDown"],"mappings":"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AAAA;AAAA,EAAgCzF,SAAhC;;gBAAa4D,U,kBACuC;AAChDI,EAAAA,MAAM,EAAE,KADwC;AAEhD6E,EAAAA,QAAQ,EAAE,IAFsC;AAGhDrH,EAAAA,cAAc,EAAE,YAHgC;AAIhDqI,EAAAA,gBAAgB,EAAE,GAJ8B;AAKhDzC,EAAAA,QAAQ,EAAE,IALsC;AAMhD6C,EAAAA,OAAO,EAAE;AANuC,C;;;;;;AAlUpD;AACA;;;;;AADA;AACA;;;;AADA;AACA;;;;AADA;AACA;AACA;AACA;;;;AAHA;AACA;;;;;AADA;AACA;;;;AADA;AACA;;;;AADA;AACA;;;;AADA;AACA;;;;AADA;AACA;;;;AADA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AANA;AACA;AACA;;;;;;;AAFA;AACA;;;;AADA;AACA;;;;AADA;AACA;;;;AADA;AACA;;;;AADA;AACA;;;;AADA;AACA;;;;;;AADA;AACA;AACA;;;;AAFA;AACA;AACA;;;;AAFA;AACA;;;;AADA;AACA;;;;AADA;AACA;AACA;AACA;;;;AAHA;AACA;AACA;;;;AAFA;AACA;AACA","sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport PropTypes from \"prop-types\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport tabbable from 'tabbable';\nimport { EuiFocusTrap } from '../focus_trap';\nimport { cascadingMenuKeys, getTransitionTimings, getWaitDuration, performOnFrame, htmlIdGenerator } from '../../services';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiPanel } from '../panel';\nimport { EuiPortal } from '../portal';\nimport { EuiMutationObserver } from '../observer/mutation_observer';\nimport { findPopoverPosition, getElementZIndex } from '../../services/popover';\nimport { EuiI18n } from '../i18n';\nimport { EuiOutsideClickDetector } from '../outside_click_detector';\nvar generateId = htmlIdGenerator();\nvar anchorPositionToPopoverPositionMap = {\n  up: 'top',\n  right: 'right',\n  down: 'bottom',\n  left: 'left'\n};\nexport function getPopoverPositionFromAnchorPosition(anchorPosition) {\n  // maps the anchor position to the matching popover position\n  // e.g. \"upLeft\" -> \"top\", \"downRight\" -> \"bottom\"\n  // extract the first positional word from anchorPosition:\n  // starts at the beginning (\" ^ \") of anchorPosition and\n  // captures all of the characters (\" (.*?) \") until the\n  // first capital letter (\" [A-Z] \") is encountered\n  var _ref = anchorPosition.match(/^(.*?)[A-Z]/),\n      _ref2 = _slicedToArray(_ref, 2),\n      primaryPosition = _ref2[1];\n\n  return anchorPositionToPopoverPositionMap[primaryPosition];\n}\nexport function getPopoverAlignFromAnchorPosition(anchorPosition) {\n  // maps the gravity to the matching popover position\n  // e.g. \"upLeft\" -> \"left\", \"rightDown\" -> \"bottom\"\n  // extract the second positional word from anchorPosition:\n  // starts a capture group at the first capital letter\n  // and includes everything after it\n  var _ref3 = anchorPosition.match(/([A-Z].*)/),\n      _ref4 = _slicedToArray(_ref3, 2),\n      align = _ref4[1]; // this performs two tasks:\n  // 1. normalizes the align position by lowercasing it\n  // 2. `center` doesn't exist in the lookup map which converts it to `undefined` meaning no align\n\n\n  return anchorPositionToPopoverPositionMap[align.toLowerCase()];\n}\nvar anchorPositionToClassNameMap = {\n  upCenter: 'euiPopover--anchorUpCenter',\n  upLeft: 'euiPopover--anchorUpLeft',\n  upRight: 'euiPopover--anchorUpRight',\n  downCenter: 'euiPopover--anchorDownCenter',\n  downLeft: 'euiPopover--anchorDownLeft',\n  downRight: 'euiPopover--anchorDownRight',\n  leftCenter: 'euiPopover--anchorLeftCenter',\n  leftUp: 'euiPopover--anchorLeftUp',\n  leftDown: 'euiPopover--anchorLeftDown',\n  rightCenter: 'euiPopover--anchorRightCenter',\n  rightUp: 'euiPopover--anchorRightUp',\n  rightDown: 'euiPopover--anchorRightDown'\n};\nexport var ANCHOR_POSITIONS = Object.keys(anchorPositionToClassNameMap);\nvar displayToClassNameMap = {\n  inlineBlock: undefined,\n  block: 'euiPopover--displayBlock'\n};\nexport var DISPLAY = Object.keys(displayToClassNameMap);\nvar DEFAULT_POPOVER_STYLES = {\n  top: 50,\n  left: 50\n};\n\nfunction getElementFromInitialFocus(initialFocus) {\n  var initialFocusType = _typeof(initialFocus);\n\n  if (initialFocusType === 'string') {\n    return document.querySelector(initialFocus);\n  }\n\n  if (initialFocusType === 'function') {\n    return initialFocus();\n  }\n\n  return initialFocus;\n}\n\nvar returnFocusConfig = {\n  preventScroll: true\n};\nexport class EuiPopover extends Component {\n  static defaultProps = {\n    isOpen: false,\n    ownFocus: true,\n    anchorPosition: 'downCenter',\n    panelPaddingSize: 'm',\n    hasArrow: true,\n    display: 'inlineBlock'\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (prevState.prevProps.isOpen && !nextProps.isOpen) {\n      return {\n        prevProps: {\n          isOpen: nextProps.isOpen\n        },\n        isClosing: true,\n        isOpening: false\n      };\n    }\n\n    if (prevState.prevProps.isOpen !== nextProps.isOpen) {\n      return {\n        prevProps: {\n          isOpen: nextProps.isOpen\n        }\n      };\n    }\n\n    return null;\n  }\n\n  button = null;\n  panel = null;\n  hasSetInitialFocus = false;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      prevProps: {\n        isOpen: props.isOpen\n      },\n      suppressingPopover: props.isOpen,\n      // only suppress if created with isOpen=true\n      isClosing: false,\n      isOpening: false,\n      popoverStyles: DEFAULT_POPOVER_STYLES,\n      arrowStyles: {},\n      arrowPosition: null,\n      openPosition: null,\n      // once a stable position has been found, keep the contents on that side\n      isOpenStable: false // wait for any initial opening transitions to finish before marking as stable\n\n    };\n  }\n\n  closePopover = () => {\n    if (this.props.isOpen) {\n      this.props.closePopover();\n    }\n  };\n  onEscapeKey = event => {\n    if (this.props.isOpen) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.closePopover();\n    }\n  };\n  onKeyDown = event => {\n    if (event.key === cascadingMenuKeys.ESCAPE) {\n      this.onEscapeKey(event);\n    }\n  };\n  onClickOutside = event => {\n    // only close the popover if the event source isn't the anchor button\n    // otherwise, it is up to the anchor to toggle the popover's open status\n    if (this.button && this.button.contains(event.target) === false) {\n      this.closePopover();\n    }\n  };\n\n  updateFocus() {\n    // Wait for the DOM to update.\n    this.updateFocusAnimationFrame = window.requestAnimationFrame(() => {\n      if (!this.props.ownFocus || !this.panel || this.props.initialFocus === false) {\n        return;\n      } // If we've already focused on something inside the panel, everything's fine.\n\n\n      if (this.hasSetInitialFocus && this.panel.contains(document.activeElement)) {\n        return;\n      } // Otherwise let's focus the first tabbable item and expedite input from the user.\n\n\n      let focusTarget;\n\n      if (this.props.initialFocus != null) {\n        focusTarget = getElementFromInitialFocus(this.props.initialFocus);\n      } else {\n        const tabbableItems = tabbable(this.panel);\n\n        if (tabbableItems.length) {\n          focusTarget = tabbableItems[0];\n        }\n      } // there's a race condition between the popover content becoming visible and this function call\n      // if the element isn't visible yet (due to css styling) then it can't accept focus\n      // so wait for another render and try again\n\n\n      if (focusTarget == null) {\n        // there isn't a focus target, one of two reasons:\n        // #1 is the whole panel hidden? If so, schedule another check\n        // #2 panel is visible but no tabbables exist, move focus to the panel\n        const panelVisibility = window.getComputedStyle(this.panel).visibility;\n\n        if (panelVisibility === 'hidden') {\n          // #1\n          this.updateFocus();\n        } else {\n          // #2\n          focusTarget = this.panel;\n        }\n      } else {\n        // found an element to focus, but is it visible?\n        const visibility = window.getComputedStyle(focusTarget).visibility;\n\n        if (visibility === 'hidden') {\n          // not visible, check again next render frame\n          this.updateFocus();\n        }\n      }\n\n      if (focusTarget != null) {\n        this.hasSetInitialFocus = true;\n        focusTarget.focus();\n      }\n    });\n  }\n\n  onOpenPopover = () => {\n    clearTimeout(this.closingTransitionTimeout);\n\n    if (this.closingTransitionAnimationFrame) {\n      cancelAnimationFrame(this.closingTransitionAnimationFrame);\n    } // We need to set this state a beat after the render takes place, so that the CSS\n    // transition can take effect.\n\n\n    this.closingTransitionAnimationFrame = window.requestAnimationFrame(() => {\n      this.setState({\n        isOpening: true\n      });\n    }); // for each child element of `this.panel`, find any transition duration we should wait for before stabilizing\n\n    const {\n      durationMatch,\n      delayMatch\n    } = Array.prototype.slice.call(this.panel ? [this.panel, ...Array.from(this.panel.children)] : []).reduce(({\n      durationMatch,\n      delayMatch\n    }, element) => {\n      const transitionTimings = getTransitionTimings(element);\n      return {\n        durationMatch: Math.max(durationMatch, transitionTimings.durationMatch),\n        delayMatch: Math.max(delayMatch, transitionTimings.delayMatch)\n      };\n    }, {\n      durationMatch: 0,\n      delayMatch: 0\n    });\n    clearTimeout(this.respositionTimeout);\n    this.respositionTimeout = window.setTimeout(() => {\n      this.setState({\n        isOpenStable: true\n      }, () => {\n        this.positionPopoverFixed();\n        this.updateFocus();\n      });\n    }, durationMatch + delayMatch);\n  };\n\n  componentDidMount() {\n    if (this.state.suppressingPopover) {\n      // component was created with isOpen=true; now that it's mounted\n      // stop suppressing and start opening\n      // eslint-disable-next-line react/no-did-mount-set-state\n      this.setState({\n        suppressingPopover: false,\n        isOpening: true\n      }, () => {\n        this.onOpenPopover();\n      });\n    }\n\n    if (this.props.repositionOnScroll) {\n      window.addEventListener('scroll', this.positionPopoverFixed);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    // The popover is being opened.\n    if (!prevProps.isOpen && this.props.isOpen) {\n      this.onOpenPopover();\n    } // update scroll listener\n\n\n    if (prevProps.repositionOnScroll !== this.props.repositionOnScroll) {\n      if (this.props.repositionOnScroll) {\n        window.addEventListener('scroll', this.positionPopoverFixed);\n      } else {\n        window.removeEventListener('scroll', this.positionPopoverFixed);\n      }\n    } // The popover is being closed.\n\n\n    if (prevProps.isOpen && !this.props.isOpen) {\n      // If the user has just closed the popover, queue up the removal of the content after the\n      // transition is complete.\n      this.closingTransitionTimeout = window.setTimeout(() => {\n        this.hasSetInitialFocus = false;\n        this.setState({\n          isClosing: false\n        });\n      }, 250);\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.positionPopoverFixed);\n    clearTimeout(this.respositionTimeout);\n    clearTimeout(this.closingTransitionTimeout);\n    cancelAnimationFrame(this.closingTransitionAnimationFrame);\n    cancelAnimationFrame(this.updateFocusAnimationFrame);\n  }\n\n  onMutation = records => {\n    const waitDuration = getWaitDuration(records);\n    this.positionPopoverFixed();\n    performOnFrame(waitDuration, this.positionPopoverFixed);\n  };\n  positionPopover = allowEnforcePosition => {\n    if (this.button == null || this.panel == null) return;\n    const {\n      anchorPosition\n    } = this.props;\n    let position = getPopoverPositionFromAnchorPosition(anchorPosition);\n    let forcePosition = undefined;\n\n    if (allowEnforcePosition && this.state.isOpenStable && this.state.openPosition != null) {\n      position = this.state.openPosition;\n      forcePosition = true;\n    }\n\n    const {\n      top,\n      left,\n      position: foundPosition,\n      arrow,\n      anchorBoundingBox\n    } = findPopoverPosition({\n      container: this.props.container,\n      position,\n      forcePosition,\n      align: getPopoverAlignFromAnchorPosition(anchorPosition),\n      anchor: this.button,\n      popover: this.panel,\n      offset: !this.props.attachToAnchor && this.props.hasArrow ? 16 + (this.props.offset || 0) : 8 + (this.props.offset || 0),\n      arrowConfig: {\n        arrowWidth: 24,\n        arrowBuffer: 10\n      },\n      returnBoundingBox: this.props.attachToAnchor,\n      buffer: this.props.buffer\n    }); // the popover's z-index must inherit from the button\n    // this keeps a button's popover under a flyout that would cover the button\n    // but a popover triggered inside a flyout will appear over that flyout\n\n    const {\n      zIndex: zIndexProp\n    } = this.props;\n    const zIndex = zIndexProp == null ? getElementZIndex(this.button, this.panel) + 2000 : zIndexProp;\n    const popoverStyles = { ...this.props.panelStyle,\n      top,\n      left: this.props.attachToAnchor && anchorBoundingBox ? anchorBoundingBox.left : left,\n      zIndex\n    };\n    const willRenderArrow = !this.props.attachToAnchor && this.props.hasArrow;\n    const arrowStyles = willRenderArrow ? arrow : undefined;\n    const arrowPosition = foundPosition;\n    this.setState({\n      popoverStyles,\n      arrowStyles,\n      arrowPosition,\n      openPosition: foundPosition\n    });\n  };\n  positionPopoverFixed = () => {\n    this.positionPopover(true);\n  };\n  positionPopoverFluid = () => {\n    this.positionPopover(false);\n  };\n  panelRef = node => {\n    this.panel = node;\n    this.props.panelRef && this.props.panelRef(node);\n\n    if (node == null) {\n      // panel has unmounted, restore the state defaults\n      this.setState({\n        popoverStyles: DEFAULT_POPOVER_STYLES,\n        arrowStyles: {},\n        arrowPosition: null,\n        openPosition: null,\n        isOpenStable: false\n      });\n      window.removeEventListener('resize', this.positionPopoverFluid);\n    } else {\n      // panel is coming into existence\n      this.positionPopoverFluid();\n      window.addEventListener('resize', this.positionPopoverFluid);\n    }\n  };\n  buttonRef = node => {\n    this.button = node;\n    this.props.buttonRef && this.props.buttonRef(node);\n  };\n\n  render() {\n    const {\n      anchorClassName,\n      anchorPosition,\n      button,\n      buttonRef,\n      insert,\n      isOpen,\n      ownFocus,\n      children,\n      className,\n      closePopover,\n      panelClassName,\n      panelPaddingSize,\n      panelProps,\n      panelRef,\n      panelStyle,\n      popoverRef,\n      hasArrow,\n      arrowChildren,\n      repositionOnScroll,\n      zIndex,\n      initialFocus,\n      attachToAnchor,\n      display,\n      onTrapDeactivation,\n      buffer,\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      container,\n      focusTrapProps,\n      ...rest\n    } = this.props;\n    const descriptionId = generateId();\n    const classes = classNames('euiPopover', anchorPosition ? anchorPositionToClassNameMap[anchorPosition] : null, display ? displayToClassNameMap[display] : null, {\n      'euiPopover-isOpen': this.state.isOpening\n    }, className);\n    const anchorClasses = classNames('euiPopover__anchor', anchorClassName);\n    const panelClasses = classNames('euiPopover__panel', `euiPopover__panel--${this.state.arrowPosition}`, {\n      'euiPopover__panel-isOpen': this.state.isOpening\n    }, {\n      'euiPopover__panel-noArrow': !hasArrow || attachToAnchor\n    }, {\n      'euiPopover__panel-isAttached': attachToAnchor\n    }, panelClassName, panelProps?.className);\n    let panel;\n\n    if (!this.state.suppressingPopover && (isOpen || this.state.isClosing)) {\n      let tabIndex;\n      let initialFocus;\n      let ariaDescribedby;\n      let ariaLive;\n\n      if (ownFocus) {\n        tabIndex = 0;\n        ariaLive = 'off';\n\n        initialFocus = () => this.panel;\n      } else {\n        ariaLive = 'assertive';\n      }\n\n      let focusTrapScreenReaderText;\n\n      if (ownFocus) {\n        ariaDescribedby = descriptionId;\n        focusTrapScreenReaderText = <EuiScreenReaderOnly>\n            <p id={descriptionId}>\n              <EuiI18n token=\"euiPopover.screenReaderAnnouncement\" default=\"You are in a dialog. To close this dialog, hit escape.\" />\n            </p>\n          </EuiScreenReaderOnly>;\n      }\n\n      const arrowClassNames = classNames('euiPopover__panelArrow', `euiPopover__panelArrow--${this.state.arrowPosition}`);\n      const returnFocus = this.state.isOpenStable ? returnFocusConfig : false;\n      panel = <EuiPortal insert={insert}>\n          <EuiFocusTrap clickOutsideDisables={true} {...focusTrapProps} returnFocus={returnFocus} // Ignore temporary state of indecisive focus\n        initialFocus={initialFocus} onDeactivation={onTrapDeactivation} onClickOutside={this.onClickOutside} onEscapeKey={this.onEscapeKey} disabled={!ownFocus || !this.state.isOpenStable || this.state.isClosing}>\n            <EuiPanel {...panelProps} panelRef={this.panelRef} className={panelClasses} hasShadow={false} paddingSize={panelPaddingSize} tabIndex={tabIndex} aria-live={ariaLive} role=\"dialog\" aria-label={ariaLabel} aria-labelledby={ariaLabelledBy} aria-modal=\"true\" aria-describedby={ariaDescribedby} style={{ ...this.state.popoverStyles,\n            // Adding `will-change` to reduce risk of a blurry animation in Chrome 86+\n            willChange: !this.state.isOpenStable ? 'transform, opacity' : undefined\n          }}>\n              <div className={arrowClassNames} style={this.state.arrowStyles}>\n                {arrowChildren}\n              </div>\n              {focusTrapScreenReaderText}\n              <EuiMutationObserver observerOptions={{\n              attributes: true,\n              // element attribute changes\n              childList: true,\n              // added/removed elements\n              characterData: true,\n              // text changes\n              subtree: true // watch all child elements\n\n            }} onMutation={this.onMutation}>\n                {mutationRef => <div ref={mutationRef}>{children}</div>}\n              </EuiMutationObserver>\n            </EuiPanel>\n          </EuiFocusTrap>\n        </EuiPortal>;\n    } // react-focus-on and relataed do not register outside click detection\n    // when disabled, so we still need to conditionally check for that ourselves\n\n\n    if (ownFocus) {\n      return <div className={classes} ref={popoverRef} {...rest}>\n          <div className={anchorClasses} ref={this.buttonRef}>\n            {button instanceof HTMLElement ? null : button}\n          </div>\n          {panel}\n        </div>;\n    } else {\n      return <EuiOutsideClickDetector onOutsideClick={this.closePopover}>\n          <div className={classes} ref={popoverRef} onKeyDown={this.onKeyDown} {...rest}>\n            <div className={anchorClasses} ref={this.buttonRef}>\n              {button instanceof HTMLElement ? null : button}\n            </div>\n            {panel}\n          </div>\n        </EuiOutsideClickDetector>;\n    }\n  }\n\n}\nEuiPopover.propTypes = {\n  className: PropTypes.string,\n\n  /**\n     * Provide a name to the popover panel\n     */\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n     * Class name passed to the direct parent of the button\n     */\n  anchorClassName: PropTypes.string,\n\n  /**\n     * Alignment of the popover and arrow relative to the button\n     */\n  anchorPosition: PropTypes.oneOf([\"upCenter\", \"upLeft\", \"upRight\", \"downCenter\", \"downLeft\", \"downRight\", \"leftCenter\", \"leftUp\", \"leftDown\", \"rightCenter\", \"rightUp\", \"rightDown\"]),\n\n  /**\n     * Style and position alteration for arrow-less, left-aligned\n     * attachment. Intended for use with inputs as anchors, e.g.\n     * EuiInputPopover\n     */\n  attachToAnchor: PropTypes.bool,\n\n  /**\n     * Triggering element for which to align the popover to\n     */\n  button: PropTypes.any.isRequired,\n  buttonRef: PropTypes.any,\n\n  /**\n     * Callback to handle hiding of the popover\n     */\n  closePopover: PropTypes.func.isRequired,\n\n  /**\n     * Restrict the popover's position within this element\n     */\n  container: PropTypes.any,\n\n  /**\n     * CSS display type for both the popover and anchor\n     */\n  display: PropTypes.oneOf([\"inlineBlock\", \"block\"]),\n\n  /**\n     * Object of props passed to EuiFocusTrap\n     */\n  focusTrapProps: PropTypes.any,\n\n  /**\n     * Show arrow indicating to originating button\n     */\n  hasArrow: PropTypes.bool,\n\n  /**\n     * Specifies what element should initially have focus; Can be a DOM\n     * node, or a selector string (which will be passed to\n     * document.querySelector() to find the DOM node), or a function that\n     * returns a DOM node\n     * Set to `false` to prevent initial auto-focus. Use only\n     * when your app handles setting initial focus state.\n     */\n  initialFocus: PropTypes.oneOfType([PropTypes.oneOfType([PropTypes.any.isRequired, PropTypes.string.isRequired, PropTypes.func.isRequired]).isRequired, PropTypes.oneOf([false])]),\n\n  /**\n     * Passed directly to EuiPortal for DOM positioning. Both properties are\n     * required if prop is specified\n     */\n  insert: PropTypes.shape({\n    sibling: PropTypes.any.isRequired,\n    position: PropTypes.oneOf([\"before\", \"after\"]).isRequired\n  }),\n\n  /**\n     * Visibility state of the popover\n     */\n  isOpen: PropTypes.bool,\n\n  /**\n     * Traps tab focus within the popover contents\n     */\n  ownFocus: PropTypes.bool,\n\n  /**\n     * Custom class added to the EuiPanel containing the popover contents\n     */\n  panelClassName: PropTypes.string,\n\n  /**\n     * EuiPanel padding on all sides\n     */\n  panelPaddingSize: PropTypes.any,\n\n  /**\n     * Standard DOM `style` attribute. Passed to the EuiPanel\n     */\n  panelStyle: PropTypes.any,\n\n  /**\n     * Object of props passed to EuiPanel\n     */\n  panelProps: PropTypes.any,\n  panelRef: PropTypes.any,\n  popoverRef: PropTypes.any,\n\n  /**\n     * When `true`, the popover's position is re-calculated when the user\n     * scrolls, this supports having fixed-position popover anchors\n     */\n  repositionOnScroll: PropTypes.bool,\n\n  /**\n     * By default, popover content inherits the z-index of the anchor\n     * component; pass `zIndex` to override\n     */\n  zIndex: PropTypes.number,\n\n  /**\n     * Function callback for when the focus trap is deactivated\n     */\n  onTrapDeactivation: PropTypes.any,\n\n  /**\n     * Distance away from the anchor that the popover will render\n     */\n  offset: PropTypes.number,\n\n  /**\n     * Minimum distance between the popover and the bounding container;\n     * Pass an array of 4 values to adjust each side differently: `[top, right, bottom, left]`\n     * Default is 16\n     */\n  buffer: PropTypes.oneOfType([PropTypes.number.isRequired, PropTypes.any.isRequired]),\n\n  /**\n     * Element to pass as the child element of the arrow;\n     * Use case is typically limited to an accompanying `EuiBeacon`\n     */\n  arrowChildren: PropTypes.node,\n\n  /**\n     * Alternative option to `aria-label` that takes an `id`.\n     * Usually takes the `id` of the popover title\n     */\n  \"aria-labelledby\": PropTypes.string\n};\n\ntry {\n  getPopoverPositionFromAnchorPosition.__docgenInfo = {\n    description: '',\n    displayName: 'getPopoverPositionFromAnchorPosition',\n    methods: [],\n    props: {},\n    extendedInterfaces: ['String', 'CommonProps', 'HTMLAttributes', 'AriaAttributes', 'DOMAttributes', 'EuiPopoverProps']\n  };\n} catch (e) {}\n\ntry {\n  getPopoverAlignFromAnchorPosition.__docgenInfo = {\n    description: '',\n    displayName: 'getPopoverAlignFromAnchorPosition',\n    methods: [],\n    props: {},\n    extendedInterfaces: ['String', 'CommonProps', 'HTMLAttributes', 'AriaAttributes', 'DOMAttributes', 'EuiPopoverProps']\n  };\n} catch (e) {}\n\ntry {\n  EuiPopover.__docgenInfo = {\n    description: '',\n    displayName: 'EuiPopover',\n    methods: [],\n    props: {\n      className: {\n        defaultValue: null,\n        description: '',\n        name: 'className',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'aria-label': {\n        defaultValue: null,\n        description: 'Defines a string value that labels the current element.\\n' + 'Provide a name to the popover panel\\n' + '@see aria-labelledby.',\n        name: 'aria-label',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'data-test-subj': {\n        defaultValue: null,\n        description: '',\n        name: 'data-test-subj',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      anchorClassName: {\n        defaultValue: null,\n        description: 'Class name passed to the direct parent of the button',\n        name: 'anchorClassName',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      anchorPosition: {\n        defaultValue: {\n          value: 'downCenter'\n        },\n        description: 'Alignment of the popover and arrow relative to the button',\n        name: 'anchorPosition',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: 'PopoverAnchorPosition',\n          value: [{\n            value: '\"upCenter\"'\n          }, {\n            value: '\"upLeft\"'\n          }, {\n            value: '\"upRight\"'\n          }, {\n            value: '\"downCenter\"'\n          }, {\n            value: '\"downLeft\"'\n          }, {\n            value: '\"downRight\"'\n          }, {\n            value: '\"leftCenter\"'\n          }, {\n            value: '\"leftUp\"'\n          }, {\n            value: '\"leftDown\"'\n          }, {\n            value: '\"rightCenter\"'\n          }, {\n            value: '\"rightUp\"'\n          }, {\n            value: '\"rightDown\"'\n          }]\n        }\n      },\n      attachToAnchor: {\n        defaultValue: null,\n        description: 'Style and position alteration for arrow-less, left-aligned\\n' + 'attachment. Intended for use with inputs as anchors, e.g.\\n' + 'EuiInputPopover',\n        name: 'attachToAnchor',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      button: {\n        defaultValue: null,\n        description: 'Triggering element for which to align the popover to',\n        name: 'button',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: true,\n        type: {\n          name: 'ReactNode'\n        }\n      },\n      buttonRef: {\n        defaultValue: null,\n        description: '',\n        name: 'buttonRef',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: '(instance: HTMLDivElement) => void'\n        }\n      },\n      closePopover: {\n        defaultValue: null,\n        description: 'Callback to handle hiding of the popover',\n        name: 'closePopover',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: true,\n        type: {\n          name: 'NoArgCallback<void>'\n        }\n      },\n      container: {\n        defaultValue: null,\n        description: \"Restrict the popover's position within this element\",\n        name: 'container',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'HTMLElement'\n        }\n      },\n      display: {\n        defaultValue: {\n          value: 'inlineBlock'\n        },\n        description: 'CSS display type for both the popover and anchor',\n        name: 'display',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: '\"inlineBlock\" | \"block\"',\n          value: [{\n            value: '\"inlineBlock\"'\n          }, {\n            value: '\"block\"'\n          }]\n        }\n      },\n      focusTrapProps: {\n        defaultValue: null,\n        description: 'Object of props passed to EuiFocusTrap',\n        name: 'focusTrapProps',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'Pick<EuiFocusTrapProps, \"clickOutsideDisables\" | \"noIsolation\" | \"scrollLock\">'\n        }\n      },\n      hasArrow: {\n        defaultValue: {\n          value: 'true'\n        },\n        description: 'Show arrow indicating to originating button',\n        name: 'hasArrow',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      initialFocus: {\n        defaultValue: null,\n        description: 'Specifies what element should initially have focus; Can be a DOM\\n' + 'node, or a selector string (which will be passed to\\n' + 'document.querySelector() to find the DOM node), or a function that\\n' + 'returns a DOM node\\n' + 'Set to `false` to prevent initial auto-focus. Use only\\n' + 'when your app handles setting initial focus state.',\n        name: 'initialFocus',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'string | false | HTMLElement | (() => HTMLElement)'\n        }\n      },\n      insert: {\n        defaultValue: null,\n        description: 'Passed directly to EuiPortal for DOM positioning. Both properties are\\n' + 'required if prop is specified',\n        name: 'insert',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: '{ sibling: HTMLElement; position: \"before\" | \"after\"; }'\n        }\n      },\n      isOpen: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'Visibility state of the popover',\n        name: 'isOpen',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      ownFocus: {\n        defaultValue: {\n          value: 'true'\n        },\n        description: 'Traps tab focus within the popover contents',\n        name: 'ownFocus',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      panelClassName: {\n        defaultValue: null,\n        description: 'Custom class added to the EuiPanel containing the popover contents',\n        name: 'panelClassName',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      panelPaddingSize: {\n        defaultValue: {\n          value: 'm'\n        },\n        description: 'EuiPanel padding on all sides',\n        name: 'panelPaddingSize',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: '\"s\" | \"m\" | \"l\" | \"none\"',\n          value: [{\n            value: '\"s\"'\n          }, {\n            value: '\"m\"'\n          }, {\n            value: '\"l\"'\n          }, {\n            value: '\"none\"'\n          }]\n        }\n      },\n      panelStyle: {\n        defaultValue: null,\n        description: 'Standard DOM `style` attribute. Passed to the EuiPanel',\n        name: 'panelStyle',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'CSSProperties'\n        }\n      },\n      panelProps: {\n        defaultValue: null,\n        description: 'Object of props passed to EuiPanel',\n        name: 'panelProps',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'Pick<(DisambiguateSet<_EuiPanelButtonlike, _EuiPanelDivlike> & _EuiPanelDivlike) | (DisambiguateSet<_EuiPanelDivlike, _EuiPanelButtonlike> & _EuiPanelButtonlike), \"value\" | ... 270 more ... | \"element\">'\n        }\n      },\n      panelRef: {\n        defaultValue: null,\n        description: '',\n        name: 'panelRef',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: '(instance: HTMLElement) => void'\n        }\n      },\n      popoverRef: {\n        defaultValue: null,\n        description: '',\n        name: 'popoverRef',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'Ref<HTMLDivElement>'\n        }\n      },\n      repositionOnScroll: {\n        defaultValue: null,\n        description: \"When `true`, the popover's position is re-calculated when the user\\n\" + 'scrolls, this supports having fixed-position popover anchors',\n        name: 'repositionOnScroll',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      zIndex: {\n        defaultValue: null,\n        description: 'By default, popover content inherits the z-index of the anchor\\n' + 'component; pass `zIndex` to override',\n        name: 'zIndex',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      onTrapDeactivation: {\n        defaultValue: null,\n        description: 'Function callback for when the focus trap is deactivated',\n        name: 'onTrapDeactivation',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: '() => void'\n        }\n      },\n      offset: {\n        defaultValue: null,\n        description: 'Distance away from the anchor that the popover will render',\n        name: 'offset',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      buffer: {\n        defaultValue: null,\n        description: 'Minimum distance between the popover and the bounding container;\\n' + 'Pass an array of 4 values to adjust each side differently: `[top, right, bottom, left]`\\n' + 'Default is 16',\n        name: 'buffer',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'number | [number, number, number, number]'\n        }\n      },\n      arrowChildren: {\n        defaultValue: null,\n        description: 'Element to pass as the child element of the arrow;\\n' + 'Use case is typically limited to an accompanying `EuiBeacon`',\n        name: 'arrowChildren',\n        parent: {\n          fileName: 'eui/src/components/popover/popover.tsx',\n          name: 'EuiPopoverProps'\n        },\n        required: false,\n        type: {\n          name: 'ReactNode'\n        }\n      }\n    },\n    extendedInterfaces: ['String', 'CommonProps', 'HTMLAttributes', 'AriaAttributes', 'DOMAttributes', 'EuiPopoverProps']\n  };\n} catch (e) {}"]}]}