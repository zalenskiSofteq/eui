{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\datagrid\\column_actions.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\datagrid\\column_actions.tsx","mtime":1649070093360},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMiOwoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgovKgogKiBMaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IKICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQKICogb3duZXJzaGlwLiBFbGFzdGljc2VhcmNoIEIuVi4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlcgogKiB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heQogKiBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgRXVpSTE4biB9IGZyb20gJy4uL2kxOG4nOwppbXBvcnQgeyBnZXREZXRhaWxzRm9yU2NoZW1hIH0gZnJvbSAnLi9kYXRhX2dyaWRfc2NoZW1hJzsKaW1wb3J0IHsgZGVmYXVsdFNvcnRBc2NMYWJlbCwgZGVmYXVsdFNvcnREZXNjTGFiZWwgfSBmcm9tICcuL2NvbHVtbl9zb3J0aW5nX2RyYWdnYWJsZSc7CmV4cG9ydCBmdW5jdGlvbiBnZXRDb2x1bW5BY3Rpb25zKGNvbHVtbiwgY29sdW1ucywgc2NoZW1hLCBzY2hlbWFEZXRlY3RvcnMsIHNldFZpc2libGVDb2x1bW5zLCBzZXRJc1BvcG92ZXJPcGVuLCBzb3J0aW5nLCBzd2l0Y2hDb2x1bW5Qb3MpIHsKICB2YXIgX2NvbHVtbiRhY3Rpb25zLCBfY29sdW1uJGFjdGlvbnMzLCBfY29sdW1uJGFjdGlvbnM1LCBfY29sdW1uJGFjdGlvbnM3LCBfY29sdW1uJGFjdGlvbnM5LCBfY29sdW1uJGFjdGlvbnMxMSwgX2NvbHVtbiRhY3Rpb25zMTI7CgogIGlmIChjb2x1bW4uYWN0aW9ucyA9PT0gZmFsc2UpIHsKICAgIHJldHVybiBbXTsKICB9CgogIHZhciBjb2xJZHggPSBjb2x1bW5zLmZpbmRJbmRleChmdW5jdGlvbiAoY29sKSB7CiAgICByZXR1cm4gY29sLmlkID09PSBjb2x1bW4uaWQ7CiAgfSk7CiAgdmFyIHNvcnRpbmdJZHggPSBzb3J0aW5nID8gc29ydGluZy5jb2x1bW5zLmZpbmRJbmRleChmdW5jdGlvbiAoY29sKSB7CiAgICByZXR1cm4gY29sLmlkID09PSBjb2x1bW4uaWQ7CiAgfSkgOiAtMTsKCiAgdmFyIHNvcnRCeSA9IGZ1bmN0aW9uIHNvcnRCeSgpIHsKICAgIHZhciBfc29ydGluZyRjb2x1bW5zJHNvcnQ7CgogICAgdmFyIGRpcmVjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2FzYyc7CgogICAgaWYgKCFzb3J0aW5nKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoc29ydGluZ0lkeCA+PSAwICYmICgoX3NvcnRpbmckY29sdW1ucyRzb3J0ID0gc29ydGluZy5jb2x1bW5zW3NvcnRpbmdJZHhdKSA9PT0gbnVsbCB8fCBfc29ydGluZyRjb2x1bW5zJHNvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zb3J0aW5nJGNvbHVtbnMkc29ydC5kaXJlY3Rpb24pID09PSBkaXJlY3Rpb24pIHsKICAgICAgLy8gdW5zb3J0IGlmIHRoZSBzYW1lIGN1cnJlbnQgYW5kIG5ldyBkaXJlY3Rpb24gYXJlIHNhbWUKICAgICAgdmFyIG5ld0NvbHVtbnMgPSBzb3J0aW5nLmNvbHVtbnMuZmlsdGVyKGZ1bmN0aW9uICh2YWwsIGlkeCkgewogICAgICAgIHJldHVybiBpZHggIT09IHNvcnRpbmdJZHg7CiAgICAgIH0pOwogICAgICBzb3J0aW5nLm9uU29ydChuZXdDb2x1bW5zKTsKICAgIH0gZWxzZSBpZiAoc29ydGluZ0lkeCA+PSAwKSB7CiAgICAgIC8vIHJlcGxhY2UgZXhpc3Rpbmcgc29ydAogICAgICB2YXIgX25ld0NvbHVtbnMgPSBPYmplY3QudmFsdWVzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc29ydGluZy5jb2x1bW5zKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgc29ydGluZ0lkeCwgewogICAgICAgIGlkOiBjb2x1bW4uaWQsCiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24KICAgICAgfSkpKTsKCiAgICAgIHNvcnRpbmcub25Tb3J0KF9uZXdDb2x1bW5zKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIGFkZCBuZXcgc29ydAogICAgICB2YXIgX25ld0NvbHVtbnMyID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzb3J0aW5nLmNvbHVtbnMpLCBbewogICAgICAgIGlkOiBjb2x1bW4uaWQsCiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24KICAgICAgfV0pOwoKICAgICAgc29ydGluZy5vblNvcnQoX25ld0NvbHVtbnMyKTsKICAgIH0KICB9OwoKICB2YXIgb25DbGlja0hpZGVDb2x1bW4gPSBmdW5jdGlvbiBvbkNsaWNrSGlkZUNvbHVtbigpIHsKICAgIHJldHVybiBzZXRWaXNpYmxlQ29sdW1ucyhjb2x1bW5zLmZpbHRlcihmdW5jdGlvbiAoY29sKSB7CiAgICAgIHJldHVybiBjb2wuaWQgIT09IGNvbHVtbi5pZDsKICAgIH0pLm1hcChmdW5jdGlvbiAoY29sKSB7CiAgICAgIHJldHVybiBjb2wuaWQ7CiAgICB9KSk7CiAgfTsKCiAgdmFyIG9uQ2xpY2tTb3J0QXNjID0gZnVuY3Rpb24gb25DbGlja1NvcnRBc2MoKSB7CiAgICBzb3J0QnkoJ2FzYycpOwogIH07CgogIHZhciBvbkNsaWNrU29ydERlc2MgPSBmdW5jdGlvbiBvbkNsaWNrU29ydERlc2MoKSB7CiAgICBzb3J0QnkoJ2Rlc2MnKTsKICB9OwoKICB2YXIgb25DbGlja01vdmVMZWZ0ID0gZnVuY3Rpb24gb25DbGlja01vdmVMZWZ0KCkgewogICAgdmFyIHRhcmdldENvbCA9IGNvbHVtbnNbY29sSWR4IC0gMV07CgogICAgaWYgKHRhcmdldENvbCkgewogICAgICBzd2l0Y2hDb2x1bW5Qb3MoY29sdW1uLmlkLCB0YXJnZXRDb2wuaWQpOwogICAgfQogIH07CgogIHZhciBvbkNsaWNrTW92ZVJpZ2h0ID0gZnVuY3Rpb24gb25DbGlja01vdmVSaWdodCgpIHsKICAgIHZhciB0YXJnZXRDb2wgPSBjb2x1bW5zW2NvbElkeCArIDFdOwoKICAgIGlmICh0YXJnZXRDb2wpIHsKICAgICAgc3dpdGNoQ29sdW1uUG9zKGNvbHVtbi5pZCwgdGFyZ2V0Q29sLmlkKTsKICAgIH0KICB9OwoKICB2YXIgcmVzdWx0ID0gW107CgogIGlmICgoKF9jb2x1bW4kYWN0aW9ucyA9IGNvbHVtbi5hY3Rpb25zKSA9PT0gbnVsbCB8fCBfY29sdW1uJGFjdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9ucy5zaG93SGlkZSkgIT09IGZhbHNlKSB7CiAgICB2YXIgX2NvbHVtbiRhY3Rpb25zMjsKCiAgICB2YXIgb3B0aW9uID0gewogICAgICBsYWJlbDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgICAgIHRva2VuOiAiZXVpQ29sdW1uQWN0aW9ucy5oaWRlQ29sdW1uIiwKICAgICAgICBkZWZhdWx0OiAiSGlkZSBjb2x1bW4iCiAgICAgIH0pLAogICAgICBvbkNsaWNrOiBvbkNsaWNrSGlkZUNvbHVtbiwKICAgICAgaWNvblR5cGU6ICdleWVDbG9zZWQnLAogICAgICBzaXplOiAneHMnLAogICAgICBjb2xvcjogJ3RleHQnCiAgICB9OwoKICAgIGlmIChfdHlwZW9mKChfY29sdW1uJGFjdGlvbnMyID0gY29sdW1uLmFjdGlvbnMpID09PSBudWxsIHx8IF9jb2x1bW4kYWN0aW9uczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9uczIuc2hvd0hpZGUpID09PSAnb2JqZWN0JykgewogICAgICByZXN1bHQucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbiksIGNvbHVtbi5hY3Rpb25zLnNob3dIaWRlKSk7CiAgICB9IGVsc2UgewogICAgICByZXN1bHQucHVzaChvcHRpb24pOwogICAgfQogIH0KCiAgdmFyIHNjaGVtYURldGFpbHMgPSBzY2hlbWEuaGFzT3duUHJvcGVydHkoY29sdW1uLmlkKSAmJiBzY2hlbWFbY29sdW1uLmlkXS5jb2x1bW5UeXBlICE9IG51bGwgPyBnZXREZXRhaWxzRm9yU2NoZW1hKHNjaGVtYURldGVjdG9ycywgc2NoZW1hW2NvbHVtbi5pZF0uY29sdW1uVHlwZSkgOiBudWxsOwoKICBpZiAoKChfY29sdW1uJGFjdGlvbnMzID0gY29sdW1uLmFjdGlvbnMpID09PSBudWxsIHx8IF9jb2x1bW4kYWN0aW9uczMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9uczMuc2hvd1NvcnRBc2MpICE9PSBmYWxzZSAmJiBzb3J0aW5nKSB7CiAgICB2YXIgX2NvbHVtbiRhY3Rpb25zNDsKCiAgICB2YXIgbGFiZWwgPSBzY2hlbWFEZXRhaWxzID8gc2NoZW1hRGV0YWlscy5zb3J0VGV4dEFzYyA6IGRlZmF1bHRTb3J0QXNjTGFiZWw7CiAgICB2YXIgX29wdGlvbiA9IHsKICAgICAgbGFiZWw6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICB0b2tlbjogImV1aUNvbHVtbkFjdGlvbnMuc29ydCIsCiAgICAgICAgZGVmYXVsdDogIlNvcnQge3NjaGVtYUxhYmVsfSIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBzY2hlbWFMYWJlbDogbGFiZWwKICAgICAgICB9CiAgICAgIH0pLAogICAgICBvbkNsaWNrOiBvbkNsaWNrU29ydEFzYywKICAgICAgaXNEaXNhYmxlZDogY29sdW1uLmlzU29ydGFibGUgPT09IGZhbHNlLAogICAgICBjbGFzc05hbWU6IHNvcnRpbmdJZHggPj0gMCAmJiBzb3J0aW5nLmNvbHVtbnNbc29ydGluZ0lkeF0uZGlyZWN0aW9uID09PSAnYXNjJyA/ICdldWlEYXRhR3JpZEhlYWRlcl9fYWN0aW9uLS1zZWxlY3RlZCcgOiAnJywKICAgICAgaWNvblR5cGU6ICdzb3J0VXAnLAogICAgICBzaXplOiAneHMnLAogICAgICBjb2xvcjogJ3RleHQnCiAgICB9OwoKICAgIGlmIChfdHlwZW9mKChfY29sdW1uJGFjdGlvbnM0ID0gY29sdW1uLmFjdGlvbnMpID09PSBudWxsIHx8IF9jb2x1bW4kYWN0aW9uczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9uczQuc2hvd1NvcnRBc2MpID09PSAnb2JqZWN0JykgewogICAgICByZXN1bHQucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9vcHRpb24pLCBjb2x1bW4uYWN0aW9ucy5zaG93U29ydEFzYykpOwogICAgfSBlbHNlIHsKICAgICAgcmVzdWx0LnB1c2goX29wdGlvbik7CiAgICB9CiAgfQoKICBpZiAoKChfY29sdW1uJGFjdGlvbnM1ID0gY29sdW1uLmFjdGlvbnMpID09PSBudWxsIHx8IF9jb2x1bW4kYWN0aW9uczUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9uczUuc2hvd1NvcnREZXNjKSAhPT0gZmFsc2UgJiYgc29ydGluZykgewogICAgdmFyIF9jb2x1bW4kYWN0aW9uczY7CgogICAgdmFyIF9sYWJlbCA9IHNjaGVtYURldGFpbHMgPyBzY2hlbWFEZXRhaWxzLnNvcnRUZXh0RGVzYyA6IGRlZmF1bHRTb3J0RGVzY0xhYmVsOwoKICAgIHZhciBfb3B0aW9uMiA9IHsKICAgICAgbGFiZWw6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICB0b2tlbjogImV1aUNvbHVtbkFjdGlvbnMuc29ydCIsCiAgICAgICAgZGVmYXVsdDogIlNvcnQge3NjaGVtYUxhYmVsfSIsCiAgICAgICAgdmFsdWVzOiB7CiAgICAgICAgICBzY2hlbWFMYWJlbDogX2xhYmVsCiAgICAgICAgfQogICAgICB9KSwKICAgICAgb25DbGljazogb25DbGlja1NvcnREZXNjLAogICAgICBpc0Rpc2FibGVkOiBjb2x1bW4uaXNTb3J0YWJsZSA9PT0gZmFsc2UsCiAgICAgIGNsYXNzTmFtZTogc29ydGluZ0lkeCA+PSAwICYmIHNvcnRpbmcuY29sdW1uc1tzb3J0aW5nSWR4XS5kaXJlY3Rpb24gPT09ICdkZXNjJyA/ICdldWlEYXRhR3JpZEhlYWRlcl9fYWN0aW9uLS1zZWxlY3RlZCcgOiAnJywKICAgICAgaWNvblR5cGU6ICdzb3J0RG93bicsCiAgICAgIHNpemU6ICd4cycsCiAgICAgIGNvbG9yOiAndGV4dCcKICAgIH07CgogICAgaWYgKF90eXBlb2YoKF9jb2x1bW4kYWN0aW9uczYgPSBjb2x1bW4uYWN0aW9ucykgPT09IG51bGwgfHwgX2NvbHVtbiRhY3Rpb25zNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NvbHVtbiRhY3Rpb25zNi5zaG93U29ydERlc2MpID09PSAnb2JqZWN0JykgewogICAgICByZXN1bHQucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9vcHRpb24yKSwgY29sdW1uLmFjdGlvbnMuc2hvd1NvcnREZXNjKSk7CiAgICB9IGVsc2UgewogICAgICByZXN1bHQucHVzaChfb3B0aW9uMik7CiAgICB9CiAgfQoKICBpZiAoKChfY29sdW1uJGFjdGlvbnM3ID0gY29sdW1uLmFjdGlvbnMpID09PSBudWxsIHx8IF9jb2x1bW4kYWN0aW9uczcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9uczcuc2hvd01vdmVMZWZ0KSAhPT0gZmFsc2UpIHsKICAgIHZhciBfY29sdW1uJGFjdGlvbnM4OwoKICAgIHZhciBfb3B0aW9uMyA9IHsKICAgICAgbGFiZWw6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgICB0b2tlbjogImV1aUNvbHVtbkFjdGlvbnMubW92ZUxlZnQiLAogICAgICAgIGRlZmF1bHQ6ICJNb3ZlIGxlZnQiCiAgICAgIH0pLAogICAgICBpY29uVHlwZTogJ3NvcnRMZWZ0JywKICAgICAgc2l6ZTogJ3hzJywKICAgICAgY29sb3I6ICd0ZXh0JywKICAgICAgb25DbGljazogb25DbGlja01vdmVMZWZ0LAogICAgICBpc0Rpc2FibGVkOiBjb2xJZHggPT09IDAKICAgIH07CgogICAgaWYgKF90eXBlb2YoKF9jb2x1bW4kYWN0aW9uczggPSBjb2x1bW4uYWN0aW9ucykgPT09IG51bGwgfHwgX2NvbHVtbiRhY3Rpb25zOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NvbHVtbiRhY3Rpb25zOC5zaG93TW92ZUxlZnQpID09PSAnb2JqZWN0JykgewogICAgICByZXN1bHQucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9vcHRpb24zKSwgY29sdW1uLmFjdGlvbnMuc2hvd01vdmVMZWZ0KSk7CiAgICB9IGVsc2UgewogICAgICByZXN1bHQucHVzaChfb3B0aW9uMyk7CiAgICB9CiAgfQoKICBpZiAoKChfY29sdW1uJGFjdGlvbnM5ID0gY29sdW1uLmFjdGlvbnMpID09PSBudWxsIHx8IF9jb2x1bW4kYWN0aW9uczkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9uczkuc2hvd01vdmVSaWdodCkgIT09IGZhbHNlKSB7CiAgICB2YXIgX2NvbHVtbiRhY3Rpb25zMTA7CgogICAgdmFyIF9vcHRpb240ID0gewogICAgICBsYWJlbDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgICAgIHRva2VuOiAiZXVpQ29sdW1uQWN0aW9ucy5tb3ZlUmlnaHQiLAogICAgICAgIGRlZmF1bHQ6ICJNb3ZlIHJpZ2h0IgogICAgICB9KSwKICAgICAgaWNvblR5cGU6ICdzb3J0UmlnaHQnLAogICAgICBzaXplOiAneHMnLAogICAgICBjb2xvcjogJ3RleHQnLAogICAgICBvbkNsaWNrOiBvbkNsaWNrTW92ZVJpZ2h0LAogICAgICBpc0Rpc2FibGVkOiBjb2xJZHggPT09IGNvbHVtbnMubGVuZ3RoIC0gMQogICAgfTsKCiAgICBpZiAoX3R5cGVvZigoX2NvbHVtbiRhY3Rpb25zMTAgPSBjb2x1bW4uYWN0aW9ucykgPT09IG51bGwgfHwgX2NvbHVtbiRhY3Rpb25zMTAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9uczEwLnNob3dNb3ZlUmlnaHQpID09PSAnb2JqZWN0JykgewogICAgICByZXN1bHQucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9vcHRpb240KSwgY29sdW1uLmFjdGlvbnMuc2hvd01vdmVSaWdodCkpOwogICAgfSBlbHNlIHsKICAgICAgcmVzdWx0LnB1c2goX29wdGlvbjQpOwogICAgfQogIH0KCiAgdmFyIGFsbEFjdGlvbnMgPSAoKF9jb2x1bW4kYWN0aW9uczExID0gY29sdW1uLmFjdGlvbnMpID09PSBudWxsIHx8IF9jb2x1bW4kYWN0aW9uczExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY29sdW1uJGFjdGlvbnMxMS5hZGRpdGlvbmFsKSA/IFtdLmNvbmNhdChyZXN1bHQsIF90b0NvbnN1bWFibGVBcnJheSgoX2NvbHVtbiRhY3Rpb25zMTIgPSBjb2x1bW4uYWN0aW9ucykgPT09IG51bGwgfHwgX2NvbHVtbiRhY3Rpb25zMTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb2x1bW4kYWN0aW9uczEyLmFkZGl0aW9uYWwpKSA6IHJlc3VsdDsgLy93cmFwIEV1aUxpc3RHcm91cEl0ZW0gb25DbGljayBmdW5jdGlvbiB0byBjbG9zZSB0aGUgcG9wb3ZlciBhbmQgcHJldmV0IGJ1YmJsaW5nIHVwCgogIHJldHVybiBhbGxBY3Rpb25zLm1hcChmdW5jdGlvbiAoYWN0aW9uKSB7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhY3Rpb24pLCB7CiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXYpIHsKICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBzZXRJc1BvcG92ZXJPcGVuKGZhbHNlKTsKCiAgICAgICAgaWYgKGFjdGlvbiAmJiBhY3Rpb24ub25DbGljaykgewogICAgICAgICAgYWN0aW9uLm9uQ2xpY2soZXYpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSk7Cn0="},{"version":3,"sources":["D:/work/eui/src/components/datagrid/column_actions.tsx"],"names":["React","EuiI18n","getDetailsForSchema","defaultSortAscLabel","defaultSortDescLabel","getColumnActions","column","columns","schema","schemaDetectors","setVisibleColumns","setIsPopoverOpen","sorting","switchColumnPos","actions","colIdx","findIndex","col","id","sortingIdx","sortBy","direction","newColumns","filter","val","idx","onSort","Object","values","onClickHideColumn","map","onClickSortAsc","onClickSortDesc","onClickMoveLeft","targetCol","onClickMoveRight","result","showHide","option","label","onClick","iconType","size","color","push","schemaDetails","hasOwnProperty","columnType","showSortAsc","sortTextAsc","schemaLabel","isDisabled","isSortable","className","showSortDesc","sortTextDesc","showMoveLeft","showMoveRight","length","allActions","additional","action","ev","stopPropagation"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { EuiDataGridColumn, EuiDataGridSorting } from './data_grid_types';\nimport { EuiI18n } from '../i18n';\nimport { EuiListGroupItemProps } from '../list_group';\nimport {\n  EuiDataGridSchema,\n  EuiDataGridSchemaDetector,\n  getDetailsForSchema,\n} from './data_grid_schema';\nimport {\n  defaultSortAscLabel,\n  defaultSortDescLabel,\n} from './column_sorting_draggable';\n\nexport function getColumnActions(\n  column: EuiDataGridColumn,\n  columns: EuiDataGridColumn[],\n  schema: EuiDataGridSchema,\n  schemaDetectors: EuiDataGridSchemaDetector[],\n  setVisibleColumns: (columnId: string[]) => void,\n  setIsPopoverOpen: (value: boolean) => void,\n  sorting: EuiDataGridSorting | undefined,\n  switchColumnPos: (colFromId: string, colToId: string) => void\n) {\n  if (column.actions === false) {\n    return [];\n  }\n  const colIdx = columns.findIndex((col) => col.id === column.id);\n\n  const sortingIdx = sorting\n    ? sorting.columns.findIndex((col) => col.id === column.id)\n    : -1;\n  const sortBy = (direction: 'asc' | 'desc' = 'asc') => {\n    if (!sorting) {\n      return;\n    }\n\n    if (\n      sortingIdx >= 0 &&\n      sorting.columns[sortingIdx]?.direction === direction\n    ) {\n      // unsort if the same current and new direction are same\n      const newColumns = sorting.columns.filter(\n        (val, idx) => idx !== sortingIdx\n      );\n      sorting.onSort(newColumns);\n    } else if (sortingIdx >= 0) {\n      // replace existing sort\n      const newColumns = Object.values({\n        ...sorting.columns,\n        [sortingIdx]: {\n          id: column.id,\n          direction: direction,\n        },\n      });\n      sorting.onSort(newColumns as EuiDataGridSorting['columns']);\n    } else {\n      // add new sort\n      const newColumns = [\n        ...sorting.columns,\n        {\n          id: column.id,\n          direction: direction,\n        },\n      ];\n      sorting.onSort(newColumns as EuiDataGridSorting['columns']);\n    }\n  };\n  const onClickHideColumn = () =>\n    setVisibleColumns(\n      columns.filter((col) => col.id !== column.id).map((col) => col.id)\n    );\n\n  const onClickSortAsc = () => {\n    sortBy('asc');\n  };\n\n  const onClickSortDesc = () => {\n    sortBy('desc');\n  };\n\n  const onClickMoveLeft = () => {\n    const targetCol = columns[colIdx - 1];\n    if (targetCol) {\n      switchColumnPos(column.id, targetCol.id);\n    }\n  };\n\n  const onClickMoveRight = () => {\n    const targetCol = columns[colIdx + 1];\n    if (targetCol) {\n      switchColumnPos(column.id, targetCol.id);\n    }\n  };\n\n  const result: EuiListGroupItemProps[] = [];\n  if (column.actions?.showHide !== false) {\n    const option = {\n      label: (\n        <EuiI18n token=\"euiColumnActions.hideColumn\" default=\"Hide column\" />\n      ),\n      onClick: onClickHideColumn,\n      iconType: 'eyeClosed',\n      size: 'xs',\n      color: 'text',\n    } as EuiListGroupItemProps;\n    if (typeof column.actions?.showHide === 'object') {\n      result.push({ ...option, ...column.actions.showHide });\n    } else {\n      result.push(option);\n    }\n  }\n\n  const schemaDetails =\n    schema.hasOwnProperty(column.id) && schema[column.id].columnType != null\n      ? getDetailsForSchema(schemaDetectors, schema[column.id].columnType)\n      : null;\n  if (column.actions?.showSortAsc !== false && sorting) {\n    const label = schemaDetails\n      ? schemaDetails.sortTextAsc\n      : defaultSortAscLabel;\n    const option = {\n      label: (\n        <EuiI18n\n          token=\"euiColumnActions.sort\"\n          default=\"Sort {schemaLabel}\"\n          values={{ schemaLabel: label }}\n        />\n      ),\n      onClick: onClickSortAsc,\n      isDisabled: column.isSortable === false,\n      className:\n        sortingIdx >= 0 && sorting.columns[sortingIdx].direction === 'asc'\n          ? 'euiDataGridHeader__action--selected'\n          : '',\n      iconType: 'sortUp',\n      size: 'xs',\n      color: 'text',\n    } as EuiListGroupItemProps;\n    if (typeof column.actions?.showSortAsc === 'object') {\n      result.push({ ...option, ...column.actions.showSortAsc });\n    } else {\n      result.push(option);\n    }\n  }\n\n  if (column.actions?.showSortDesc !== false && sorting) {\n    const label = schemaDetails\n      ? schemaDetails.sortTextDesc\n      : defaultSortDescLabel;\n    const option = {\n      label: (\n        <EuiI18n\n          token=\"euiColumnActions.sort\"\n          default=\"Sort {schemaLabel}\"\n          values={{ schemaLabel: label }}\n        />\n      ),\n      onClick: onClickSortDesc,\n      isDisabled: column.isSortable === false,\n      className:\n        sortingIdx >= 0 && sorting.columns[sortingIdx].direction === 'desc'\n          ? 'euiDataGridHeader__action--selected'\n          : '',\n      iconType: 'sortDown',\n      size: 'xs',\n      color: 'text',\n    } as EuiListGroupItemProps;\n    if (typeof column.actions?.showSortDesc === 'object') {\n      result.push({ ...option, ...column.actions.showSortDesc });\n    } else {\n      result.push(option);\n    }\n  }\n\n  if (column.actions?.showMoveLeft !== false) {\n    const option = {\n      label: <EuiI18n token=\"euiColumnActions.moveLeft\" default=\"Move left\" />,\n      iconType: 'sortLeft',\n      size: 'xs',\n      color: 'text',\n      onClick: onClickMoveLeft,\n      isDisabled: colIdx === 0,\n    } as EuiListGroupItemProps;\n    if (typeof column.actions?.showMoveLeft === 'object') {\n      result.push({ ...option, ...column.actions.showMoveLeft });\n    } else {\n      result.push(option);\n    }\n  }\n\n  if (column.actions?.showMoveRight !== false) {\n    const option = {\n      label: (\n        <EuiI18n token=\"euiColumnActions.moveRight\" default=\"Move right\" />\n      ),\n      iconType: 'sortRight',\n      size: 'xs',\n      color: 'text',\n      onClick: onClickMoveRight,\n      isDisabled: colIdx === columns.length - 1,\n    } as EuiListGroupItemProps;\n    if (typeof column.actions?.showMoveRight === 'object') {\n      result.push({ ...option, ...column.actions.showMoveRight });\n    } else {\n      result.push(option);\n    }\n  }\n  const allActions = column.actions?.additional\n    ? [...result, ...column.actions?.additional]\n    : result;\n\n  //wrap EuiListGroupItem onClick function to close the popover and prevet bubbling up\n\n  return allActions.map((action) => {\n    return {\n      ...action,\n      ...{\n        onClick: (ev: React.MouseEvent<HTMLButtonElement>) => {\n          ev.stopPropagation();\n          setIsPopoverOpen(false);\n          if (action && action.onClick) {\n            action.onClick(ev);\n          }\n        },\n      },\n    };\n  }) as EuiListGroupItemProps[];\n}\n"]}]}