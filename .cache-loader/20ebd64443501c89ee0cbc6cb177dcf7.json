{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\markdown_editor\\markdown_editor_drop_zone.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\markdown_editor\\markdown_editor_drop_zone.tsx","mtime":1649070093701},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwoKZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAicHJvcC10eXBlcyI7CmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgeyB1c2VEcm9wem9uZSB9IGZyb20gJ3JlYWN0LWRyb3B6b25lJzsKaW1wb3J0IHsgRXVpTWFya2Rvd25FZGl0b3JGb290ZXIgfSBmcm9tICcuL21hcmtkb3duX2VkaXRvcl9mb290ZXInOwppbXBvcnQgeyB1c2VSZXNpemVPYnNlcnZlciB9IGZyb20gJy4uL29ic2VydmVyL3Jlc2l6ZV9vYnNlcnZlcic7Cgp2YXIgZ2V0VW5hY2NlcHRlZEl0ZW1zID0gZnVuY3Rpb24gZ2V0VW5hY2NlcHRlZEl0ZW1zKGl0ZW1zLCBkcm9wSGFuZGxlcnMpIHsKICB2YXIgdW5hY2NlcHRlZEl0ZW1zID0gW107CgogIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBpdGVtID0gaXRlbXNbaV07CiAgICB2YXIgaXNBY2NlcHRlZCA9IGZhbHNlOwoKICAgIGZvciAodmFyIGogPSAwOyBqIDwgZHJvcEhhbmRsZXJzLmxlbmd0aDsgaisrKSB7CiAgICAgIGlmIChkcm9wSGFuZGxlcnNbal0uYWNjZXB0cyhpdGVtLnR5cGUpKSB7CiAgICAgICAgaXNBY2NlcHRlZCA9IHRydWU7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIWlzQWNjZXB0ZWQpIHsKICAgICAgdW5hY2NlcHRlZEl0ZW1zLnB1c2goaXRlbSk7CiAgICB9CiAgfQoKICByZXR1cm4gdW5hY2NlcHRlZEl0ZW1zOwp9OwoKZXhwb3J0IHZhciBFdWlNYXJrZG93bkVkaXRvckRyb3Bab25lID0gZnVuY3Rpb24gRXVpTWFya2Rvd25FZGl0b3JEcm9wWm9uZShwcm9wcykgewogIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksCiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLAogICAgICBpc0RyYWdnaW5nID0gX1JlYWN0JHVzZVN0YXRlMlswXSwKICAgICAgdG9nZ2xlRHJhZ2dpbmcgPSBfUmVhY3QkdXNlU3RhdGUyWzFdOwoKICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSwKICAgICAgX1JlYWN0JHVzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTMsIDIpLAogICAgICBpc1VwbG9hZGluZ0ZpbGVzID0gX1JlYWN0JHVzZVN0YXRlNFswXSwKICAgICAgdG9nZ2xlVXBsb2FkaW5nRmlsZXMgPSBfUmVhY3QkdXNlU3RhdGU0WzFdOwoKICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSwKICAgICAgX1JlYWN0JHVzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZTUsIDIpLAogICAgICBpc0RyYWdnaW5nRXJyb3IgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLAogICAgICB0b2dnbGVEcmFnZ2luZ0Vycm9yID0gX1JlYWN0JHVzZVN0YXRlNlsxXTsKCiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sCiAgICAgIHVpUGx1Z2lucyA9IHByb3BzLnVpUGx1Z2lucywKICAgICAgZXJyb3JzID0gcHJvcHMuZXJyb3JzLAogICAgICBkcm9wSGFuZGxlcnMgPSBwcm9wcy5kcm9wSGFuZGxlcnMsCiAgICAgIGluc2VydFRleHQgPSBwcm9wcy5pbnNlcnRUZXh0LAogICAgICBoYXNVbmFjY2VwdGVkSXRlbXMgPSBwcm9wcy5oYXNVbmFjY2VwdGVkSXRlbXMsCiAgICAgIHNldEhhc1VuYWNjZXB0ZWRJdGVtcyA9IHByb3BzLnNldEhhc1VuYWNjZXB0ZWRJdGVtcywKICAgICAgc2V0RWRpdG9yRm9vdGVySGVpZ2h0ID0gcHJvcHMuc2V0RWRpdG9yRm9vdGVySGVpZ2h0LAogICAgICBpc0VkaXRpbmcgPSBwcm9wcy5pc0VkaXRpbmc7CiAgdmFyIGNsYXNzZXMgPSBjbGFzc05hbWVzKCdldWlNYXJrZG93bkVkaXRvckRyb3Bab25lJywgewogICAgJ2V1aU1hcmtkb3duRWRpdG9yRHJvcFpvbmUtLWlzRHJhZ2dpbmcnOiBpc0RyYWdnaW5nLAogICAgJ2V1aU1hcmtkb3duRWRpdG9yRHJvcFpvbmUtLWhhc0Vycm9yJzogaGFzVW5hY2NlcHRlZEl0ZW1zLAogICAgJ2V1aU1hcmtkb3duRWRpdG9yRHJvcFpvbmUtLWlzRHJhZ2dpbmdFcnJvcic6IGlzRHJhZ2dpbmdFcnJvcgogIH0pOwoKICB2YXIgX1JlYWN0JHVzZVN0YXRlNyA9IFJlYWN0LnVzZVN0YXRlKG51bGwpLAogICAgICBfUmVhY3QkdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlNywgMiksCiAgICAgIGVkaXRvckZvb3RlclJlZiA9IF9SZWFjdCR1c2VTdGF0ZThbMF0sCiAgICAgIHNldEVkaXRvckZvb3RlclJlZiA9IF9SZWFjdCR1c2VTdGF0ZThbMV07CgogIHZhciBfdXNlUmVzaXplT2JzZXJ2ZXIgPSB1c2VSZXNpemVPYnNlcnZlcihlZGl0b3JGb290ZXJSZWYsICdoZWlnaHQnKSwKICAgICAgZWRpdG9yRm9vdGVySGVpZ2h0ID0gX3VzZVJlc2l6ZU9ic2VydmVyLmhlaWdodDsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChlZGl0b3JGb290ZXJIZWlnaHQgIT09IDApIHsKICAgICAgc2V0RWRpdG9yRm9vdGVySGVpZ2h0KGVkaXRvckZvb3RlckhlaWdodCk7CiAgICB9CiAgfSwgW3NldEVkaXRvckZvb3RlckhlaWdodCwgaXNFZGl0aW5nLCBlZGl0b3JGb290ZXJIZWlnaHRdKTsKCiAgdmFyIF91c2VEcm9wem9uZSA9IHVzZURyb3B6b25lKHsKICAgIGRpc2FibGVkOiBkcm9wSGFuZGxlcnMubGVuZ3RoID09PSAwLAogICAgLy8gRGlzYWJsZSBjbGljayBhbmQga2V5ZG93biBiZWhhdmlvcgogICAgbm9DbGljazogdHJ1ZSwKICAgIG5vS2V5Ym9hcmQ6IHRydWUsCiAgICAvLyBtdWx0aXBsZTogZmFsc2UsCiAgICBvbkRyYWdPdmVyOiBmdW5jdGlvbiBvbkRyYWdPdmVyKGUpIHsKICAgICAgdmFyIHJlc3VsdDsKCiAgICAgIGlmIChlLmRhdGFUcmFuc2ZlcikgewogICAgICAgIHZhciB1bmFjY2VwdGVkSXRlbXMgPSBnZXRVbmFjY2VwdGVkSXRlbXMoZS5kYXRhVHJhbnNmZXIuaXRlbXMsIGRyb3BIYW5kbGVycyk7CiAgICAgICAgc2V0SGFzVW5hY2NlcHRlZEl0ZW1zKHVuYWNjZXB0ZWRJdGVtcy5sZW5ndGggPiAwKTsKICAgICAgICB0b2dnbGVEcmFnZ2luZ0Vycm9yKHVuYWNjZXB0ZWRJdGVtcy5sZW5ndGggPiAwKTsKICAgICAgICByZXN1bHQgPSB1bmFjY2VwdGVkSXRlbXMubGVuZ3RoID09PSAwOwogICAgICB9IGVsc2UgewogICAgICAgIHNldEhhc1VuYWNjZXB0ZWRJdGVtcyhmYWxzZSk7CiAgICAgICAgcmVzdWx0ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRvZ2dsZURyYWdnaW5nKHJlc3VsdCk7CgogICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBvbkRyYWdFbnRlcjogZnVuY3Rpb24gb25EcmFnRW50ZXIoZSkgewogICAgICB2YXIgcmVzdWx0OwoKICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyKSB7CiAgICAgICAgdmFyIHVuYWNjZXB0ZWRJdGVtcyA9IGdldFVuYWNjZXB0ZWRJdGVtcyhlLmRhdGFUcmFuc2Zlci5pdGVtcywgZHJvcEhhbmRsZXJzKTsKICAgICAgICBzZXRIYXNVbmFjY2VwdGVkSXRlbXModW5hY2NlcHRlZEl0ZW1zLmxlbmd0aCA+IDApOwogICAgICAgIHRvZ2dsZURyYWdnaW5nRXJyb3IodW5hY2NlcHRlZEl0ZW1zLmxlbmd0aCA+IDApOwogICAgICAgIHJlc3VsdCA9IHVuYWNjZXB0ZWRJdGVtcy5sZW5ndGggPT09IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2V0SGFzVW5hY2NlcHRlZEl0ZW1zKGZhbHNlKTsKICAgICAgICByZXN1bHQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdG9nZ2xlRHJhZ2dpbmcocmVzdWx0KTsKCiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIG9uRHJhZ0xlYXZlOiBmdW5jdGlvbiBvbkRyYWdMZWF2ZSgpIHsKICAgICAgdG9nZ2xlRHJhZ2dpbmcoZmFsc2UpOwogICAgfSwKICAgIG9uRHJvcDogZnVuY3Rpb24gb25Ecm9wKGFjY2VwdGVkRmlsZXMpIHsKICAgICAgdmFyIGZpbGVIYW5kbGVycyA9IFtdOyAvLyB2ZXJpZnkgYWxsIGZpbGVzIGJlaW5nIGRyb3BwZWQgYXJlIHN1cHBvcnRlZAoKICAgICAgcHJlcGFyYXRpb246IGZvciAodmFyIGkgPSAwOyBpIDwgYWNjZXB0ZWRGaWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBmaWxlID0gYWNjZXB0ZWRGaWxlc1tpXTsKCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkcm9wSGFuZGxlcnMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChkcm9wSGFuZGxlcnNbal0uYWNjZXB0cyhmaWxlLnR5cGUpKSB7CiAgICAgICAgICAgIGZpbGVIYW5kbGVycy5wdXNoKGRyb3BIYW5kbGVyc1tqXSk7CiAgICAgICAgICAgIGNvbnRpbnVlIHByZXBhcmF0aW9uOwogICAgICAgICAgfQogICAgICAgIH0gLy8gaWYgd2UgZ2V0IGhlcmUgdGhlbiBhIGZpbGUgaXNuJ3QgaGFuZGxlZAoKCiAgICAgICAgc2V0SGFzVW5hY2NlcHRlZEl0ZW1zKHRydWUpOwogICAgICAgIHRvZ2dsZURyYWdnaW5nKGZhbHNlKTsKICAgICAgICB0b2dnbGVEcmFnZ2luZ0Vycm9yKGZhbHNlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRvZ2dsZVVwbG9hZGluZ0ZpbGVzKHRydWUpOwogICAgICB2YXIgcmVzb2x2ZWQgPSBbXTsKCiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGFjY2VwdGVkRmlsZXMubGVuZ3RoOyBfaTIrKykgewogICAgICAgIHZhciBfZmlsZSA9IGFjY2VwdGVkRmlsZXNbX2kyXTsKICAgICAgICB2YXIgaGFuZGxlciA9IGZpbGVIYW5kbGVyc1tfaTJdOwogICAgICAgIHJlc29sdmVkLnB1c2goaGFuZGxlci5nZXRGb3JtYXR0aW5nRm9ySXRlbShfZmlsZSkpOwogICAgICB9CgogICAgICBQcm9taXNlLmFsbChyZXNvbHZlZCkudGhlbihmdW5jdGlvbiAocmVzdWx0cykgewogICAgICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgdmFyIHRleHQgPSBfcmVmLnRleHQsCiAgICAgICAgICAgICAgY29uZmlnID0gX3JlZi5jb25maWc7CiAgICAgICAgICByZXR1cm4gaW5zZXJ0VGV4dCh0ZXh0LCBjb25maWcpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdG9nZ2xlRHJhZ2dpbmcoZmFsc2UpOwogICAgICAgIHRvZ2dsZVVwbG9hZGluZ0ZpbGVzKGZhbHNlKTsKICAgICAgICB0b2dnbGVEcmFnZ2luZ0Vycm9yKGZhbHNlKTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgICAgIGdldFJvb3RQcm9wcyA9IF91c2VEcm9wem9uZS5nZXRSb290UHJvcHMsCiAgICAgIGdldElucHV0UHJvcHMgPSBfdXNlRHJvcHpvbmUuZ2V0SW5wdXRQcm9wcywKICAgICAgb3BlbiA9IF91c2VEcm9wem9uZS5vcGVuOwoKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIF9leHRlbmRzKHt9LCBnZXRSb290UHJvcHMoKSwgewogICAgY2xhc3NOYW1lOiBjbGFzc2VzCiAgfSksIGNoaWxkcmVuLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlNYXJrZG93bkVkaXRvckZvb3RlciwgewogICAgcmVmOiBzZXRFZGl0b3JGb290ZXJSZWYsCiAgICB1aVBsdWdpbnM6IHVpUGx1Z2lucywKICAgIG9wZW5GaWxlczogZnVuY3Rpb24gb3BlbkZpbGVzKCkgewogICAgICBzZXRIYXNVbmFjY2VwdGVkSXRlbXMoZmFsc2UpOwogICAgICBvcGVuKCk7CiAgICB9LAogICAgaXNVcGxvYWRpbmdGaWxlczogaXNVcGxvYWRpbmdGaWxlcywKICAgIGhhc1VuYWNjZXB0ZWRJdGVtczogaGFzVW5hY2NlcHRlZEl0ZW1zLAogICAgZHJvcEhhbmRsZXJzOiBkcm9wSGFuZGxlcnMsCiAgICBlcnJvcnM6IGVycm9ycwogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaW5wdXQiLCBnZXRJbnB1dFByb3BzKCkpKTsKfTsKRXVpTWFya2Rvd25FZGl0b3JEcm9wWm9uZS5wcm9wVHlwZXMgPSB7CiAgdWlQbHVnaW5zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoewogICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogICAgYnV0dG9uOiBQcm9wVHlwZXMuc2hhcGUoewogICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogICAgICBpY29uVHlwZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFsiYWNjZXNzaWJpbGl0eSIsICJhZGREYXRhQXBwIiwgImFkdmFuY2VkU2V0dGluZ3NBcHAiLCAiYWdncmVnYXRlIiwgImFsZXJ0IiwgImFuYWx5emVFdmVudCIsICJhbm5vdGF0aW9uIiwgImFwbUFwcCIsICJhcG1UcmFjZSIsICJhcHBzIiwgImFwcFNlYXJjaEFwcCIsICJhcnJvd0Rvd24iLCAiYXJyb3dMZWZ0IiwgImFycm93UmlnaHQiLCAiYXJyb3dVcCIsICJhc3RlcmlzayIsICJhdWRpdGJlYXRBcHAiLCAiYmVha2VyIiwgImJlbGwiLCAiYmVsbFNsYXNoIiwgImJvbHQiLCAiYm94ZXNIb3Jpem9udGFsIiwgImJveGVzVmVydGljYWwiLCAiYnJhbmNoIiwgImJyb29tIiwgImJydXNoIiwgImJ1ZyIsICJidWxsc2V5ZSIsICJjYWxlbmRhciIsICJjYW52YXNBcHAiLCAiY29kZUFwcCIsICJjaGVjayIsICJjaGVja0luQ2lyY2xlRmlsbGVkIiwgImNoZWVyIiwgImNsYXNzaWZpY2F0aW9uSm9iIiwgImNsb2NrIiwgImNsb3VkRHJpenpsZSIsICJjbG91ZFN0b3JteSIsICJjbG91ZFN1bm55IiwgImNvbG9yIiwgImNvbXB1dGUiLCAiY29uc29sZSIsICJjb25zb2xlQXBwIiwgImNvbnRpbnVpdHlBYm92ZSIsICJjb250aW51aXR5QWJvdmVCZWxvdyIsICJjb250aW51aXR5QmVsb3ciLCAiY29udGludWl0eVdpdGhpbiIsICJjb250cm9sc0hvcml6b250YWwiLCAiY29udHJvbHNWZXJ0aWNhbCIsICJjb3B5IiwgImNvcHlDbGlwYm9hcmQiLCAiY3JlYXRlQWR2YW5jZWRKb2IiLCAiY3JlYXRlTXVsdGlNZXRyaWNKb2IiLCAiY3JlYXRlUG9wdWxhdGlvbkpvYiIsICJjcmVhdGVTaW5nbGVNZXRyaWNKb2IiLCAiY3Jvc3MiLCAiY3Jvc3NDbHVzdGVyUmVwbGljYXRpb25BcHAiLCAiY3Jvc3NoYWlycyIsICJjcm9zc0luQUNpcmNsZUZpbGxlZCIsICJjdXJyZW5jeSIsICJjdXQiLCAiZGFzaGJvYXJkQXBwIiwgImRhdGFiYXNlIiwgImRhdGFWaXN1YWxpemVyIiwgImRldlRvb2xzQXBwIiwgImRpc2NvdmVyQXBwIiwgImRvY3VtZW50IiwgImRvY3VtZW50YXRpb24iLCAiZG9jdW1lbnRFZGl0IiwgImRvY3VtZW50cyIsICJkb3QiLCAiZG93bmxvYWQiLCAiZWRpdG9yQWxpZ25DZW50ZXIiLCAiZWRpdG9yQWxpZ25MZWZ0IiwgImVkaXRvckFsaWduUmlnaHQiLCAiZWRpdG9yQm9sZCIsICJlZGl0b3JDb2RlQmxvY2siLCAiZWRpdG9yQ29tbWVudCIsICJlZGl0b3JEaXN0cmlidXRlSG9yaXpvbnRhbCIsICJlZGl0b3JEaXN0cmlidXRlVmVydGljYWwiLCAiZWRpdG9ySGVhZGluZyIsICJlZGl0b3JJdGFsaWMiLCAiZWRpdG9ySXRlbUFsaWduTGVmdCIsICJlZGl0b3JJdGVtQWxpZ25Cb3R0b20iLCAiZWRpdG9ySXRlbUFsaWduQ2VudGVyIiwgImVkaXRvckl0ZW1BbGlnbk1pZGRsZSIsICJlZGl0b3JJdGVtQWxpZ25SaWdodCIsICJlZGl0b3JJdGVtQWxpZ25Ub3AiLCAiZWRpdG9yTGluayIsICJlZGl0b3JPcmRlcmVkTGlzdCIsICJlZGl0b3JQb3NpdGlvbkJvdHRvbUxlZnQiLCAiZWRpdG9yUG9zaXRpb25Cb3R0b21SaWdodCIsICJlZGl0b3JQb3NpdGlvblRvcExlZnQiLCAiZWRpdG9yUG9zaXRpb25Ub3BSaWdodCIsICJlZGl0b3JSZWRvIiwgImVkaXRvclN0cmlrZSIsICJlZGl0b3JUYWJsZSIsICJlZGl0b3JVbmRlcmxpbmUiLCAiZWRpdG9yVW5kbyIsICJlZGl0b3JVbm9yZGVyZWRMaXN0IiwgImVtYWlsIiwgImVtcHR5IiwgImVtc0FwcCIsICJlcWwiLCAiZXJhc2VyIiwgImV4aXQiLCAiZXhwYW5kIiwgImV4cGFuZE1pbmkiLCAiZXhwb3J0QWN0aW9uIiwgImV5ZSIsICJleWVDbG9zZWQiLCAiZmFjZUhhcHB5IiwgImZhY2VOZXV0cmFsIiwgImZhY2VTYWQiLCAiZmlsZWJlYXRBcHAiLCAiZmlsdGVyIiwgImZsYWciLCAiZm9sZCIsICJmb2xkZXJDaGVjayIsICJmb2xkZXJDbG9zZWQiLCAiZm9sZGVyRXhjbGFtYXRpb24iLCAiZm9sZGVyT3BlbiIsICJmcmFtZU5leHQiLCAiZnJhbWVQcmV2aW91cyIsICJmdWxsU2NyZWVuIiwgImZ1bGxTY3JlZW5FeGl0IiwgImZ1bmN0aW9uIiwgImdlYXIiLCAiZ2lzQXBwIiwgImdsYXNzZXMiLCAiZ2xvYmUiLCAiZ3JhYiIsICJncmFiSG9yaXpvbnRhbCIsICJncmFwaEFwcCIsICJncmlkIiwgImdyb2tBcHAiLCAiaGVhcnQiLCAiaGVhcnRiZWF0QXBwIiwgImhlYXRtYXAiLCAiaGVscCIsICJob21lIiwgImlJbkNpcmNsZSIsICJpbWFnZSIsICJpbXBvcnRBY3Rpb24iLCAiaW5kZXhDbG9zZSIsICJpbmRleEVkaXQiLCAiaW5kZXhGbHVzaCIsICJpbmRleE1hbmFnZW1lbnRBcHAiLCAiaW5kZXhNYXBwaW5nIiwgImluZGV4T3BlbiIsICJpbmRleFBhdHRlcm5BcHAiLCAiaW5kZXhSb2xsdXBBcHAiLCAiaW5kZXhSdW50aW1lIiwgImluZGV4U2V0dGluZ3MiLCAiaW5wdXRPdXRwdXQiLCAiaW5zcGVjdCIsICJpbnZlcnQiLCAiaXAiLCAia2V5Ym9hcmRTaG9ydGN1dCIsICJrcWxGaWVsZCIsICJrcWxGdW5jdGlvbiIsICJrcWxPcGVyYW5kIiwgImtxbFNlbGVjdG9yIiwgImtxbFZhbHVlIiwgImxheWVycyIsICJsZW5zQXBwIiwgImxpbmsiLCAibGlzdCIsICJsaXN0QWRkIiwgImxvY2siLCAibG9ja09wZW4iLCAibG9nc0FwcCIsICJsb2dvQWVyb3NwaWtlIiwgImxvZ29BcGFjaGUiLCAibG9nb0FwcFNlYXJjaCIsICJsb2dvQVdTIiwgImxvZ29BV1NNb25vIiwgImxvZ29BenVyZSIsICJsb2dvQXp1cmVNb25vIiwgImxvZ29CZWF0cyIsICJsb2dvQnVzaW5lc3NBbmFseXRpY3MiLCAibG9nb0NlcGgiLCAibG9nb0Nsb3VkIiwgImxvZ29DbG91ZEVudGVycHJpc2UiLCAibG9nb0NvZGUiLCAibG9nb0NvZGVzYW5kYm94IiwgImxvZ29Db3VjaGJhc2UiLCAibG9nb0RvY2tlciIsICJsb2dvRHJvcHdpemFyZCIsICJsb2dvRWxhc3RpYyIsICJsb2dvRWxhc3RpY3NlYXJjaCIsICJsb2dvRWxhc3RpY1N0YWNrIiwgImxvZ29FbnRlcnByaXNlU2VhcmNoIiwgImxvZ29FdGNkIiwgImxvZ29HQ1AiLCAibG9nb0dDUE1vbm8iLCAibG9nb0dpdGh1YiIsICJsb2dvR21haWwiLCAibG9nb0dvbGFuZyIsICJsb2dvR29vZ2xlRyIsICJsb2dvSEFwcm94eSIsICJsb2dvSUJNIiwgImxvZ29JQk1Nb25vIiwgImxvZ29LYWZrYSIsICJsb2dvS2liYW5hIiwgImxvZ29LdWJlcm5ldGVzIiwgImxvZ29Mb2dnaW5nIiwgImxvZ29Mb2dzdGFzaCIsICJsb2dvTWFwcyIsICJsb2dvTWVtY2FjaGVkIiwgImxvZ29NZXRyaWNzIiwgImxvZ29Nb25nb2RiIiwgImxvZ29NeVNRTCIsICJsb2dvTmdpbngiLCAibG9nb09ic2VydmFiaWxpdHkiLCAibG9nb09zcXVlcnkiLCAibG9nb1BocCIsICJsb2dvUG9zdGdyZXMiLCAibG9nb1Byb21ldGhldXMiLCAibG9nb1JhYmJpdG1xIiwgImxvZ29SZWRpcyIsICJsb2dvU2VjdXJpdHkiLCAibG9nb1NpdGVTZWFyY2giLCAibG9nb1NrZXRjaCIsICJsb2dvU2xhY2siLCAibG9nb1VwdGltZSIsICJsb2dvV2ViaG9vayIsICJsb2dvV2luZG93cyIsICJsb2dvV29ya3BsYWNlU2VhcmNoIiwgImxvZ3N0YXNoRmlsdGVyIiwgImxvZ3N0YXNoSWYiLCAibG9nc3Rhc2hJbnB1dCIsICJsb2dzdGFzaE91dHB1dCIsICJsb2dzdGFzaFF1ZXVlIiwgIm1hY2hpbmVMZWFybmluZ0FwcCIsICJtYWduZXQiLCAibWFnbmlmeVdpdGhNaW51cyIsICJtYWduaWZ5V2l0aFBsdXMiLCAibWFuYWdlbWVudEFwcCIsICJtYXBNYXJrZXIiLCAibWVtb3J5IiwgIm1lbnUiLCAibWVudURvd24iLCAibWVudUxlZnQiLCAibWVudVJpZ2h0IiwgIm1lbnVVcCIsICJtZXJnZSIsICJtZXRyaWNiZWF0QXBwIiwgIm1ldHJpY3NBcHAiLCAibWluaW1pemUiLCAibWludXMiLCAibWludXNJbkNpcmNsZSIsICJtaW51c0luQ2lyY2xlRmlsbGVkIiwgIm1vYmlsZSIsICJtb25pdG9yaW5nQXBwIiwgIm1vb24iLCAibmVzdGVkIiwgIm5vZGUiLCAibm90ZWJvb2tBcHAiLCAibnVtYmVyIiwgIm9mZmxpbmUiLCAib25saW5lIiwgIm91dGxpZXJEZXRlY3Rpb25Kb2IiLCAicGFja2FnZSIsICJwYWNrZXRiZWF0QXBwIiwgInBhZ2VTZWxlY3QiLCAicGFnZXNTZWxlY3QiLCAicGFydGlhbCIsICJwYXBlckNsaXAiLCAicGF1c2UiLCAicGVuY2lsIiwgInBlcmNlbnQiLCAicGluIiwgInBpbkZpbGxlZCIsICJwaXBlbGluZUFwcCIsICJwbGF5IiwgInBsYXlGaWxsZWQiLCAicGx1cyIsICJwbHVzSW5DaXJjbGUiLCAicGx1c0luQ2lyY2xlRmlsbGVkIiwgInBvcG91dCIsICJwdXNoIiwgInF1ZXN0aW9uSW5DaXJjbGUiLCAicXVvdGUiLCAicmVjZW50bHlWaWV3ZWRBcHAiLCAicmVmcmVzaCIsICJyZWdyZXNzaW9uSm9iIiwgInJlcG9ydGVyIiwgInJlcG9ydGluZ0FwcCIsICJyZXR1cm5LZXkiLCAic2F2ZSIsICJzYXZlZE9iamVjdHNBcHAiLCAic2NhbGUiLCAic2VhcmNoIiwgInNlYXJjaFByb2ZpbGVyQXBwIiwgInNlY3VyaXR5QW5hbHl0aWNzQXBwIiwgInNlY3VyaXR5QXBwIiwgInNlY3VyaXR5U2lnbmFsIiwgInNlY3VyaXR5U2lnbmFsRGV0ZWN0ZWQiLCAic2VjdXJpdHlTaWduYWxSZXNvbHZlZCIsICJzaGFyZCIsICJzaGFyZSIsICJzbm93Zmxha2UiLCAic29ydGFibGUiLCAic29ydERvd24iLCAic29ydExlZnQiLCAic29ydFJpZ2h0IiwgInNvcnRVcCIsICJzcGFjZXNBcHAiLCAic3FsQXBwIiwgInN0YXJFbXB0eSIsICJzdGFyRW1wdHlTcGFjZSIsICJzdGFyRmlsbGVkIiwgInN0YXJGaWxsZWRTcGFjZSIsICJzdGFyTWludXNFbXB0eSIsICJzdGFyTWludXNGaWxsZWQiLCAic3RhclBsdXNFbXB0eSIsICJzdGFyUGx1c0ZpbGxlZCIsICJzdGF0cyIsICJzdG9wIiwgInN0b3BGaWxsZWQiLCAic3RvcFNsYXNoIiwgInN0b3JhZ2UiLCAic3RyaW5nIiwgInN1Ym1vZHVsZSIsICJzd2F0Y2hJbnB1dCIsICJzeW1saW5rIiwgInRhYmxlT2ZDb250ZW50cyIsICJ0YWJsZURlbnNpdHlFeHBhbmRlZCIsICJ0YWJsZURlbnNpdHlDb21wYWN0IiwgInRhYmxlRGVuc2l0eU5vcm1hbCIsICJ0YWciLCAidGVhciIsICJ0ZW1wZXJhdHVyZSIsICJ0aW1lbGluZSIsICJ0aW1lbGlvbkFwcCIsICJ0aW1lc2xpZGVyIiwgInRyYWluaW5nIiwgInRyYXNoIiwgInVwZ3JhZGVBc3Npc3RhbnRBcHAiLCAidXB0aW1lQXBwIiwgInVuZm9sZCIsICJ1bmxpbmsiLCAidXNlciIsICJ1c2VycyIsICJ1c2Vyc1JvbGVzQXBwIiwgInZlY3RvciIsICJ2aWRlb1BsYXllciIsICJ2aXNBcmVhIiwgInZpc0FyZWFTdGFja2VkIiwgInZpc0Jhckhvcml6b250YWwiLCAidmlzQmFySG9yaXpvbnRhbFN0YWNrZWQiLCAidmlzQmFyVmVydGljYWwiLCAidmlzQmFyVmVydGljYWxTdGFja2VkIiwgInZpc0dhdWdlIiwgInZpc0dvYWwiLCAidmlzTGluZSIsICJ2aXNNYXBDb29yZGluYXRlIiwgInZpc01hcFJlZ2lvbiIsICJ2aXNNZXRyaWMiLCAidmlzUGllIiwgInZpc1RhYmxlIiwgInZpc1RhZ0Nsb3VkIiwgInZpc1RleHQiLCAidmlzVGltZWxpb24iLCAidmlzdWFsaXplQXBwIiwgInZpc1ZlZ2EiLCAidmlzVmlzdWFsQnVpbGRlciIsICJ3YXRjaGVzQXBwIiwgIndvcmRXcmFwIiwgIndvcmRXcmFwRGlzYWJsZWQiLCAid29ya3BsYWNlU2VhcmNoQXBwIiwgIndyZW5jaCIsICJ0b2tlbkNsYXNzIiwgInRva2VuUHJvcGVydHkiLCAidG9rZW5FbnVtIiwgInRva2VuVmFyaWFibGUiLCAidG9rZW5NZXRob2QiLCAidG9rZW5Bbm5vdGF0aW9uIiwgInRva2VuRXhjZXB0aW9uIiwgInRva2VuSW50ZXJmYWNlIiwgInRva2VuUGFyYW1ldGVyIiwgInRva2VuRmllbGQiLCAidG9rZW5FbGVtZW50IiwgInRva2VuRnVuY3Rpb24iLCAidG9rZW5Cb29sZWFuIiwgInRva2VuU3RyaW5nIiwgInRva2VuQXJyYXkiLCAidG9rZW5OdW1iZXIiLCAidG9rZW5Db25zdGFudCIsICJ0b2tlbk9iamVjdCIsICJ0b2tlbkV2ZW50IiwgInRva2VuS2V5IiwgInRva2VuTnVsbCIsICJ0b2tlblN0cnVjdCIsICJ0b2tlblBhY2thZ2UiLCAidG9rZW5PcGVyYXRvciIsICJ0b2tlbkVudW1NZW1iZXIiLCAidG9rZW5SZXBvIiwgInRva2VuU3ltYm9sIiwgInRva2VuRmlsZSIsICJ0b2tlbk1vZHVsZSIsICJ0b2tlbk5hbWVzcGFjZSIsICJ0b2tlbkRhdGUiLCAidG9rZW5JUCIsICJ0b2tlbk5lc3RlZCIsICJ0b2tlbkFsaWFzIiwgInRva2VuU2hhcGUiLCAidG9rZW5HZW8iLCAidG9rZW5SYW5nZSIsICJ0b2tlbkJpbmFyeSIsICJ0b2tlbkpvaW4iLCAidG9rZW5QZXJjb2xhdG9yIiwgInRva2VuRmxhdHRlbmVkIiwgInRva2VuUmFua0ZlYXR1cmUiLCAidG9rZW5SYW5rRmVhdHVyZXMiLCAidG9rZW5LZXl3b3JkIiwgInRva2VuQ29tcGxldGlvblN1Z2dlc3RlciIsICJ0b2tlbkRlbnNlVmVjdG9yIiwgInRva2VuVGV4dCIsICJ0b2tlblRva2VuQ291bnQiLCAidG9rZW5TZWFyY2hUeXBlIiwgInRva2VuSGlzdG9ncmFtIl0pLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgUHJvcFR5cGVzLmVsZW1lbnRUeXBlLmlzUmVxdWlyZWRdKS5pc1JlcXVpcmVkCiAgICB9KS5pc1JlcXVpcmVkLAogICAgaGVscFRleHQ6IFByb3BUeXBlcy5ub2RlLAogICAgZm9ybWF0dGluZzogUHJvcFR5cGVzLnNoYXBlKHsKICAgICAgcHJlZml4OiBQcm9wVHlwZXMuc3RyaW5nLAogICAgICBzdWZmaXg6IFByb3BUeXBlcy5zdHJpbmcsCiAgICAgIGJsb2NrUHJlZml4OiBQcm9wVHlwZXMuc3RyaW5nLAogICAgICBibG9ja1N1ZmZpeDogUHJvcFR5cGVzLnN0cmluZywKICAgICAgbXVsdGlsaW5lOiBQcm9wVHlwZXMuYm9vbCwKICAgICAgcmVwbGFjZU5leHQ6IFByb3BUeXBlcy5zdHJpbmcsCiAgICAgIHByZWZpeFNwYWNlOiBQcm9wVHlwZXMuYm9vbCwKICAgICAgc2NhbkZvcjogUHJvcFR5cGVzLnN0cmluZywKICAgICAgc3Vycm91bmRXaXRoTmV3bGluZXM6IFByb3BUeXBlcy5ib29sLAogICAgICBvcmRlcmVkTGlzdDogUHJvcFR5cGVzLmJvb2wsCiAgICAgIHRyaW1GaXJzdDogUHJvcFR5cGVzLmJvb2wKICAgIH0pLAogICAgZWRpdG9yOiBQcm9wVHlwZXMuZWxlbWVudFR5cGUKICB9KS5pc1JlcXVpcmVkKS5pc1JlcXVpcmVkLAogIGVycm9yczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLCBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsIFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZF0pLmlzUmVxdWlyZWQpLmlzUmVxdWlyZWQsCiAgZHJvcEhhbmRsZXJzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoewogICAgc3VwcG9ydGVkRmlsZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCkuaXNSZXF1aXJlZCwKICAgIGFjY2VwdHM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgICBnZXRGb3JtYXR0aW5nRm9ySXRlbTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZAogIH0pLmlzUmVxdWlyZWQpLmlzUmVxdWlyZWQsCiAgaW5zZXJ0VGV4dDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICBoYXNVbmFjY2VwdGVkSXRlbXM6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsCiAgc2V0SGFzVW5hY2NlcHRlZEl0ZW1zOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogIHNldEVkaXRvckZvb3RlckhlaWdodDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICBpc0VkaXRpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQKfTsKCnRyeSB7CiAgRXVpTWFya2Rvd25FZGl0b3JEcm9wWm9uZS5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ0V1aU1hcmtkb3duRWRpdG9yRHJvcFpvbmUnLAogICAgbWV0aG9kczogW10sCiAgICBwcm9wczogewogICAgICB1aVBsdWdpbnM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICd1aVBsdWdpbnMnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvbWFya2Rvd25fZWRpdG9yL21hcmtkb3duX2VkaXRvcl9kcm9wX3pvbmUudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlNYXJrZG93bkVkaXRvckRyb3Bab25lUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnRXVpTWFya2Rvd25FZGl0b3JVaVBsdWdpbjxhbnk+W10nCiAgICAgICAgfQogICAgICB9LAogICAgICBlcnJvcnM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdlcnJvcnMnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvbWFya2Rvd25fZWRpdG9yL21hcmtkb3duX2VkaXRvcl9kcm9wX3pvbmUudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlNYXJrZG93bkVkaXRvckRyb3Bab25lUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnRXVpTWFya2Rvd25QYXJzZUVycm9yW10nCiAgICAgICAgfQogICAgICB9LAogICAgICBkcm9wSGFuZGxlcnM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdkcm9wSGFuZGxlcnMnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvbWFya2Rvd25fZWRpdG9yL21hcmtkb3duX2VkaXRvcl9kcm9wX3pvbmUudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlNYXJrZG93bkVkaXRvckRyb3Bab25lUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnRXVpTWFya2Rvd25Ecm9wSGFuZGxlcltdJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5zZXJ0VGV4dDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2luc2VydFRleHQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvbWFya2Rvd25fZWRpdG9yL21hcmtkb3duX2VkaXRvcl9kcm9wX3pvbmUudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlNYXJrZG93bkVkaXRvckRyb3Bab25lUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnKHRleHQ6IHN0cmluZywgY29uZmlnOiBFdWlNYXJrZG93blN0cmluZ1RhZ0NvbmZpZykgPT4gdm9pZCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhhc1VuYWNjZXB0ZWRJdGVtczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2hhc1VuYWNjZXB0ZWRJdGVtcycsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9tYXJrZG93bl9lZGl0b3IvbWFya2Rvd25fZWRpdG9yX2Ryb3Bfem9uZS50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aU1hcmtkb3duRWRpdG9yRHJvcFpvbmVQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2V0SGFzVW5hY2NlcHRlZEl0ZW1zOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnc2V0SGFzVW5hY2NlcHRlZEl0ZW1zJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL21hcmtkb3duX2VkaXRvci9tYXJrZG93bl9lZGl0b3JfZHJvcF96b25lLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpTWFya2Rvd25FZGl0b3JEcm9wWm9uZVByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJyhoYXNVbmFjY2VwdGVkSXRlbXM6IGJvb2xlYW4pID0+IHZvaWQnCiAgICAgICAgfQogICAgICB9LAogICAgICBzZXRFZGl0b3JGb290ZXJIZWlnaHQ6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdzZXRFZGl0b3JGb290ZXJIZWlnaHQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvbWFya2Rvd25fZWRpdG9yL21hcmtkb3duX2VkaXRvcl9kcm9wX3pvbmUudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlNYXJrZG93bkVkaXRvckRyb3Bab25lUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnKGhlaWdodDogbnVtYmVyKSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaXNFZGl0aW5nOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnaXNFZGl0aW5nJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL21hcmtkb3duX2VkaXRvci9tYXJrZG93bl9lZGl0b3JfZHJvcF96b25lLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpTWFya2Rvd25FZGl0b3JEcm9wWm9uZVByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZXh0ZW5kZWRJbnRlcmZhY2VzOiBbJ0V1aU1hcmtkb3duRWRpdG9yRHJvcFpvbmVQcm9wcyddCiAgfTsKfSBjYXRjaCAoZSkge30="},{"version":3,"sources":["D:/work/eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx"],"names":["React","useEffect","classNames","useDropzone","EuiMarkdownEditorFooter","useResizeObserver","getUnacceptedItems","items","dropHandlers","unacceptedItems","i","length","item","isAccepted","j","accepts","type","push","EuiMarkdownEditorDropZone","props","useState","isDragging","toggleDragging","isUploadingFiles","toggleUploadingFiles","isDraggingError","toggleDraggingError","children","uiPlugins","errors","insertText","hasUnacceptedItems","setHasUnacceptedItems","setEditorFooterHeight","isEditing","classes","editorFooterRef","setEditorFooterRef","editorFooterHeight","height","disabled","noClick","noKeyboard","onDragOver","e","result","dataTransfer","preventDefault","onDragEnter","onDragLeave","onDrop","acceptedFiles","fileHandlers","preparation","file","resolved","handler","getFormattingForItem","Promise","all","then","results","forEach","text","config","catch","getRootProps","getInputProps","open"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport { useDropzone } from 'react-dropzone';\nimport { EuiMarkdownEditorFooter } from './markdown_editor_footer';\nimport { useResizeObserver } from '../observer/resize_observer';\n\nvar getUnacceptedItems = function getUnacceptedItems(items, dropHandlers) {\n  var unacceptedItems = [];\n\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    var isAccepted = false;\n\n    for (var j = 0; j < dropHandlers.length; j++) {\n      if (dropHandlers[j].accepts(item.type)) {\n        isAccepted = true;\n        break;\n      }\n    }\n\n    if (!isAccepted) {\n      unacceptedItems.push(item);\n    }\n  }\n\n  return unacceptedItems;\n};\n\nexport var EuiMarkdownEditorDropZone = props => {\n  const [isDragging, toggleDragging] = React.useState(false);\n  const [isUploadingFiles, toggleUploadingFiles] = React.useState(false);\n  const [isDraggingError, toggleDraggingError] = React.useState(false);\n  const {\n    children,\n    uiPlugins,\n    errors,\n    dropHandlers,\n    insertText,\n    hasUnacceptedItems,\n    setHasUnacceptedItems,\n    setEditorFooterHeight,\n    isEditing\n  } = props;\n  const classes = classNames('euiMarkdownEditorDropZone', {\n    'euiMarkdownEditorDropZone--isDragging': isDragging,\n    'euiMarkdownEditorDropZone--hasError': hasUnacceptedItems,\n    'euiMarkdownEditorDropZone--isDraggingError': isDraggingError\n  });\n  const [editorFooterRef, setEditorFooterRef] = React.useState(null);\n  const {\n    height: editorFooterHeight\n  } = useResizeObserver(editorFooterRef, 'height');\n  useEffect(() => {\n    if (editorFooterHeight !== 0) {\n      setEditorFooterHeight(editorFooterHeight);\n    }\n  }, [setEditorFooterHeight, isEditing, editorFooterHeight]);\n  const {\n    getRootProps,\n    getInputProps,\n    open\n  } = useDropzone({\n    disabled: dropHandlers.length === 0,\n    // Disable click and keydown behavior\n    noClick: true,\n    noKeyboard: true,\n    // multiple: false,\n    onDragOver: e => {\n      let result;\n\n      if (e.dataTransfer) {\n        const unacceptedItems = getUnacceptedItems(e.dataTransfer.items, dropHandlers);\n        setHasUnacceptedItems(unacceptedItems.length > 0);\n        toggleDraggingError(unacceptedItems.length > 0);\n        result = unacceptedItems.length === 0;\n      } else {\n        setHasUnacceptedItems(false);\n        result = false;\n      }\n\n      toggleDragging(result);\n\n      if (result === false) {\n        e.preventDefault();\n      }\n\n      return result;\n    },\n    onDragEnter: e => {\n      let result;\n\n      if (e.dataTransfer) {\n        const unacceptedItems = getUnacceptedItems(e.dataTransfer.items, dropHandlers);\n        setHasUnacceptedItems(unacceptedItems.length > 0);\n        toggleDraggingError(unacceptedItems.length > 0);\n        result = unacceptedItems.length === 0;\n      } else {\n        setHasUnacceptedItems(false);\n        result = false;\n      }\n\n      toggleDragging(result);\n\n      if (result === false) {\n        e.preventDefault();\n      }\n\n      return result;\n    },\n    onDragLeave: () => {\n      toggleDragging(false);\n    },\n    onDrop: acceptedFiles => {\n      const fileHandlers = []; // verify all files being dropped are supported\n\n      preparation: for (let i = 0; i < acceptedFiles.length; i++) {\n        const file = acceptedFiles[i];\n\n        for (let j = 0; j < dropHandlers.length; j++) {\n          if (dropHandlers[j].accepts(file.type)) {\n            fileHandlers.push(dropHandlers[j]);\n            continue preparation;\n          }\n        } // if we get here then a file isn't handled\n\n\n        setHasUnacceptedItems(true);\n        toggleDragging(false);\n        toggleDraggingError(false);\n        return;\n      }\n\n      toggleUploadingFiles(true);\n      const resolved = [];\n\n      for (let i = 0; i < acceptedFiles.length; i++) {\n        const file = acceptedFiles[i];\n        const handler = fileHandlers[i];\n        resolved.push(handler.getFormattingForItem(file));\n      }\n\n      Promise.all(resolved).then(results => {\n        results.forEach(({\n          text,\n          config\n        }) => insertText(text, config));\n      }).catch(() => {}).then(() => {\n        toggleDragging(false);\n        toggleUploadingFiles(false);\n        toggleDraggingError(false);\n      });\n    }\n  });\n  return <div {...getRootProps()} className={classes}>\n      {children}\n      <EuiMarkdownEditorFooter ref={setEditorFooterRef} uiPlugins={uiPlugins} openFiles={() => {\n      setHasUnacceptedItems(false);\n      open();\n    }} isUploadingFiles={isUploadingFiles} hasUnacceptedItems={hasUnacceptedItems} dropHandlers={dropHandlers} errors={errors} />\n      <input {...getInputProps()} />\n    </div>;\n};\nEuiMarkdownEditorDropZone.propTypes = {\n  uiPlugins: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    button: PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      iconType: PropTypes.oneOfType([PropTypes.oneOf([\"accessibility\", \"addDataApp\", \"advancedSettingsApp\", \"aggregate\", \"alert\", \"analyzeEvent\", \"annotation\", \"apmApp\", \"apmTrace\", \"apps\", \"appSearchApp\", \"arrowDown\", \"arrowLeft\", \"arrowRight\", \"arrowUp\", \"asterisk\", \"auditbeatApp\", \"beaker\", \"bell\", \"bellSlash\", \"bolt\", \"boxesHorizontal\", \"boxesVertical\", \"branch\", \"broom\", \"brush\", \"bug\", \"bullseye\", \"calendar\", \"canvasApp\", \"codeApp\", \"check\", \"checkInCircleFilled\", \"cheer\", \"classificationJob\", \"clock\", \"cloudDrizzle\", \"cloudStormy\", \"cloudSunny\", \"color\", \"compute\", \"console\", \"consoleApp\", \"continuityAbove\", \"continuityAboveBelow\", \"continuityBelow\", \"continuityWithin\", \"controlsHorizontal\", \"controlsVertical\", \"copy\", \"copyClipboard\", \"createAdvancedJob\", \"createMultiMetricJob\", \"createPopulationJob\", \"createSingleMetricJob\", \"cross\", \"crossClusterReplicationApp\", \"crosshairs\", \"crossInACircleFilled\", \"currency\", \"cut\", \"dashboardApp\", \"database\", \"dataVisualizer\", \"devToolsApp\", \"discoverApp\", \"document\", \"documentation\", \"documentEdit\", \"documents\", \"dot\", \"download\", \"editorAlignCenter\", \"editorAlignLeft\", \"editorAlignRight\", \"editorBold\", \"editorCodeBlock\", \"editorComment\", \"editorDistributeHorizontal\", \"editorDistributeVertical\", \"editorHeading\", \"editorItalic\", \"editorItemAlignLeft\", \"editorItemAlignBottom\", \"editorItemAlignCenter\", \"editorItemAlignMiddle\", \"editorItemAlignRight\", \"editorItemAlignTop\", \"editorLink\", \"editorOrderedList\", \"editorPositionBottomLeft\", \"editorPositionBottomRight\", \"editorPositionTopLeft\", \"editorPositionTopRight\", \"editorRedo\", \"editorStrike\", \"editorTable\", \"editorUnderline\", \"editorUndo\", \"editorUnorderedList\", \"email\", \"empty\", \"emsApp\", \"eql\", \"eraser\", \"exit\", \"expand\", \"expandMini\", \"exportAction\", \"eye\", \"eyeClosed\", \"faceHappy\", \"faceNeutral\", \"faceSad\", \"filebeatApp\", \"filter\", \"flag\", \"fold\", \"folderCheck\", \"folderClosed\", \"folderExclamation\", \"folderOpen\", \"frameNext\", \"framePrevious\", \"fullScreen\", \"fullScreenExit\", \"function\", \"gear\", \"gisApp\", \"glasses\", \"globe\", \"grab\", \"grabHorizontal\", \"graphApp\", \"grid\", \"grokApp\", \"heart\", \"heartbeatApp\", \"heatmap\", \"help\", \"home\", \"iInCircle\", \"image\", \"importAction\", \"indexClose\", \"indexEdit\", \"indexFlush\", \"indexManagementApp\", \"indexMapping\", \"indexOpen\", \"indexPatternApp\", \"indexRollupApp\", \"indexRuntime\", \"indexSettings\", \"inputOutput\", \"inspect\", \"invert\", \"ip\", \"keyboardShortcut\", \"kqlField\", \"kqlFunction\", \"kqlOperand\", \"kqlSelector\", \"kqlValue\", \"layers\", \"lensApp\", \"link\", \"list\", \"listAdd\", \"lock\", \"lockOpen\", \"logsApp\", \"logoAerospike\", \"logoApache\", \"logoAppSearch\", \"logoAWS\", \"logoAWSMono\", \"logoAzure\", \"logoAzureMono\", \"logoBeats\", \"logoBusinessAnalytics\", \"logoCeph\", \"logoCloud\", \"logoCloudEnterprise\", \"logoCode\", \"logoCodesandbox\", \"logoCouchbase\", \"logoDocker\", \"logoDropwizard\", \"logoElastic\", \"logoElasticsearch\", \"logoElasticStack\", \"logoEnterpriseSearch\", \"logoEtcd\", \"logoGCP\", \"logoGCPMono\", \"logoGithub\", \"logoGmail\", \"logoGolang\", \"logoGoogleG\", \"logoHAproxy\", \"logoIBM\", \"logoIBMMono\", \"logoKafka\", \"logoKibana\", \"logoKubernetes\", \"logoLogging\", \"logoLogstash\", \"logoMaps\", \"logoMemcached\", \"logoMetrics\", \"logoMongodb\", \"logoMySQL\", \"logoNginx\", \"logoObservability\", \"logoOsquery\", \"logoPhp\", \"logoPostgres\", \"logoPrometheus\", \"logoRabbitmq\", \"logoRedis\", \"logoSecurity\", \"logoSiteSearch\", \"logoSketch\", \"logoSlack\", \"logoUptime\", \"logoWebhook\", \"logoWindows\", \"logoWorkplaceSearch\", \"logstashFilter\", \"logstashIf\", \"logstashInput\", \"logstashOutput\", \"logstashQueue\", \"machineLearningApp\", \"magnet\", \"magnifyWithMinus\", \"magnifyWithPlus\", \"managementApp\", \"mapMarker\", \"memory\", \"menu\", \"menuDown\", \"menuLeft\", \"menuRight\", \"menuUp\", \"merge\", \"metricbeatApp\", \"metricsApp\", \"minimize\", \"minus\", \"minusInCircle\", \"minusInCircleFilled\", \"mobile\", \"monitoringApp\", \"moon\", \"nested\", \"node\", \"notebookApp\", \"number\", \"offline\", \"online\", \"outlierDetectionJob\", \"package\", \"packetbeatApp\", \"pageSelect\", \"pagesSelect\", \"partial\", \"paperClip\", \"pause\", \"pencil\", \"percent\", \"pin\", \"pinFilled\", \"pipelineApp\", \"play\", \"playFilled\", \"plus\", \"plusInCircle\", \"plusInCircleFilled\", \"popout\", \"push\", \"questionInCircle\", \"quote\", \"recentlyViewedApp\", \"refresh\", \"regressionJob\", \"reporter\", \"reportingApp\", \"returnKey\", \"save\", \"savedObjectsApp\", \"scale\", \"search\", \"searchProfilerApp\", \"securityAnalyticsApp\", \"securityApp\", \"securitySignal\", \"securitySignalDetected\", \"securitySignalResolved\", \"shard\", \"share\", \"snowflake\", \"sortable\", \"sortDown\", \"sortLeft\", \"sortRight\", \"sortUp\", \"spacesApp\", \"sqlApp\", \"starEmpty\", \"starEmptySpace\", \"starFilled\", \"starFilledSpace\", \"starMinusEmpty\", \"starMinusFilled\", \"starPlusEmpty\", \"starPlusFilled\", \"stats\", \"stop\", \"stopFilled\", \"stopSlash\", \"storage\", \"string\", \"submodule\", \"swatchInput\", \"symlink\", \"tableOfContents\", \"tableDensityExpanded\", \"tableDensityCompact\", \"tableDensityNormal\", \"tag\", \"tear\", \"temperature\", \"timeline\", \"timelionApp\", \"timeslider\", \"training\", \"trash\", \"upgradeAssistantApp\", \"uptimeApp\", \"unfold\", \"unlink\", \"user\", \"users\", \"usersRolesApp\", \"vector\", \"videoPlayer\", \"visArea\", \"visAreaStacked\", \"visBarHorizontal\", \"visBarHorizontalStacked\", \"visBarVertical\", \"visBarVerticalStacked\", \"visGauge\", \"visGoal\", \"visLine\", \"visMapCoordinate\", \"visMapRegion\", \"visMetric\", \"visPie\", \"visTable\", \"visTagCloud\", \"visText\", \"visTimelion\", \"visualizeApp\", \"visVega\", \"visVisualBuilder\", \"watchesApp\", \"wordWrap\", \"wordWrapDisabled\", \"workplaceSearchApp\", \"wrench\", \"tokenClass\", \"tokenProperty\", \"tokenEnum\", \"tokenVariable\", \"tokenMethod\", \"tokenAnnotation\", \"tokenException\", \"tokenInterface\", \"tokenParameter\", \"tokenField\", \"tokenElement\", \"tokenFunction\", \"tokenBoolean\", \"tokenString\", \"tokenArray\", \"tokenNumber\", \"tokenConstant\", \"tokenObject\", \"tokenEvent\", \"tokenKey\", \"tokenNull\", \"tokenStruct\", \"tokenPackage\", \"tokenOperator\", \"tokenEnumMember\", \"tokenRepo\", \"tokenSymbol\", \"tokenFile\", \"tokenModule\", \"tokenNamespace\", \"tokenDate\", \"tokenIP\", \"tokenNested\", \"tokenAlias\", \"tokenShape\", \"tokenGeo\", \"tokenRange\", \"tokenBinary\", \"tokenJoin\", \"tokenPercolator\", \"tokenFlattened\", \"tokenRankFeature\", \"tokenRankFeatures\", \"tokenKeyword\", \"tokenCompletionSuggester\", \"tokenDenseVector\", \"tokenText\", \"tokenTokenCount\", \"tokenSearchType\", \"tokenHistogram\"]).isRequired, PropTypes.string.isRequired, PropTypes.elementType.isRequired]).isRequired\n    }).isRequired,\n    helpText: PropTypes.node,\n    formatting: PropTypes.shape({\n      prefix: PropTypes.string,\n      suffix: PropTypes.string,\n      blockPrefix: PropTypes.string,\n      blockSuffix: PropTypes.string,\n      multiline: PropTypes.bool,\n      replaceNext: PropTypes.string,\n      prefixSpace: PropTypes.bool,\n      scanFor: PropTypes.string,\n      surroundWithNewlines: PropTypes.bool,\n      orderedList: PropTypes.bool,\n      trimFirst: PropTypes.bool\n    }),\n    editor: PropTypes.elementType\n  }).isRequired).isRequired,\n  errors: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.any.isRequired, PropTypes.any.isRequired]).isRequired).isRequired,\n  dropHandlers: PropTypes.arrayOf(PropTypes.shape({\n    supportedFiles: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n    accepts: PropTypes.func.isRequired,\n    getFormattingForItem: PropTypes.func.isRequired\n  }).isRequired).isRequired,\n  insertText: PropTypes.func.isRequired,\n  hasUnacceptedItems: PropTypes.bool.isRequired,\n  setHasUnacceptedItems: PropTypes.func.isRequired,\n  setEditorFooterHeight: PropTypes.func.isRequired,\n  isEditing: PropTypes.bool.isRequired\n};\n\ntry {\n  EuiMarkdownEditorDropZone.__docgenInfo = {\n    description: '',\n    displayName: 'EuiMarkdownEditorDropZone',\n    methods: [],\n    props: {\n      uiPlugins: {\n        defaultValue: null,\n        description: '',\n        name: 'uiPlugins',\n        parent: {\n          fileName: 'eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx',\n          name: 'EuiMarkdownEditorDropZoneProps'\n        },\n        required: true,\n        type: {\n          name: 'EuiMarkdownEditorUiPlugin<any>[]'\n        }\n      },\n      errors: {\n        defaultValue: null,\n        description: '',\n        name: 'errors',\n        parent: {\n          fileName: 'eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx',\n          name: 'EuiMarkdownEditorDropZoneProps'\n        },\n        required: true,\n        type: {\n          name: 'EuiMarkdownParseError[]'\n        }\n      },\n      dropHandlers: {\n        defaultValue: null,\n        description: '',\n        name: 'dropHandlers',\n        parent: {\n          fileName: 'eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx',\n          name: 'EuiMarkdownEditorDropZoneProps'\n        },\n        required: true,\n        type: {\n          name: 'EuiMarkdownDropHandler[]'\n        }\n      },\n      insertText: {\n        defaultValue: null,\n        description: '',\n        name: 'insertText',\n        parent: {\n          fileName: 'eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx',\n          name: 'EuiMarkdownEditorDropZoneProps'\n        },\n        required: true,\n        type: {\n          name: '(text: string, config: EuiMarkdownStringTagConfig) => void'\n        }\n      },\n      hasUnacceptedItems: {\n        defaultValue: null,\n        description: '',\n        name: 'hasUnacceptedItems',\n        parent: {\n          fileName: 'eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx',\n          name: 'EuiMarkdownEditorDropZoneProps'\n        },\n        required: true,\n        type: {\n          name: 'boolean'\n        }\n      },\n      setHasUnacceptedItems: {\n        defaultValue: null,\n        description: '',\n        name: 'setHasUnacceptedItems',\n        parent: {\n          fileName: 'eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx',\n          name: 'EuiMarkdownEditorDropZoneProps'\n        },\n        required: true,\n        type: {\n          name: '(hasUnacceptedItems: boolean) => void'\n        }\n      },\n      setEditorFooterHeight: {\n        defaultValue: null,\n        description: '',\n        name: 'setEditorFooterHeight',\n        parent: {\n          fileName: 'eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx',\n          name: 'EuiMarkdownEditorDropZoneProps'\n        },\n        required: true,\n        type: {\n          name: '(height: number) => void'\n        }\n      },\n      isEditing: {\n        defaultValue: null,\n        description: '',\n        name: 'isEditing',\n        parent: {\n          fileName: 'eui/src/components/markdown_editor/markdown_editor_drop_zone.tsx',\n          name: 'EuiMarkdownEditorDropZoneProps'\n        },\n        required: true,\n        type: {\n          name: 'boolean'\n        }\n      }\n    },\n    extendedInterfaces: ['EuiMarkdownEditorDropZoneProps']\n  };\n} catch (e) {}"]}]}