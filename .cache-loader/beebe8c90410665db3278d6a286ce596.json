{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\color_picker\\utils.ts","dependencies":[{"path":"D:\\work\\eui\\src\\components\\color_picker\\utils.ts","mtime":1649070093339},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgovKgogKiBMaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lIG9yIG1vcmUgY29udHJpYnV0b3IKICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRSBmaWxlIGRpc3RyaWJ1dGVkIHdpdGgKICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHQKICogb3duZXJzaGlwLiBFbGFzdGljc2VhcmNoIEIuVi4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlcgogKiB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heQogKiBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KICogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQogKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiAqIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KaW1wb3J0IGNocm9tYSBmcm9tICdjaHJvbWEtanMnOwpleHBvcnQgdmFyIGdldEV2ZW50UG9zaXRpb24gPSBmdW5jdGlvbiBnZXRFdmVudFBvc2l0aW9uKGxvY2F0aW9uLCBjb250YWluZXIpIHsKICB2YXIgeCA9IGxvY2F0aW9uLngsCiAgICAgIHkgPSBsb2NhdGlvbi55OwoKICB2YXIgX2NvbnRhaW5lciRnZXRCb3VuZGluID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICB3aWR0aCA9IF9jb250YWluZXIkZ2V0Qm91bmRpbi53aWR0aCwKICAgICAgaGVpZ2h0ID0gX2NvbnRhaW5lciRnZXRCb3VuZGluLmhlaWdodCwKICAgICAgbGVmdCA9IF9jb250YWluZXIkZ2V0Qm91bmRpbi5sZWZ0LAogICAgICB0b3AgPSBfY29udGFpbmVyJGdldEJvdW5kaW4udG9wOwoKICB2YXIgbGVmdFBvcyA9IHggLSAobGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCk7CiAgdmFyIHRvcFBvcyA9IHkgLSAodG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0KTsKCiAgaWYgKGxlZnRQb3MgPCAwKSB7CiAgICBsZWZ0UG9zID0gMDsKICB9IGVsc2UgaWYgKGxlZnRQb3MgPiB3aWR0aCkgewogICAgbGVmdFBvcyA9IHdpZHRoOwogIH0KCiAgaWYgKHRvcFBvcyA8IDApIHsKICAgIHRvcFBvcyA9IDA7CiAgfSBlbHNlIGlmICh0b3BQb3MgPiBoZWlnaHQpIHsKICAgIHRvcFBvcyA9IGhlaWdodDsKICB9CgogIHJldHVybiB7CiAgICBsZWZ0OiBsZWZ0UG9zLAogICAgdG9wOiB0b3BQb3MsCiAgICB3aWR0aDogd2lkdGgsCiAgICBoZWlnaHQ6IGhlaWdodAogIH07Cn07CmV4cG9ydCB2YXIgSEVYX0ZBTExCQUNLID0gJyc7CmV4cG9ydCB2YXIgSFNWX0ZBTExCQUNLID0gWzAsIDAsIDBdOwpleHBvcnQgdmFyIFJHQl9GQUxMQkFDSyA9IFtOYU4sIE5hTiwgTmFOLCAxXTsKZXhwb3J0IHZhciBSR0JfSk9JTiA9ICcsICc7IC8vIEdpdmVuIGEgc3RyaW5nLCB0aGlzIGF0dGVtcHRzIHRvIHJldHVybiBhIGZvcm1hdCB0aGF0IGNhbiBiZSBjb25zdW1lZCBieSBjaHJvbWEtanMKCmV4cG9ydCB2YXIgcGFyc2VDb2xvciA9IGZ1bmN0aW9uIHBhcnNlQ29sb3IoaW5wdXQpIHsKICB2YXIgcGFyc2VkOwogIGlmICghaW5wdXQpIHJldHVybiBudWxsOwoKICBpZiAoaW5wdXQuaW5kZXhPZignLCcpID4gMCkgewogICAgaWYgKCEvXltccywuMC05XSokLy50ZXN0KGlucHV0KSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICB2YXIgcmdiID0gaW5wdXQudHJpbSgpLnNwbGl0KCcsJykuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgIHJldHVybiBuICE9PSAnJzsKICAgIH0pLm1hcChOdW1iZXIpOwogICAgcGFyc2VkID0gcmdiLmxlbmd0aCA+IDIgJiYgcmdiLmxlbmd0aCA8IDUgPyByZ2IgOiBIRVhfRkFMTEJBQ0s7CiAgfSBlbHNlIHsKICAgIHBhcnNlZCA9IGlucHV0OwogIH0KCiAgcmV0dXJuIHBhcnNlZDsKfTsgLy8gUmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBpbnB1dCB3aWxsIHJldHVybiBhIHZhbGlkIGNocm9tYS1qcyBvYmplY3Qgd2hlbiBkZXNpZ25hdGVkIGFzIG9uZSBvZgovLyB0aGUgYWNjZXB0YWJsZSBmb3JtYXRzOiBoZXgsIHJnYiwgcmdiYQoKZXhwb3J0IHZhciBjaHJvbWFWYWxpZCA9IGZ1bmN0aW9uIGNocm9tYVZhbGlkKGNvbG9yKSB7CiAgdmFyIHBhcnNlZCA9IGNvbG9yOwoKICBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykgewogICAgcGFyc2VkID0gcGFyc2VDb2xvcihjb2xvcik7CiAgfQoKICBpZiAoIXBhcnNlZCkgcmV0dXJuIGZhbHNlOwoKICBpZiAoX3R5cGVvZihwYXJzZWQpID09PSAnb2JqZWN0JykgewogICAgcmV0dXJuIGNocm9tYS52YWxpZChwYXJzZWQsICdyZ2InKSB8fCBjaHJvbWEudmFsaWQocGFyc2VkLCAncmdiYScpOwogIH0KCiAgcmV0dXJuIGNocm9tYS52YWxpZChjb2xvciwgJ2hleCcpOwp9OyAvLyBHaXZlbiBhbiBpbnB1dCBhbmQgb3BhY2l0eSBjb25maWd1cmF0aW9uLCB0aGlzIHJldHVybnMgYSB2YWxpZCBjaHJvbWEtanMgb2JqZWN0CgpleHBvcnQgdmFyIGdldENocm9tYUNvbG9yID0gZnVuY3Rpb24gZ2V0Q2hyb21hQ29sb3IoaW5wdXQpIHsKICB2YXIgYWxsb3dPcGFjaXR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICB2YXIgcGFyc2VkID0gcGFyc2VDb2xvcihpbnB1dCk7CgogIGlmIChwYXJzZWQgJiYgY2hyb21hVmFsaWQocGFyc2VkKSkgewogICAgLy8gdHlwZSBndWFyZCBmb3IgdGhlIGZ1bmN0aW9uIG92ZXJsb2FkCiAgICB2YXIgY2hyb21hQ29sb3IgPSBfdHlwZW9mKHBhcnNlZCkgPT09ICdvYmplY3QnID8gY2hyb21hKHBhcnNlZCkgOiBjaHJvbWEocGFyc2VkKTsKCiAgICBpZiAoIWFsbG93T3BhY2l0eSAmJiBjaHJvbWFDb2xvci5hbHBoYSgpIDwgMSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gY2hyb21hQ29sb3I7CiAgfQoKICByZXR1cm4gbnVsbDsKfTsgLy8gR2l2ZW4gYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIGtleSB2YWx1ZSBwYWlycyBzdG9wL2NvbG9yIHJldHVybnMgYSBjc3MgbGluZWFyLWdyYWRpZW50Ci8vIE9yIGdpdmVuIGFuIGFycmF5IG9mIGhleCBjb2xvcnMgcmV0dXJucyBhIGNzcyBsaW5lYXItZ3JhZGllbnQKCmV4cG9ydCB2YXIgZ2V0TGluZWFyR3JhZGllbnQgPSBmdW5jdGlvbiBnZXRMaW5lYXJHcmFkaWVudChwYWxldHRlKSB7CiAgdmFyIGxhc3RDb2xvclN0b3BBcnJheVBvc2l0aW9uID0gcGFsZXR0ZS5sZW5ndGggLSAxOwogIHZhciBsaW5lYXJHcmFkaWVudDsKICB2YXIgcGFsZXR0ZUhhc1N0b3BzID0gcGFsZXR0ZS5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gX3R5cGVvZihpdGVtKSA9PT0gJ29iamVjdCc7CiAgfSk7CgogIGlmIChwYWxldHRlSGFzU3RvcHMpIHsKICAgIHZhciBwYWxldHRlQ29sb3JTdG9wID0gcGFsZXR0ZTsKICAgIGxpbmVhckdyYWRpZW50ID0gImxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIi5jb25jYXQocGFsZXR0ZUNvbG9yU3RvcFswXS5jb2xvciwgIiAwJSwiKTsKICAgIHZhciBsYXN0Q29sb3JTdG9wRGVjaW1hbCA9IDEwMCAvIHBhbGV0dGVDb2xvclN0b3BbbGFzdENvbG9yU3RvcEFycmF5UG9zaXRpb25dLnN0b3A7CgogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsYXN0Q29sb3JTdG9wQXJyYXlQb3NpdGlvbjsgaSsrKSB7CiAgICAgIGxpbmVhckdyYWRpZW50ID0gIiIuY29uY2F0KGxpbmVhckdyYWRpZW50LCAiICIpLmNvbmNhdChwYWxldHRlQ29sb3JTdG9wW2ldLmNvbG9yLCAiICIpLmNvbmNhdChNYXRoLmZsb29yKHBhbGV0dGVDb2xvclN0b3BbaV0uc3RvcCAqIGxhc3RDb2xvclN0b3BEZWNpbWFsKSwgIiUsIik7CiAgICB9CgogICAgdmFyIGxpbmVhckdyYWRpZW50U3R5bGUgPSAiIi5jb25jYXQobGluZWFyR3JhZGllbnQsICIgIikuY29uY2F0KHBhbGV0dGVDb2xvclN0b3BbbGFzdENvbG9yU3RvcEFycmF5UG9zaXRpb25dLmNvbG9yLCAiIDEwMCUpIik7CiAgICByZXR1cm4gbGluZWFyR3JhZGllbnRTdHlsZTsKICB9IGVsc2UgewogICAgbGluZWFyR3JhZGllbnQgPSAibGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAiLmNvbmNhdChwYWxldHRlWzBdLCAiIDAlLCIpOwoKICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBsYXN0Q29sb3JTdG9wQXJyYXlQb3NpdGlvbjsgX2krKykgewogICAgICBsaW5lYXJHcmFkaWVudCA9ICIiLmNvbmNhdChsaW5lYXJHcmFkaWVudCwgIiAiKS5jb25jYXQocGFsZXR0ZVtfaV0sICIgIikuY29uY2F0KE1hdGguZmxvb3IoMTAwICogX2kgLyBsYXN0Q29sb3JTdG9wQXJyYXlQb3NpdGlvbiksICIlLCIpOwogICAgfQoKICAgIHZhciBfbGluZWFyR3JhZGllbnRTdHlsZSA9ICIiLmNvbmNhdChsaW5lYXJHcmFkaWVudCwgIiAiKS5jb25jYXQocGFsZXR0ZVtsYXN0Q29sb3JTdG9wQXJyYXlQb3NpdGlvbl0sICIgMTAwJSkiKTsKCiAgICByZXR1cm4gX2xpbmVhckdyYWRpZW50U3R5bGU7CiAgfQp9OyAvLyBHaXZlbiBhbiBhcnJheSBvZiBvYmplY3RzIHdpdGgga2V5IHZhbHVlIHBhaXJzIHN0b3AvY29sb3Igb3IgYW4gYXJyYXkgb2YgaGV4IGNvbG9ycwovLyByZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCBrZXkgdmFsdWUgcGFpcnMgY29sb3Ivd2lkdGgKCmV4cG9ydCB2YXIgZ2V0Rml4ZWRMaW5lYXJHcmFkaWVudCA9IGZ1bmN0aW9uIGdldEZpeGVkTGluZWFyR3JhZGllbnQocGFsZXR0ZSkgewogIHZhciBwYWxldHRlSGFzU3RvcHMgPSBwYWxldHRlLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBfdHlwZW9mKGl0ZW0pID09PSAnb2JqZWN0JzsKICB9KTsKCiAgaWYgKHBhbGV0dGVIYXNTdG9wcykgewogICAgdmFyIHBhbGV0dGVDb2xvclN0b3AgPSBwYWxldHRlOwogICAgdmFyIGZpeGVkTGluZWFyR3JhZGllbnRXaXRoU3RvcHMgPSBwYWxldHRlQ29sb3JTdG9wLm1hcChmdW5jdGlvbiAoY29sb3JTdG9wLCBpbmRleCkgewogICAgICB2YXIgbGFzdENvbG9yU3RvcEFycmF5UG9zaXRpb24gPSBwYWxldHRlLmxlbmd0aCAtIDE7CiAgICAgIHZhciBsYXN0Q29sb3JTdG9wRGVjaW1hbCA9IDEwMCAvIHBhbGV0dGVDb2xvclN0b3BbbGFzdENvbG9yU3RvcEFycmF5UG9zaXRpb25dLnN0b3A7CiAgICAgIHZhciBpc0ZpcnN0Q29sb3JTdG9wID0gaW5kZXggPT09IDA7CiAgICAgIHZhciBwcmV2aW91c0NvbG9yU3RvcFdpZHRoOwoKICAgICAgaWYgKGlzRmlyc3RDb2xvclN0b3ApIHsKICAgICAgICBwcmV2aW91c0NvbG9yU3RvcFdpZHRoID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcmV2aW91c0NvbG9yU3RvcFdpZHRoID0gTWF0aC5mbG9vcihwYWxldHRlQ29sb3JTdG9wW2luZGV4IC0gMV0uc3RvcCAqIGxhc3RDb2xvclN0b3BEZWNpbWFsKTsKICAgICAgfQoKICAgICAgdmFyIGN1cnJlbnRDb2xvclN0b3BXaWR0aCA9IE1hdGguZmxvb3IoY29sb3JTdG9wLnN0b3AgKiBsYXN0Q29sb3JTdG9wRGVjaW1hbCk7CiAgICAgIHZhciBjb2xvclN0b3BXaWR0aCA9IGN1cnJlbnRDb2xvclN0b3BXaWR0aCAtIHByZXZpb3VzQ29sb3JTdG9wV2lkdGg7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29sb3I6IGNvbG9yU3RvcC5jb2xvciwKICAgICAgICB3aWR0aDogIiIuY29uY2F0KGNvbG9yU3RvcFdpZHRoLCAiJSIpCiAgICAgIH07CiAgICB9KTsKICAgIHJldHVybiBmaXhlZExpbmVhckdyYWRpZW50V2l0aFN0b3BzOwogIH0gZWxzZSB7CiAgICB2YXIgX3BhbGV0dGVDb2xvclN0b3AgPSBwYWxldHRlOwogICAgdmFyIHBhbGV0dGVXaWR0aCA9IDEwMCAvIHBhbGV0dGUubGVuZ3RoOwoKICAgIHZhciBmaXhlZExpbmVhckdyYWRpZW50V2lkdGhBdXRvID0gX3BhbGV0dGVDb2xvclN0b3AubWFwKGZ1bmN0aW9uIChoZXhDb2RlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29sb3I6IGhleENvZGUsCiAgICAgICAgd2lkdGg6ICIiLmNvbmNhdChwYWxldHRlV2lkdGgsICIlIikKICAgICAgfTsKICAgIH0pOwoKICAgIHJldHVybiBmaXhlZExpbmVhckdyYWRpZW50V2lkdGhBdXRvOwogIH0KfTsKCnRyeSB7CiAgcGFyc2VDb2xvci5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ3BhcnNlQ29sb3InLAogICAgbWV0aG9kczogW10sCiAgICBwcm9wczoge30sCiAgICBleHRlbmRlZEludGVyZmFjZXM6IFsnU3RyaW5nJywgJ09iamVjdCcsICdBcnJheSddCiAgfTsKfSBjYXRjaCAoZSkge30KCnRyeSB7CiAgY2hyb21hVmFsaWQuX19kb2NnZW5JbmZvID0gewogICAgZGVzY3JpcHRpb246ICcnLAogICAgZGlzcGxheU5hbWU6ICdjaHJvbWFWYWxpZCcsCiAgICBtZXRob2RzOiBbXSwKICAgIHByb3BzOiB7fSwKICAgIGV4dGVuZGVkSW50ZXJmYWNlczogWydTdHJpbmcnLCAnT2JqZWN0JywgJ0FycmF5J10KICB9Owp9IGNhdGNoIChlKSB7fQoKdHJ5IHsKICBnZXRMaW5lYXJHcmFkaWVudC5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ2dldExpbmVhckdyYWRpZW50JywKICAgIG1ldGhvZHM6IFtdLAogICAgcHJvcHM6IHt9LAogICAgZXh0ZW5kZWRJbnRlcmZhY2VzOiBbJ1N0cmluZycsICdPYmplY3QnLCAnQXJyYXknXQogIH07Cn0gY2F0Y2ggKGUpIHt9Cgp0cnkgewogIGdldEZpeGVkTGluZWFyR3JhZGllbnQuX19kb2NnZW5JbmZvID0gewogICAgZGVzY3JpcHRpb246ICcnLAogICAgZGlzcGxheU5hbWU6ICdnZXRGaXhlZExpbmVhckdyYWRpZW50JywKICAgIG1ldGhvZHM6IFtdLAogICAgcHJvcHM6IHt9LAogICAgZXh0ZW5kZWRJbnRlcmZhY2VzOiBbJ1N0cmluZycsICdPYmplY3QnLCAnQXJyYXknXQogIH07Cn0gY2F0Y2ggKGUpIHt9"},{"version":3,"sources":["D:/work/eui/src/components/color_picker/utils.ts"],"names":["chroma","getEventPosition","location","container","x","y","getBoundingClientRect","width","height","left","top","leftPos","window","pageXOffset","topPos","pageYOffset","HEX_FALLBACK","HSV_FALLBACK","RGB_FALLBACK","NaN","RGB_JOIN","parseColor","input","parsed","indexOf","test","rgb","trim","split","filter","n","map","Number","length","chromaValid","color","valid","getChromaColor","allowOpacity","chromaColor","alpha","getLinearGradient","palette","lastColorStopArrayPosition","linearGradient","paletteHasStops","some","item","paletteColorStop","lastColorStopDecimal","stop","i","Math","floor","linearGradientStyle","getFixedLinearGradient","fixedLinearGradientWithStops","colorStop","index","isFirstColorStop","previousColorStopWidth","currentColorStopWidth","colorStopWidth","paletteWidth","fixedLinearGradientWidthAuto","hexCode"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport chroma, { ColorSpaces } from 'chroma-js';\nimport { ColorStop } from './color_stops';\n\nexport const getEventPosition = (\n  location: { x: number; y: number },\n  container: HTMLElement\n) => {\n  const { x, y } = location;\n  const { width, height, left, top } = container.getBoundingClientRect();\n  let leftPos = x - (left + window.pageXOffset);\n  let topPos = y - (top + window.pageYOffset);\n\n  if (leftPos < 0) {\n    leftPos = 0;\n  } else if (leftPos > width) {\n    leftPos = width;\n  }\n\n  if (topPos < 0) {\n    topPos = 0;\n  } else if (topPos > height) {\n    topPos = height;\n  }\n\n  return { left: leftPos, top: topPos, width, height };\n};\n\nexport const HEX_FALLBACK = '';\nexport const HSV_FALLBACK: ColorSpaces['hsv'] = [0, 0, 0];\nexport const RGB_FALLBACK: ColorSpaces['rgba'] = [NaN, NaN, NaN, 1];\nexport const RGB_JOIN = ', ';\n\n// Given a string, this attempts to return a format that can be consumed by chroma-js\nexport const parseColor = (input?: string | null) => {\n  let parsed: string | number[];\n  if (!input) return null;\n  if (input.indexOf(',') > 0) {\n    if (!/^[\\s,.0-9]*$/.test(input)) {\n      return null;\n    }\n    const rgb = input\n      .trim()\n      .split(',')\n      .filter((n) => n !== '')\n      .map(Number);\n    parsed = rgb.length > 2 && rgb.length < 5 ? rgb : HEX_FALLBACK;\n  } else {\n    parsed = input;\n  }\n  return parsed;\n};\n\n// Returns whether the given input will return a valid chroma-js object when designated as one of\n// the acceptable formats: hex, rgb, rgba\nexport const chromaValid = (color: string | number[]) => {\n  let parsed: string | number[] | null = color;\n  if (typeof color === 'string') {\n    parsed = parseColor(color);\n  }\n\n  if (!parsed) return false;\n\n  if (typeof parsed === 'object') {\n    return chroma.valid(parsed, 'rgb') || chroma.valid(parsed, 'rgba');\n  }\n  return chroma.valid(color, 'hex');\n};\n\n// Given an input and opacity configuration, this returns a valid chroma-js object\nexport const getChromaColor = (input?: string | null, allowOpacity = false) => {\n  const parsed = parseColor(input);\n  if (parsed && chromaValid(parsed)) {\n    // type guard for the function overload\n    const chromaColor =\n      typeof parsed === 'object' ? chroma(parsed) : chroma(parsed);\n    if (!allowOpacity && chromaColor.alpha() < 1) {\n      return null;\n    }\n    return chromaColor;\n  }\n  return null;\n};\n\n// Given an array of objects with key value pairs stop/color returns a css linear-gradient\n// Or given an array of hex colors returns a css linear-gradient\nexport const getLinearGradient = (palette: string[] | ColorStop[]) => {\n  const lastColorStopArrayPosition = palette.length - 1;\n\n  let linearGradient;\n\n  const paletteHasStops = palette.some((item: string | ColorStop) => {\n    return typeof item === 'object';\n  });\n\n  if (paletteHasStops) {\n    const paletteColorStop = palette as ColorStop[];\n\n    linearGradient = `linear-gradient(to right, ${paletteColorStop[0].color} 0%,`;\n\n    const lastColorStopDecimal =\n      100 / paletteColorStop[lastColorStopArrayPosition].stop;\n\n    for (let i = 1; i < lastColorStopArrayPosition; i++) {\n      linearGradient = `${linearGradient} ${\n        paletteColorStop[i].color\n      }\\ ${Math.floor(paletteColorStop[i].stop * lastColorStopDecimal)}%,`;\n    }\n\n    const linearGradientStyle = `${linearGradient} ${paletteColorStop[lastColorStopArrayPosition].color} 100%)`;\n\n    return linearGradientStyle;\n  } else {\n    linearGradient = `linear-gradient(to right, ${palette[0]} 0%,`;\n\n    for (let i = 1; i < lastColorStopArrayPosition; i++) {\n      linearGradient = `${linearGradient} ${palette[i]}\\ ${Math.floor(\n        (100 * i) / lastColorStopArrayPosition\n      )}%,`;\n    }\n\n    const linearGradientStyle = `${linearGradient} ${palette[lastColorStopArrayPosition]} 100%)`;\n\n    return linearGradientStyle;\n  }\n};\n\n// Given an array of objects with key value pairs stop/color or an array of hex colors\n// returns an array of objects with key value pairs color/width\nexport const getFixedLinearGradient = (palette: string[] | ColorStop[]) => {\n  const paletteHasStops = palette.some((item: string | ColorStop) => {\n    return typeof item === 'object';\n  });\n\n  if (paletteHasStops) {\n    const paletteColorStop = palette as ColorStop[];\n\n    const fixedLinearGradientWithStops = paletteColorStop.map(\n      (colorStop: ColorStop, index: number) => {\n        const lastColorStopArrayPosition = palette.length - 1;\n\n        const lastColorStopDecimal =\n          100 / paletteColorStop[lastColorStopArrayPosition].stop;\n\n        const isFirstColorStop = index === 0;\n\n        let previousColorStopWidth;\n\n        if (isFirstColorStop) {\n          previousColorStopWidth = 0;\n        } else {\n          previousColorStopWidth = Math.floor(\n            paletteColorStop[index - 1].stop * lastColorStopDecimal\n          );\n        }\n\n        const currentColorStopWidth = Math.floor(\n          colorStop.stop * lastColorStopDecimal\n        );\n\n        const colorStopWidth = currentColorStopWidth - previousColorStopWidth;\n\n        return {\n          color: colorStop.color,\n          width: `${colorStopWidth}%`,\n        };\n      }\n    );\n\n    return fixedLinearGradientWithStops;\n  } else {\n    const paletteColorStop = palette as string[];\n    const paletteWidth = 100 / palette.length;\n\n    const fixedLinearGradientWidthAuto = paletteColorStop.map(\n      (hexCode: string) => ({\n        color: hexCode,\n        width: `${paletteWidth}%`,\n      })\n    );\n\n    return fixedLinearGradientWidthAuto;\n  }\n};\n"]}]}