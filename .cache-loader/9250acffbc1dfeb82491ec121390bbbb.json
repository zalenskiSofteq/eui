{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\search_bar\\query\\default_syntax.ts","dependencies":[{"path":"D:\\work\\eui\\src\\components\\search_bar\\query\\default_syntax.ts","mtime":1649070093752},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmlzLW5hbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZnJlZXplIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmZsYWdzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCB7IEFTVCB9IGZyb20gJy4vYXN0JzsKaW1wb3J0IHsgaXNBcnJheSwgaXNTdHJpbmcsIGlzRGF0ZUxpa2UgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy9wcmVkaWNhdGUnOwppbXBvcnQgeyBkYXRlRm9ybWF0IGFzIGRlZmF1bHREYXRlRm9ybWF0IH0gZnJvbSAnLi9kYXRlX2Zvcm1hdCc7CmltcG9ydCB7IGRhdGVWYWx1ZVBhcnNlciwgaXNEYXRlVmFsdWUgfSBmcm9tICcuL2RhdGVfdmFsdWUnOyAvLyBAdHMtaWdub3JlIFRoaXMgaXMgYSBCYWJlbCBwbHVnaW4gdGhhdCBwYXJzZXMgaW5saW5lIFBFRyBncmFtbWFycy4KCi8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L25vLXVucmVzb2x2ZWQKdmFyIHBhcnNlciA9IGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIHBlZyRzdWJjbGFzcyhjaGlsZCwgcGFyZW50KSB7CiAgICBmdW5jdGlvbiBjdG9yKCkgewogICAgICB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7CiAgICB9CgogICAgY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOwogICAgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsKICB9CgogIGZ1bmN0aW9uIHBlZyRTeW50YXhFcnJvcihtZXNzYWdlLCBleHBlY3RlZCwgZm91bmQsIGxvY2F0aW9uKSB7CiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlOwogICAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkOwogICAgdGhpcy5mb3VuZCA9IGZvdW5kOwogICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uOwogICAgdGhpcy5uYW1lID0gIlN5bnRheEVycm9yIjsKCiAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHBlZyRTeW50YXhFcnJvcik7CiAgICB9CiAgfQoKICBwZWckc3ViY2xhc3MocGVnJFN5bnRheEVycm9yLCBFcnJvcik7CgogIHBlZyRTeW50YXhFcnJvci5idWlsZE1lc3NhZ2UgPSBmdW5jdGlvbiAoZXhwZWN0ZWQsIGZvdW5kKSB7CiAgICB2YXIgREVTQ1JJQkVfRVhQRUNUQVRJT05fRk5TID0gewogICAgICBsaXRlcmFsOiBmdW5jdGlvbiBsaXRlcmFsKGV4cGVjdGF0aW9uKSB7CiAgICAgICAgcmV0dXJuICJcIiIgKyBsaXRlcmFsRXNjYXBlKGV4cGVjdGF0aW9uLnRleHQpICsgIlwiIjsKICAgICAgfSwKICAgICAgImNsYXNzIjogZnVuY3Rpb24gX2NsYXNzKGV4cGVjdGF0aW9uKSB7CiAgICAgICAgdmFyIGVzY2FwZWRQYXJ0cyA9ICIiLAogICAgICAgICAgICBpOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXhwZWN0YXRpb24ucGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGVzY2FwZWRQYXJ0cyArPSBleHBlY3RhdGlvbi5wYXJ0c1tpXSBpbnN0YW5jZW9mIEFycmF5ID8gY2xhc3NFc2NhcGUoZXhwZWN0YXRpb24ucGFydHNbaV1bMF0pICsgIi0iICsgY2xhc3NFc2NhcGUoZXhwZWN0YXRpb24ucGFydHNbaV1bMV0pIDogY2xhc3NFc2NhcGUoZXhwZWN0YXRpb24ucGFydHNbaV0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICJbIiArIChleHBlY3RhdGlvbi5pbnZlcnRlZCA/ICJeIiA6ICIiKSArIGVzY2FwZWRQYXJ0cyArICJdIjsKICAgICAgfSwKICAgICAgYW55OiBmdW5jdGlvbiBhbnkoZXhwZWN0YXRpb24pIHsKICAgICAgICByZXR1cm4gImFueSBjaGFyYWN0ZXIiOwogICAgICB9LAogICAgICBlbmQ6IGZ1bmN0aW9uIGVuZChleHBlY3RhdGlvbikgewogICAgICAgIHJldHVybiAiZW5kIG9mIGlucHV0IjsKICAgICAgfSwKICAgICAgb3RoZXI6IGZ1bmN0aW9uIG90aGVyKGV4cGVjdGF0aW9uKSB7CiAgICAgICAgcmV0dXJuIGV4cGVjdGF0aW9uLmRlc2NyaXB0aW9uOwogICAgICB9CiAgICB9OwoKICAgIGZ1bmN0aW9uIGhleChjaCkgewogICAgICByZXR1cm4gY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBsaXRlcmFsRXNjYXBlKHMpIHsKICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXFwvZywgJ1xcXFwnKS5yZXBsYWNlKC8iL2csICdcXCInKS5yZXBsYWNlKC9cMC9nLCAnXFwwJykucmVwbGFjZSgvXHQvZywgJ1xcdCcpLnJlcGxhY2UoL1xuL2csICdcXG4nKS5yZXBsYWNlKC9cci9nLCAnXFxyJykucmVwbGFjZSgvW1x4MDAtXHgwRl0vZywgZnVuY3Rpb24gKGNoKSB7CiAgICAgICAgcmV0dXJuICdcXHgwJyArIGhleChjaCk7CiAgICAgIH0pLnJlcGxhY2UoL1tceDEwLVx4MUZceDdGLVx4OUZdL2csIGZ1bmN0aW9uIChjaCkgewogICAgICAgIHJldHVybiAnXFx4JyArIGhleChjaCk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGNsYXNzRXNjYXBlKHMpIHsKICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXFwvZywgJ1xcXFwnKS5yZXBsYWNlKC9cXS9nLCAnXFxdJykucmVwbGFjZSgvXF4vZywgJ1xcXicpLnJlcGxhY2UoLy0vZywgJ1xcLScpLnJlcGxhY2UoL1wwL2csICdcXDAnKS5yZXBsYWNlKC9cdC9nLCAnXFx0JykucmVwbGFjZSgvXG4vZywgJ1xcbicpLnJlcGxhY2UoL1xyL2csICdcXHInKS5yZXBsYWNlKC9bXHgwMC1ceDBGXS9nLCBmdW5jdGlvbiAoY2gpIHsKICAgICAgICByZXR1cm4gJ1xceDAnICsgaGV4KGNoKTsKICAgICAgfSkucmVwbGFjZSgvW1x4MTAtXHgxRlx4N0YtXHg5Rl0vZywgZnVuY3Rpb24gKGNoKSB7CiAgICAgICAgcmV0dXJuICdcXHgnICsgaGV4KGNoKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RhdGlvbihleHBlY3RhdGlvbikgewogICAgICByZXR1cm4gREVTQ1JJQkVfRVhQRUNUQVRJT05fRk5TW2V4cGVjdGF0aW9uLnR5cGVdKGV4cGVjdGF0aW9uKTsKICAgIH0KCiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkKSB7CiAgICAgIHZhciBkZXNjcmlwdGlvbnMgPSBuZXcgQXJyYXkoZXhwZWN0ZWQubGVuZ3RoKSwKICAgICAgICAgIGksCiAgICAgICAgICBqOwoKICAgICAgZm9yIChpID0gMDsgaSA8IGV4cGVjdGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGVzY3JpcHRpb25zW2ldID0gZGVzY3JpYmVFeHBlY3RhdGlvbihleHBlY3RlZFtpXSk7CiAgICAgIH0KCiAgICAgIGRlc2NyaXB0aW9ucy5zb3J0KCk7CgogICAgICBpZiAoZGVzY3JpcHRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICBmb3IgKGkgPSAxLCBqID0gMTsgaSA8IGRlc2NyaXB0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKGRlc2NyaXB0aW9uc1tpIC0gMV0gIT09IGRlc2NyaXB0aW9uc1tpXSkgewogICAgICAgICAgICBkZXNjcmlwdGlvbnNbal0gPSBkZXNjcmlwdGlvbnNbaV07CiAgICAgICAgICAgIGorKzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGRlc2NyaXB0aW9ucy5sZW5ndGggPSBqOwogICAgICB9CgogICAgICBzd2l0Y2ggKGRlc2NyaXB0aW9ucy5sZW5ndGgpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25zWzBdICsgIiBvciAiICsgZGVzY3JpcHRpb25zWzFdOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9ucy5zbGljZSgwLCAtMSkuam9pbigiLCAiKSArICIsIG9yICIgKyBkZXNjcmlwdGlvbnNbZGVzY3JpcHRpb25zLmxlbmd0aCAtIDFdOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZGVzY3JpYmVGb3VuZChmb3VuZCkgewogICAgICByZXR1cm4gZm91bmQgPyAiXCIiICsgbGl0ZXJhbEVzY2FwZShmb3VuZCkgKyAiXCIiIDogImVuZCBvZiBpbnB1dCI7CiAgICB9CgogICAgcmV0dXJuICJFeHBlY3RlZCAiICsgZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkgKyAiIGJ1dCAiICsgZGVzY3JpYmVGb3VuZChmb3VuZCkgKyAiIGZvdW5kLiI7CiAgfTsKCiAgZnVuY3Rpb24gcGVnJHBhcnNlKGlucHV0LCBvcHRpb25zKSB7CiAgICBvcHRpb25zID0gb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9OwoKICAgIHZhciBwZWckRkFJTEVEID0ge30sCiAgICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyA9IHsKICAgICAgUXVlcnk6IHBlZyRwYXJzZVF1ZXJ5CiAgICB9LAogICAgICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRwYXJzZVF1ZXJ5LAogICAgICAgIHBlZyRjMCA9IGZ1bmN0aW9uIHBlZyRjMChjbGF1c2VzKSB7CiAgICAgIHJldHVybiBjbGF1c2VzOwogICAgfSwKICAgICAgICBwZWckYzEgPSBmdW5jdGlvbiBwZWckYzEoKSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICAgICAgcGVnJGMyID0gZnVuY3Rpb24gcGVnJGMyKGhlYWQsIGNsYXVzZSkgewogICAgICByZXR1cm4gY2xhdXNlOwogICAgfSwKICAgICAgICBwZWckYzMgPSBmdW5jdGlvbiBwZWckYzMoaGVhZCwgdGFpbCkgewogICAgICByZXR1cm4gW2hlYWRdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGFpbCkpOwogICAgfSwKICAgICAgICBwZWckYzQgPSAiKCIsCiAgICAgICAgcGVnJGM1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbigiKCIsIGZhbHNlKSwKICAgICAgICBwZWckYzYgPSAiKSIsCiAgICAgICAgcGVnJGM3ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbigiKSIsIGZhbHNlKSwKICAgICAgICBwZWckYzggPSBmdW5jdGlvbiBwZWckYzgoaGVhZCwgdGFpbCkgewogICAgICByZXR1cm4gW2hlYWRdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGFpbCkpOwogICAgfSwKICAgICAgICBwZWckYzkgPSAiLSIsCiAgICAgICAgcGVnJGMxMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oIi0iLCBmYWxzZSksCiAgICAgICAgcGVnJGMxMSA9IGZ1bmN0aW9uIHBlZyRjMTEoZ3JvdXApIHsKICAgICAgcmV0dXJuIEFTVC5Hcm91cC5tdXN0Tm90KGdyb3VwKTsKICAgIH0sCiAgICAgICAgcGVnJGMxMiA9IGZ1bmN0aW9uIHBlZyRjMTIoZ3JvdXApIHsKICAgICAgcmV0dXJuIEFTVC5Hcm91cC5tdXN0KGdyb3VwKTsKICAgIH0sCiAgICAgICAgcGVnJGMxMyA9IGZ1bmN0aW9uIHBlZyRjMTModmFsdWUpIHsKICAgICAgcmV0dXJuIEFTVC5UZXJtLm11c3ROb3QodmFsdWUpOwogICAgfSwKICAgICAgICBwZWckYzE0ID0gZnVuY3Rpb24gcGVnJGMxNCh2YWx1ZSkgewogICAgICByZXR1cm4gQVNULlRlcm0ubXVzdCh2YWx1ZSk7CiAgICB9LAogICAgICAgIHBlZyRjMTUgPSBmdW5jdGlvbiBwZWckYzE1KGZsYWcpIHsKICAgICAgcmV0dXJuIEFTVC5Jcy5tdXN0Tm90KGZsYWcpOwogICAgfSwKICAgICAgICBwZWckYzE2ID0gZnVuY3Rpb24gcGVnJGMxNihmbGFnKSB7CiAgICAgIHJldHVybiBBU1QuSXMubXVzdChmbGFnKTsKICAgIH0sCiAgICAgICAgcGVnJGMxNyA9ICJpczoiLAogICAgICAgIHBlZyRjMTggPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKCJpczoiLCBmYWxzZSksCiAgICAgICAgcGVnJGMxOSA9IGZ1bmN0aW9uIHBlZyRjMTkoZmxhZykgewogICAgICB2YWxpZGF0ZUZsYWcoZmxhZywgbG9jYXRpb24oKSwgY3R4KTsKICAgICAgcmV0dXJuIGZsYWc7CiAgICB9LAogICAgICAgIHBlZyRjMjAgPSBwZWckb3RoZXJFeHBlY3RhdGlvbigiZmllbGQiKSwKICAgICAgICBwZWckYzIxID0gZnVuY3Rpb24gcGVnJGMyMShmdikgewogICAgICByZXR1cm4gQVNULkZpZWxkLm11c3ROb3QuZXEoZnYuZmllbGQsIGZ2LnZhbHVlKTsKICAgIH0sCiAgICAgICAgcGVnJGMyMiA9IGZ1bmN0aW9uIHBlZyRjMjIoZnYpIHsKICAgICAgcmV0dXJuIEFTVC5GaWVsZC5tdXN0Tm90LmV4YWN0KGZ2LmZpZWxkLCBmdi52YWx1ZSk7CiAgICB9LAogICAgICAgIHBlZyRjMjMgPSBmdW5jdGlvbiBwZWckYzIzKGZ2KSB7CiAgICAgIHJldHVybiBBU1QuRmllbGQubXVzdE5vdC5ndChmdi5maWVsZCwgZnYudmFsdWUpOwogICAgfSwKICAgICAgICBwZWckYzI0ID0gZnVuY3Rpb24gcGVnJGMyNChmdikgewogICAgICByZXR1cm4gQVNULkZpZWxkLm11c3ROb3QuZ3RlKGZ2LmZpZWxkLCBmdi52YWx1ZSk7CiAgICB9LAogICAgICAgIHBlZyRjMjUgPSBmdW5jdGlvbiBwZWckYzI1KGZ2KSB7CiAgICAgIHJldHVybiBBU1QuRmllbGQubXVzdE5vdC5sdChmdi5maWVsZCwgZnYudmFsdWUpOwogICAgfSwKICAgICAgICBwZWckYzI2ID0gZnVuY3Rpb24gcGVnJGMyNihmdikgewogICAgICByZXR1cm4gQVNULkZpZWxkLm11c3ROb3QubHRlKGZ2LmZpZWxkLCBmdi52YWx1ZSk7CiAgICB9LAogICAgICAgIHBlZyRjMjcgPSBmdW5jdGlvbiBwZWckYzI3KGZ2KSB7CiAgICAgIHJldHVybiBBU1QuRmllbGQubXVzdC5lcShmdi5maWVsZCwgZnYudmFsdWUpOwogICAgfSwKICAgICAgICBwZWckYzI4ID0gZnVuY3Rpb24gcGVnJGMyOChmdikgewogICAgICByZXR1cm4gQVNULkZpZWxkLm11c3QuZXhhY3QoZnYuZmllbGQsIGZ2LnZhbHVlKTsKICAgIH0sCiAgICAgICAgcGVnJGMyOSA9IGZ1bmN0aW9uIHBlZyRjMjkoZnYpIHsKICAgICAgcmV0dXJuIEFTVC5GaWVsZC5tdXN0Lmd0KGZ2LmZpZWxkLCBmdi52YWx1ZSk7CiAgICB9LAogICAgICAgIHBlZyRjMzAgPSBmdW5jdGlvbiBwZWckYzMwKGZ2KSB7CiAgICAgIHJldHVybiBBU1QuRmllbGQubXVzdC5ndGUoZnYuZmllbGQsIGZ2LnZhbHVlKTsKICAgIH0sCiAgICAgICAgcGVnJGMzMSA9IGZ1bmN0aW9uIHBlZyRjMzEoZnYpIHsKICAgICAgcmV0dXJuIEFTVC5GaWVsZC5tdXN0Lmx0KGZ2LmZpZWxkLCBmdi52YWx1ZSk7CiAgICB9LAogICAgICAgIHBlZyRjMzIgPSBmdW5jdGlvbiBwZWckYzMyKGZ2KSB7CiAgICAgIHJldHVybiBBU1QuRmllbGQubXVzdC5sdGUoZnYuZmllbGQsIGZ2LnZhbHVlKTsKICAgIH0sCiAgICAgICAgcGVnJGMzMyA9ICI6IiwKICAgICAgICBwZWckYzM0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbigiOiIsIGZhbHNlKSwKICAgICAgICBwZWckYzM1ID0gZnVuY3Rpb24gcGVnJGMzNShmaWVsZCwgdmFsdWVFeHByZXNzaW9uKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZmllbGQ6IGZpZWxkLAogICAgICAgIHZhbHVlOiByZXNvbHZlRmllbGRWYWx1ZShmaWVsZCwgdmFsdWVFeHByZXNzaW9uLCBjdHgpCiAgICAgIH07CiAgICB9LAogICAgICAgIHBlZyRjMzYgPSAiPSIsCiAgICAgICAgcGVnJGMzNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oIj0iLCBmYWxzZSksCiAgICAgICAgcGVnJGMzOCA9ICI+IiwKICAgICAgICBwZWckYzM5ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbigiPiIsIGZhbHNlKSwKICAgICAgICBwZWckYzQwID0gZnVuY3Rpb24gcGVnJGM0MChmaWVsZCwgdmFsdWVFeHByZXNzaW9uKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZmllbGQ6IGZpZWxkLAogICAgICAgIHZhbHVlOiByZXNvbHZlRmllbGRWYWx1ZShmaWVsZCwgdmFsdWVFeHByZXNzaW9uLCBjdHgpCiAgICAgIH07CiAgICB9LAogICAgICAgIHBlZyRjNDEgPSAiPj0iLAogICAgICAgIHBlZyRjNDIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKCI+PSIsIGZhbHNlKSwKICAgICAgICBwZWckYzQzID0gIjwiLAogICAgICAgIHBlZyRjNDQgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKCI8IiwgZmFsc2UpLAogICAgICAgIHBlZyRjNDUgPSAiPD0iLAogICAgICAgIHBlZyRjNDYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKCI8PSIsIGZhbHNlKSwKICAgICAgICBwZWckYzQ3ID0gcGVnJG90aGVyRXhwZWN0YXRpb24oImZsYWcgbmFtZSIpLAogICAgICAgIHBlZyRjNDggPSBwZWckb3RoZXJFeHBlY3RhdGlvbigiZmllbGQgbmFtZSIpLAogICAgICAgIHBlZyRjNDkgPSBmdW5jdGlvbiBwZWckYzQ5KCkgewogICAgICByZXR1cm4gdW5lc2NhcGVWYWx1ZSh0ZXh0KCkpOwogICAgfSwKICAgICAgICBwZWckYzUwID0gL15bXC1fXS8sCiAgICAgICAgcGVnJGM1MSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsiLSIsICJfIl0sIGZhbHNlLCBmYWxzZSksCiAgICAgICAgcGVnJGM1MiA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKCJmaWVsZCB2YWx1ZSIpLAogICAgICAgIHBlZyRjNTMgPSBwZWckb3RoZXJFeHBlY3RhdGlvbigidGVybSIpLAogICAgICAgIHBlZyRjNTQgPSBmdW5jdGlvbiBwZWckYzU0KHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZS5leHByZXNzaW9uOwogICAgfSwKICAgICAgICBwZWckYzU1ID0gZnVuY3Rpb24gcGVnJGM1NShoZWFkLCB2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWU7CiAgICB9LAogICAgICAgIHBlZyRjNTYgPSBmdW5jdGlvbiBwZWckYzU2KGhlYWQsIHRhaWwpIHsKICAgICAgcmV0dXJuIFtoZWFkXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRhaWwpKTsKICAgIH0sCiAgICAgICAgcGVnJGM1NyA9ICJcIiIsCiAgICAgICAgcGVnJGM1OCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oIlwiIiwgZmFsc2UpLAogICAgICAgIHBlZyRjNTkgPSBmdW5jdGlvbiBwZWckYzU5KCkgewogICAgICByZXR1cm4gdW5lc2NhcGVQaHJhc2VWYWx1ZSh0ZXh0KCkpOwogICAgfSwKICAgICAgICBwZWckYzYwID0gZnVuY3Rpb24gcGVnJGM2MChwaHJhc2UpIHsKICAgICAgcmV0dXJuIEV4cC5zdHJpbmcocGhyYXNlLCBsb2NhdGlvbigpKTsKICAgIH0sCiAgICAgICAgcGVnJGM2MSA9IC9eW15cXCIgXS8sCiAgICAgICAgcGVnJGM2MiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsiXFwiLCAiXCIiLCAiICJdLCB0cnVlLCBmYWxzZSksCiAgICAgICAgcGVnJGM2MyA9ICJcXCIsCiAgICAgICAgcGVnJGM2NCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oIlxcIiwgZmFsc2UpLAogICAgICAgIHBlZyRjNjUgPSBwZWckYW55RXhwZWN0YXRpb24oKSwKICAgICAgICBwZWckYzY2ID0gZnVuY3Rpb24gcGVnJGM2NigpIHsKICAgICAgaWYgKHRleHQoKS50b0xvd2VyQ2FzZSgpID09PSAnb3InKSB7CiAgICAgICAgZXJyb3IoJ1RvIHVzZSBPUiBpbiBhIHRleHQgc2VhcmNoLCBwdXQgaXQgaW5zaWRlIHF1b3RlczogIm9yIi4gVG8gJyArICdwZXJmb3JtIGEgbG9naWNhbCBPUiwgZW5jbG9zZSB0aGUgd29yZHMgaW4gcGFyZW50aGVzaXM6IChmb286YmFyIG9yIGJhcikuJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBFeHAuc3RyaW5nKHVuZXNjYXBlVmFsdWUodGV4dCgpKSwgbG9jYXRpb24oKSk7CiAgICB9LAogICAgICAgIHBlZyRjNjcgPSAvXltcLV8qOlwvXS8sCiAgICAgICAgcGVnJGM2OCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsiLSIsICJfIiwgIioiLCAiOiIsICIvIl0sIGZhbHNlLCBmYWxzZSksCiAgICAgICAgcGVnJGM2OSA9IC9eW1x4QzAtXHVGRkZGXS8sCiAgICAgICAgcGVnJGM3MCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbIlx4QzAiLCAiXHVGRkZGIl1dLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjNzEgPSAvXltcLTpcXCgpXS8sCiAgICAgICAgcGVnJGM3MiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsiLSIsICI6IiwgIlxcIiwgIigiLCAiKSJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjNzMgPSAvXltvT10vLAogICAgICAgIHBlZyRjNzQgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbIm8iLCAiTyJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjNzUgPSAvXltyUl0vLAogICAgICAgIHBlZyRjNzYgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbInIiLCAiUiJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjNzcgPSBmdW5jdGlvbiBwZWckYzc3KGJvb2wpIHsKICAgICAgcmV0dXJuIGJvb2w7CiAgICB9LAogICAgICAgIHBlZyRjNzggPSAvXlt0VF0vLAogICAgICAgIHBlZyRjNzkgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbInQiLCAiVCJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjODAgPSAvXlt1VV0vLAogICAgICAgIHBlZyRjODEgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbInUiLCAiVSJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjODIgPSAvXltlRV0vLAogICAgICAgIHBlZyRjODMgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbImUiLCAiRSJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjODQgPSBmdW5jdGlvbiBwZWckYzg0KCkgewogICAgICByZXR1cm4gRXhwLmJvb2xlYW4odGV4dCgpLCBsb2NhdGlvbigpKTsKICAgIH0sCiAgICAgICAgcGVnJGM4NSA9IC9eW2ZGXS8sCiAgICAgICAgcGVnJGM4NiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsiZiIsICJGIl0sIGZhbHNlLCBmYWxzZSksCiAgICAgICAgcGVnJGM4NyA9IC9eW2FBXS8sCiAgICAgICAgcGVnJGM4OCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsiYSIsICJBIl0sIGZhbHNlLCBmYWxzZSksCiAgICAgICAgcGVnJGM4OSA9IC9eW2xMXS8sCiAgICAgICAgcGVnJGM5MCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsibCIsICJMIl0sIGZhbHNlLCBmYWxzZSksCiAgICAgICAgcGVnJGM5MSA9IC9eW3NTXS8sCiAgICAgICAgcGVnJGM5MiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsicyIsICJTIl0sIGZhbHNlLCBmYWxzZSksCiAgICAgICAgcGVnJGM5MyA9IC9eW3lZXS8sCiAgICAgICAgcGVnJGM5NCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsieSIsICJZIl0sIGZhbHNlLCBmYWxzZSksCiAgICAgICAgcGVnJGM5NSA9IC9eW25OXS8sCiAgICAgICAgcGVnJGM5NiA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsibiIsICJOIl0sIGZhbHNlLCBmYWxzZSksCiAgICAgICAgcGVnJGM5NyA9IC9eW1wtXS8sCiAgICAgICAgcGVnJGM5OCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsiLSJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjOTkgPSAvXlswLTldLywKICAgICAgICBwZWckYzEwMCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbIjAiLCAiOSJdXSwgZmFsc2UsIGZhbHNlKSwKICAgICAgICBwZWckYzEwMSA9ICIuIiwKICAgICAgICBwZWckYzEwMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oIi4iLCBmYWxzZSksCiAgICAgICAgcGVnJGMxMDMgPSBmdW5jdGlvbiBwZWckYzEwMygpIHsKICAgICAgcmV0dXJuIEV4cC5udW1iZXIodGV4dCgpLCBsb2NhdGlvbigpKTsKICAgIH0sCiAgICAgICAgcGVnJGMxMDQgPSBmdW5jdGlvbiBwZWckYzEwNChudW0pIHsKICAgICAgcmV0dXJuIG51bTsKICAgIH0sCiAgICAgICAgcGVnJGMxMDUgPSAiJyIsCiAgICAgICAgcGVnJGMxMDYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKCInIiwgZmFsc2UpLAogICAgICAgIHBlZyRjMTA3ID0gZnVuY3Rpb24gcGVnJGMxMDcoKSB7CiAgICAgIHJldHVybiB0ZXh0KCk7CiAgICB9LAogICAgICAgIHBlZyRjMTA4ID0gZnVuY3Rpb24gcGVnJGMxMDgoZXhwcmVzc2lvbikgewogICAgICByZXR1cm4gRXhwLmRhdGUoZXhwcmVzc2lvbiwgbG9jYXRpb24oKSk7CiAgICB9LAogICAgICAgIHBlZyRjMTA5ID0gcGVnJG90aGVyRXhwZWN0YXRpb24oImFscGhhIG51bWVyaWMiKSwKICAgICAgICBwZWckYzExMCA9IC9eW2EtekEtWjAtOS5dLywKICAgICAgICBwZWckYzExMSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtbImEiLCAieiJdLCBbIkEiLCAiWiJdLCBbIjAiLCAiOSJdLCAiLiJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjMTEyID0gcGVnJG90aGVyRXhwZWN0YXRpb24oIndoaXRlc3BhY2UiKSwKICAgICAgICBwZWckYzExMyA9IC9eWyBcdFxuXHJdLywKICAgICAgICBwZWckYzExNCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFsiICIsICJcdCIsICJcbiIsICJcciJdLCBmYWxzZSwgZmFsc2UpLAogICAgICAgIHBlZyRjdXJyUG9zID0gMCwKICAgICAgICBwZWckc2F2ZWRQb3MgPSAwLAogICAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGUgPSBbewogICAgICBsaW5lOiAxLAogICAgICBjb2x1bW46IDEKICAgIH1dLAogICAgICAgIHBlZyRtYXhGYWlsUG9zID0gMCwKICAgICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW10sCiAgICAgICAgcGVnJHNpbGVudEZhaWxzID0gMCwKICAgICAgICBwZWckcmVzdWx0OwoKICAgIGlmICgic3RhcnRSdWxlIiBpbiBvcHRpb25zKSB7CiAgICAgIGlmICghKG9wdGlvbnMuc3RhcnRSdWxlIGluIHBlZyRzdGFydFJ1bGVGdW5jdGlvbnMpKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBzdGFydCBwYXJzaW5nIGZyb20gcnVsZSBcIiIgKyBvcHRpb25zLnN0YXJ0UnVsZSArICJcIi4iKTsKICAgICAgfQoKICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uc1tvcHRpb25zLnN0YXJ0UnVsZV07CiAgICB9CgogICAgZnVuY3Rpb24gdGV4dCgpIHsKICAgICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTsKICAgIH0KCiAgICBmdW5jdGlvbiBsb2NhdGlvbigpIHsKICAgICAgcmV0dXJuIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7CiAgICB9CgogICAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb24sIGxvY2F0aW9uKSB7CiAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gIT09IHZvaWQgMCA/IGxvY2F0aW9uIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTsKICAgICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLCBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyksIGxvY2F0aW9uKTsKICAgIH0KCiAgICBmdW5jdGlvbiBlcnJvcihtZXNzYWdlLCBsb2NhdGlvbikgewogICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uICE9PSB2b2lkIDAgPyBsb2NhdGlvbiA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7CiAgICAgIHRocm93IHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKHRleHQsIGlnbm9yZUNhc2UpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiAibGl0ZXJhbCIsCiAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlCiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHMsIGludmVydGVkLCBpZ25vcmVDYXNlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogImNsYXNzIiwKICAgICAgICBwYXJ0czogcGFydHMsCiAgICAgICAgaW52ZXJ0ZWQ6IGludmVydGVkLAogICAgICAgIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckYW55RXhwZWN0YXRpb24oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogImFueSIKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckZW5kRXhwZWN0YXRpb24oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogImVuZCIKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbikgewogICAgICByZXR1cm4gewogICAgICAgIHR5cGU6ICJvdGhlciIsCiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uCiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBvcykgewogICAgICB2YXIgZGV0YWlscyA9IHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSwKICAgICAgICAgIHA7CgogICAgICBpZiAoZGV0YWlscykgewogICAgICAgIHJldHVybiBkZXRhaWxzOwogICAgICB9IGVsc2UgewogICAgICAgIHAgPSBwb3MgLSAxOwoKICAgICAgICB3aGlsZSAoIXBlZyRwb3NEZXRhaWxzQ2FjaGVbcF0pIHsKICAgICAgICAgIHAtLTsKICAgICAgICB9CgogICAgICAgIGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3BdOwogICAgICAgIGRldGFpbHMgPSB7CiAgICAgICAgICBsaW5lOiBkZXRhaWxzLmxpbmUsCiAgICAgICAgICBjb2x1bW46IGRldGFpbHMuY29sdW1uCiAgICAgICAgfTsKCiAgICAgICAgd2hpbGUgKHAgPCBwb3MpIHsKICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHApID09PSAxMCkgewogICAgICAgICAgICBkZXRhaWxzLmxpbmUrKzsKICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4rKzsKICAgICAgICAgIH0KCiAgICAgICAgICBwKys7CiAgICAgICAgfQoKICAgICAgICBwZWckcG9zRGV0YWlsc0NhY2hlW3Bvc10gPSBkZXRhaWxzOwogICAgICAgIHJldHVybiBkZXRhaWxzOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJGNvbXB1dGVMb2NhdGlvbihzdGFydFBvcywgZW5kUG9zKSB7CiAgICAgIHZhciBzdGFydFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoc3RhcnRQb3MpLAogICAgICAgICAgZW5kUG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhlbmRQb3MpOwogICAgICByZXR1cm4gewogICAgICAgIHN0YXJ0OiB7CiAgICAgICAgICBvZmZzZXQ6IHN0YXJ0UG9zLAogICAgICAgICAgbGluZTogc3RhcnRQb3NEZXRhaWxzLmxpbmUsCiAgICAgICAgICBjb2x1bW46IHN0YXJ0UG9zRGV0YWlscy5jb2x1bW4KICAgICAgICB9LAogICAgICAgIGVuZDogewogICAgICAgICAgb2Zmc2V0OiBlbmRQb3MsCiAgICAgICAgICBsaW5lOiBlbmRQb3NEZXRhaWxzLmxpbmUsCiAgICAgICAgICBjb2x1bW46IGVuZFBvc0RldGFpbHMuY29sdW1uCiAgICAgICAgfQogICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRmYWlsKGV4cGVjdGVkKSB7CiAgICAgIGlmIChwZWckY3VyclBvcyA8IHBlZyRtYXhGYWlsUG9zKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAocGVnJGN1cnJQb3MgPiBwZWckbWF4RmFpbFBvcykgewogICAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7CiAgICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCA9IFtdOwogICAgICB9CgogICAgICBwZWckbWF4RmFpbEV4cGVjdGVkLnB1c2goZXhwZWN0ZWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKSB7CiAgICAgIHJldHVybiBuZXcgcGVnJFN5bnRheEVycm9yKG1lc3NhZ2UsIG51bGwsIG51bGwsIGxvY2F0aW9uKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoZXhwZWN0ZWQsIGZvdW5kLCBsb2NhdGlvbikgewogICAgICByZXR1cm4gbmV3IHBlZyRTeW50YXhFcnJvcihwZWckU3ludGF4RXJyb3IuYnVpbGRNZXNzYWdlKGV4cGVjdGVkLCBmb3VuZCksIGV4cGVjdGVkLCBmb3VuZCwgbG9jYXRpb24pOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZVF1ZXJ5KCkgewogICAgICB2YXIgczAsIHMxOwogICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICBzMSA9IHBlZyRwYXJzZUNsYXVzZXMoKTsKCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgIHMxID0gcGVnJGMwKHMxKTsKICAgICAgfQoKICAgICAgczAgPSBzMTsKCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMxID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICBzMSA9IHBlZyRjMSgpOwogICAgICAgIH0KCiAgICAgICAgczAgPSBzMTsKICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZUNsYXVzZXMoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgczEgPSBudWxsOwogICAgICB9CgogICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMiA9IHBlZyRwYXJzZUNsYXVzZSgpOwoKICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMzID0gW107CiAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgczUgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBzNiA9IHBlZyRwYXJzZUNsYXVzZSgpOwoKICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczQ7CiAgICAgICAgICAgICAgczUgPSBwZWckYzIoczIsIHM2KTsKICAgICAgICAgICAgICBzNCA9IHM1OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7CiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0OwogICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CgogICAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHMzLnB1c2goczQpOwogICAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICBzNSA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZUNsYXVzZSgpOwoKICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM0OwogICAgICAgICAgICAgICAgczUgPSBwZWckYzIoczIsIHM2KTsKICAgICAgICAgICAgICAgIHM0ID0gczU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7CiAgICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7CiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHM0ID0gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgczEgPSBwZWckYzMoczIsIHMzKTsKICAgICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlQ2xhdXNlKCkgewogICAgICB2YXIgczA7CiAgICAgIHMwID0gcGVnJHBhcnNlR3JvdXBDbGF1c2UoKTsKCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMwID0gcGVnJHBhcnNlSXNDbGF1c2UoKTsKCiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMCA9IHBlZyRwYXJzZUZpZWxkQ2xhdXNlKCk7CgogICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHMwID0gcGVnJHBhcnNlVGVybUNsYXVzZSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZVN1Ykdyb3VwQ2xhdXNlKCkgewogICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzODsKICAgICAgczAgPSBwZWckY3VyclBvczsKCiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHsKICAgICAgICBzMSA9IHBlZyRjNDsKICAgICAgICBwZWckY3VyclBvcysrOwogICAgICB9IGVsc2UgewogICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgcGVnJGZhaWwocGVnJGM1KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMyID0gcGVnJHBhcnNlQ2xhdXNlKCk7CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBbXTsKICAgICAgICAgIHM0ID0gcGVnJGN1cnJQb3M7CiAgICAgICAgICBzNSA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHM1ID0gbnVsbDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgczYgPSBwZWckcGFyc2VvcldvcmQoKTsKCiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgICAgICAgaWYgKHM3ID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBzNyA9IG51bGw7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlQ2xhdXNlKCk7CgogICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM0OwogICAgICAgICAgICAgICAgICBzNSA9IHBlZyRjMihzMiwgczgpOwogICAgICAgICAgICAgICAgICBzNCA9IHM1OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDsKICAgICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0OwogICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0OwogICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDsKICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQoKICAgICAgICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBzMy5wdXNoKHM0KTsKICAgICAgICAgICAgczQgPSBwZWckY3VyclBvczsKICAgICAgICAgICAgczUgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgczUgPSBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZW9yV29yZCgpOwoKICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgICAgICAgICBpZiAoczcgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgczcgPSBudWxsOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZUNsYXVzZSgpOwoKICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczQ7CiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckYzIoczIsIHM4KTsKICAgICAgICAgICAgICAgICAgICBzNCA9IHM1OwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7CiAgICAgICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0OwogICAgICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7CiAgICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7CiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHsKICAgICAgICAgICAgICBzNCA9IHBlZyRjNjsKICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM3KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICAgIHMxID0gcGVnJGM4KHMyLCBzMyk7CiAgICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZUdyb3VwQ2xhdXNlKCkgewogICAgICB2YXIgczAsIHMxLCBzMiwgczM7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgIHMxID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMxID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkgewogICAgICAgICAgczIgPSBwZWckYzk7CiAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICBwZWckZmFpbChwZWckYzEwKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBwZWckcGFyc2VTdWJHcm91cENsYXVzZSgpOwoKICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgczEgPSBwZWckYzExKHMzKTsKICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMxID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczIgPSBwZWckcGFyc2VTdWJHcm91cENsYXVzZSgpOwoKICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgczEgPSBwZWckYzEyKHMyKTsKICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VUZXJtQ2xhdXNlKCkgewogICAgICB2YXIgczAsIHMxLCBzMiwgczM7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgIHMxID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMxID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkgewogICAgICAgICAgczIgPSBwZWckYzk7CiAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICBwZWckZmFpbChwZWckYzEwKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBwZWckcGFyc2V0ZXJtVmFsdWUoKTsKCiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgIHMxID0gcGVnJGMxMyhzMyk7CiAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICB9CgogICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgIHMxID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMyID0gcGVnJHBhcnNldGVybVZhbHVlKCk7CgogICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICBzMSA9IHBlZyRjMTQoczIpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZUlzQ2xhdXNlKCkgewogICAgICB2YXIgczAsIHMxLCBzMiwgczM7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgIHMxID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMxID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkgewogICAgICAgICAgczIgPSBwZWckYzk7CiAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICBwZWckZmFpbChwZWckYzEwKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBwZWckcGFyc2VJc0ZsYWcoKTsKCiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgIHMxID0gcGVnJGMxNShzMyk7CiAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICB9CgogICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgIHMxID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMyID0gcGVnJHBhcnNlSXNGbGFnKCk7CgogICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICBzMSA9IHBlZyRjMTYoczIpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZUlzRmxhZygpIHsKICAgICAgdmFyIHMwLCBzMSwgczI7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAzKSA9PT0gcGVnJGMxNykgewogICAgICAgIHMxID0gcGVnJGMxNzsKICAgICAgICBwZWckY3VyclBvcyArPSAzOwogICAgICB9IGVsc2UgewogICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgcGVnJGZhaWwocGVnJGMxOCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMiA9IHBlZyRwYXJzZWZsYWdOYW1lKCk7CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICBzMSA9IHBlZyRjMTkoczIpOwogICAgICAgICAgczAgPSBzMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VGaWVsZENsYXVzZSgpIHsKICAgICAgdmFyIHMwLCBzMSwgczIsIHMzOwogICAgICBwZWckc2lsZW50RmFpbHMrKzsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgczEgPSBudWxsOwogICAgICB9CgogICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7CiAgICAgICAgICBzMiA9IHBlZyRjOTsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTApOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMyA9IHBlZyRwYXJzZUZpZWxkRVFWYWx1ZSgpOwoKICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgczEgPSBwZWckYzIxKHMzKTsKICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMxID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkgewogICAgICAgICAgICBzMiA9IHBlZyRjOTsKICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzEwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBzMyA9IHBlZyRwYXJzZUZpZWxkRVhBQ1RWYWx1ZSgpOwoKICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgczEgPSBwZWckYzIyKHMzKTsKICAgICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgICAgICBzMSA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHMxID0gbnVsbDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkgewogICAgICAgICAgICAgIHMyID0gcGVnJGM5OwogICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgczIgPSBwZWckRkFJTEVEOwoKICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzEwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHMzID0gcGVnJHBhcnNlRmllbGRHVFZhbHVlKCk7CgogICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjMoczMpOwogICAgICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgczEgPSBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7CiAgICAgICAgICAgICAgICBzMiA9IHBlZyRjOTsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZUZpZWxkR1RFVmFsdWUoKTsKCiAgICAgICAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyNChzMyk7CiAgICAgICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICAgIHMxID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBzMSA9IG51bGw7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDUpIHsKICAgICAgICAgICAgICAgICAgczIgPSBwZWckYzk7CiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMxMCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgczMgPSBwZWckcGFyc2VGaWVsZExUVmFsdWUoKTsKCiAgICAgICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyNShzMyk7CiAgICAgICAgICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICAgICAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICBzMSA9IG51bGw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDUpIHsKICAgICAgICAgICAgICAgICAgICBzMiA9IHBlZyRjOTsKICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMxMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZUZpZWxkTFRFVmFsdWUoKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyNihzMyk7CiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICAgICAgICBzMSA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgICAgICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICBzMSA9IG51bGw7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJHBhcnNlRmllbGRFUVZhbHVlKCk7CgogICAgICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMjcoczIpOwogICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICAgIHMxID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckcGFyc2VGaWVsZEVYQUNUVmFsdWUoKTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyOChzMik7CiAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgczIgPSBwZWckcGFyc2VGaWVsZEdUVmFsdWUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyOShzMik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJHBhcnNlRmllbGRHVEVWYWx1ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzMwKHMyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJHBhcnNlRmllbGRMVFZhbHVlKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMzEoczIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJHBhcnNlRmllbGRMVEVWYWx1ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzMyKHMyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBwZWckc2lsZW50RmFpbHMtLTsKCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgcGVnJGZhaWwocGVnJGMyMCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlRmllbGRFUVZhbHVlKCkgewogICAgICB2YXIgczAsIHMxLCBzMiwgczM7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgIHMxID0gcGVnJHBhcnNlZmllbGROYW1lKCk7CgogICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU4KSB7CiAgICAgICAgICBzMiA9IHBlZyRjMzM7CiAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICBwZWckZmFpbChwZWckYzM0KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBwZWckcGFyc2VmaWVsZENvbnRhaW5zVmFsdWUoKTsKCiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgIHMxID0gcGVnJGMzNShzMSwgczMpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZUZpZWxkRVhBQ1RWYWx1ZSgpIHsKICAgICAgdmFyIHMwLCBzMSwgczIsIHMzOwogICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICBzMSA9IHBlZyRwYXJzZWZpZWxkTmFtZSgpOwoKICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MSkgewogICAgICAgICAgczIgPSBwZWckYzM2OwogICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgczIgPSBwZWckRkFJTEVEOwoKICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMzNyk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMzID0gcGVnJHBhcnNlZmllbGRDb250YWluc1ZhbHVlKCk7CgogICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICBzMSA9IHBlZyRjMzUoczEsIHMzKTsKICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VGaWVsZEdUVmFsdWUoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMzsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBwZWckcGFyc2VmaWVsZE5hbWUoKTsKCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjIpIHsKICAgICAgICAgIHMyID0gcGVnJGMzODsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMzkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMyA9IHBlZyRwYXJzZXJhbmdlVmFsdWUoKTsKCiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgIHMxID0gcGVnJGM0MChzMSwgczMpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZUZpZWxkR1RFVmFsdWUoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMzsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBwZWckcGFyc2VmaWVsZE5hbWUoKTsKCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQxKSB7CiAgICAgICAgICBzMiA9IHBlZyRjNDE7CiAgICAgICAgICBwZWckY3VyclBvcyArPSAyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICBwZWckZmFpbChwZWckYzQyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBwZWckcGFyc2VyYW5nZVZhbHVlKCk7CgogICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICBzMSA9IHBlZyRjNDAoczEsIHMzKTsKICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VGaWVsZExUVmFsdWUoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMzsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBwZWckcGFyc2VmaWVsZE5hbWUoKTsKCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjApIHsKICAgICAgICAgIHMyID0gcGVnJGM0MzsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDQpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMyA9IHBlZyRwYXJzZXJhbmdlVmFsdWUoKTsKCiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgIHMxID0gcGVnJGM0MChzMSwgczMpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZUZpZWxkTFRFVmFsdWUoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMzsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBwZWckcGFyc2VmaWVsZE5hbWUoKTsKCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQ1KSB7CiAgICAgICAgICBzMiA9IHBlZyRjNDU7CiAgICAgICAgICBwZWckY3VyclBvcyArPSAyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICBwZWckZmFpbChwZWckYzQ2KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczMgPSBwZWckcGFyc2VyYW5nZVZhbHVlKCk7CgogICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICBzMSA9IHBlZyRjNDAoczEsIHMzKTsKICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VmbGFnTmFtZSgpIHsKICAgICAgdmFyIHMwLCBzMTsKICAgICAgcGVnJHNpbGVudEZhaWxzKys7CiAgICAgIHMwID0gcGVnJHBhcnNlaWRlbnRpZmllcigpOwogICAgICBwZWckc2lsZW50RmFpbHMtLTsKCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgcGVnJGZhaWwocGVnJGM0Nyk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlZmllbGROYW1lKCkgewogICAgICB2YXIgczAsIHMxOwogICAgICBwZWckc2lsZW50RmFpbHMrKzsKICAgICAgczAgPSBwZWckcGFyc2VpZGVudGlmaWVyKCk7CiAgICAgIHBlZyRzaWxlbnRGYWlscy0tOwoKICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICBwZWckZmFpbChwZWckYzQ4KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VpZGVudGlmaWVyKCkgewogICAgICB2YXIgczAsIHMxLCBzMjsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBbXTsKICAgICAgczIgPSBwZWckcGFyc2VpZGVudGlmaWVyQ2hhcigpOwoKICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMS5wdXNoKHMyKTsKICAgICAgICAgIHMyID0gcGVnJHBhcnNlaWRlbnRpZmllckNoYXIoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwogICAgICB9CgogICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICBzMSA9IHBlZyRjNDkoKTsKICAgICAgfQoKICAgICAgczAgPSBzMTsKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWlkZW50aWZpZXJDaGFyKCkgewogICAgICB2YXIgczA7CiAgICAgIHMwID0gcGVnJHBhcnNlYWxudW0oKTsKCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChwZWckYzUwLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgIHMwID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMCA9IHBlZyRwYXJzZWVzY2FwZWRDaGFyKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlZmllbGRDb250YWluc1ZhbHVlKCkgewogICAgICB2YXIgczAsIHMxOwogICAgICBwZWckc2lsZW50RmFpbHMrKzsKICAgICAgczAgPSBwZWckcGFyc2Vjb250YWluc09yVmFsdWVzKCk7CgogICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMCA9IHBlZyRwYXJzZWNvbnRhaW5zVmFsdWUoKTsKICAgICAgfQoKICAgICAgcGVnJHNpbGVudEZhaWxzLS07CgogICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7CgogICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXRlcm1WYWx1ZSgpIHsKICAgICAgdmFyIHMwLCBzMTsKICAgICAgcGVnJHNpbGVudEZhaWxzKys7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgIHMxID0gcGVnJHBhcnNlY29udGFpbnNWYWx1ZSgpOwoKICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgczEgPSBwZWckYzU0KHMxKTsKICAgICAgfQoKICAgICAgczAgPSBzMTsKICAgICAgcGVnJHNpbGVudEZhaWxzLS07CgogICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7CgogICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTMpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWNvbnRhaW5zT3JWYWx1ZXMoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOTsKICAgICAgczAgPSBwZWckY3VyclBvczsKCiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDApIHsKICAgICAgICBzMSA9IHBlZyRjNDsKICAgICAgICBwZWckY3VyclBvcysrOwogICAgICB9IGVsc2UgewogICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgcGVnJGZhaWwocGVnJGM1KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMyID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgaWYgKHMyID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMiA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMzID0gcGVnJHBhcnNlY29udGFpbnNWYWx1ZSgpOwoKICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBzNCA9IFtdOwogICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICBzNiA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZW9yV29yZCgpOwoKICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2Vjb250YWluc1ZhbHVlKCk7CgogICAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNTsKICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRjNTUoczMsIHM5KTsKICAgICAgICAgICAgICAgICAgICBzNSA9IHM2OwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7CiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1OwogICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7CiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7CiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CgogICAgICAgICAgICB3aGlsZSAoczUgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBzNC5wdXNoKHM1KTsKICAgICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZW9yV29yZCgpOwoKICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZWNvbnRhaW5zVmFsdWUoKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNTsKICAgICAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJGM1NShzMywgczkpOwogICAgICAgICAgICAgICAgICAgICAgczUgPSBzNjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTsKICAgICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTsKICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7CiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTsKICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBzNSA9IG51bGw7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDEpIHsKICAgICAgICAgICAgICAgICAgczYgPSBwZWckYzY7CiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM3KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzU2KHMzLCBzNCk7CiAgICAgICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlcmFuZ2VWYWx1ZSgpIHsKICAgICAgdmFyIHMwOwogICAgICBzMCA9IHBlZyRwYXJzZW51bWJlcldvcmQoKTsKCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMwID0gcGVnJHBhcnNlZGF0ZSgpOwogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlY29udGFpbnNWYWx1ZSgpIHsKICAgICAgdmFyIHMwOwogICAgICBzMCA9IHBlZyRwYXJzZW51bWJlcldvcmQoKTsKCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMwID0gcGVnJHBhcnNlZGF0ZSgpOwoKICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMwID0gcGVnJHBhcnNlYm9vbGVhbldvcmQoKTsKCiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgczAgPSBwZWckcGFyc2VwaHJhc2UoKTsKCiAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHMwID0gcGVnJHBhcnNld29yZCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlcGhyYXNlKCkgewogICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOCwgczk7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM0KSB7CiAgICAgICAgczEgPSBwZWckYzU3OwogICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICBwZWckZmFpbChwZWckYzU4KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMyID0gcGVnJHBhcnNlc3BhY2UoKTsKCiAgICAgICAgaWYgKHMyID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMiA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMzID0gcGVnJGN1cnJQb3M7CiAgICAgICAgICBzNCA9IFtdOwogICAgICAgICAgczUgPSBwZWckcGFyc2VwaHJhc2VXb3JkKCk7CgogICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHdoaWxlIChzNSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHM0LnB1c2goczUpOwogICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlcGhyYXNlV29yZCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHM0ID0gbnVsbDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgczUgPSBbXTsKICAgICAgICAgICAgczYgPSBwZWckY3VyclBvczsKICAgICAgICAgICAgczcgPSBwZWckcGFyc2VzcGFjZSgpOwoKICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgczggPSBbXTsKICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZXBocmFzZVdvcmQoKTsKCiAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoczkgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgczgucHVzaChzOSk7CiAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlcGhyYXNlV29yZCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIHM3ID0gW3M3LCBzOF07CiAgICAgICAgICAgICAgICBzNiA9IHM3OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM2OwogICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM2OwogICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgd2hpbGUgKHM2ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgczUucHVzaChzNik7CiAgICAgICAgICAgICAgczYgPSBwZWckY3VyclBvczsKICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgczggPSBbXTsKICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlcGhyYXNlV29yZCgpOwoKICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICB3aGlsZSAoczkgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICBzOC5wdXNoKHM5KTsKICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZXBocmFzZVdvcmQoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICBzNyA9IFtzNywgczhdOwogICAgICAgICAgICAgICAgICBzNiA9IHM3OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNjsKICAgICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM2OwogICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7CiAgICAgICAgICAgICAgczQgPSBwZWckYzU5KCk7CiAgICAgICAgICAgICAgczMgPSBzNDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzOwogICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMzsKICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBzNCA9IHBlZyRwYXJzZXNwYWNlKCk7CgogICAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBzNCA9IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzQpIHsKICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM1NzsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgICAgIHMxID0gcGVnJGM2MChzMyk7CiAgICAgICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXBocmFzZVdvcmQoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyOwogICAgICBzMCA9IFtdOwoKICAgICAgaWYgKHBlZyRjNjEudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICBwZWckY3VyclBvcysrOwogICAgICB9IGVsc2UgewogICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgcGVnJGZhaWwocGVnJGM2Mik7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICB3aGlsZSAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMwLnB1c2goczEpOwoKICAgICAgICAgIGlmIChwZWckYzYxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpOwogICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNjIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgfQoKICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgczAgPSBwZWckY3VyclBvczsKCiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5MikgewogICAgICAgICAgczEgPSBwZWckYzYzOwogICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM2NCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIGlmIChpbnB1dC5sZW5ndGggPiBwZWckY3VyclBvcykgewogICAgICAgICAgICBzMiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM2NSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgczEgPSBbczEsIHMyXTsKICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2V3b3JkKCkgewogICAgICB2YXIgczAsIHMxLCBzMjsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBbXTsKICAgICAgczIgPSBwZWckcGFyc2V3b3JkQ2hhcigpOwoKICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgd2hpbGUgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMS5wdXNoKHMyKTsKICAgICAgICAgIHMyID0gcGVnJHBhcnNld29yZENoYXIoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwogICAgICB9CgogICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICBzMSA9IHBlZyRjNjYoKTsKICAgICAgfQoKICAgICAgczAgPSBzMTsKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXdvcmRDaGFyKCkgewogICAgICB2YXIgczA7CiAgICAgIHMwID0gcGVnJHBhcnNlYWxudW0oKTsKCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChwZWckYzY3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgIHMwID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNjgpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMCA9IHBlZyRwYXJzZWVzY2FwZWRDaGFyKCk7CgogICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHMwID0gcGVnJHBhcnNlZXh0ZW5kZWRHbHlwaCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWV4dGVuZGVkR2x5cGgoKSB7CiAgICAgIHZhciBzMDsKCiAgICAgIGlmIChwZWckYzY5LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CgogICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNzApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWVzY2FwZWRDaGFyKCkgewogICAgICB2YXIgczAsIHMxLCBzMjsKICAgICAgczAgPSBwZWckY3VyclBvczsKCiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTIpIHsKICAgICAgICBzMSA9IHBlZyRjNjM7CiAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7CgogICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNjQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgczIgPSBwZWckcGFyc2VyZXNlcnZlZENoYXIoKTsKCiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMSA9IFtzMSwgczJdOwogICAgICAgICAgczAgPSBzMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2VyZXNlcnZlZENoYXIoKSB7CiAgICAgIHZhciBzMDsKCiAgICAgIGlmIChwZWckYzcxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CgogICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNzIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZW9yV29yZCgpIHsKICAgICAgdmFyIHMwLCBzMSwgczI7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICBpZiAocGVnJGM3My50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpOwogICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICBwZWckZmFpbChwZWckYzc0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChwZWckYzc1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNzYpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMSA9IFtzMSwgczJdOwogICAgICAgICAgczAgPSBzMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBzMDsKICAgIH0KCiAgICBmdW5jdGlvbiBwZWckcGFyc2Vib29sZWFuV29yZCgpIHsKICAgICAgdmFyIHMwLCBzMSwgczIsIHMzOwogICAgICBzMCA9IHBlZyRjdXJyUG9zOwogICAgICBzMSA9IHBlZyRwYXJzZWJvb2xlYW4oKTsKCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMyID0gcGVnJGN1cnJQb3M7CiAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7CiAgICAgICAgczMgPSBwZWckcGFyc2VzcGFjZSgpOwogICAgICAgIHBlZyRzaWxlbnRGYWlscy0tOwoKICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7CiAgICAgICAgICBzMiA9IHZvaWQgMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgczIgPSBwZWckRkFJTEVEOwogICAgICAgIH0KCiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgIHMxID0gcGVnJGM3NyhzMSk7CiAgICAgICAgICBzMCA9IHMxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgfQoKICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgICBzMSA9IHBlZyRwYXJzZWJvb2xlYW4oKTsKCiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMiA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7CgogICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA+IHBlZyRjdXJyUG9zKSB7CiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzY1KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tOwoKICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBzMiA9IHZvaWQgMDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7CiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgIHMxID0gcGVnJGM3NyhzMSk7CiAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlYm9vbGVhbigpIHsKICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7CiAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICBpZiAocGVnJGM3OC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpOwogICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICBwZWckZmFpbChwZWckYzc5KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIGlmIChwZWckYzc1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNzYpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBpZiAocGVnJGM4MC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzgxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBpZiAocGVnJGM4Mi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpOwogICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwoKICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzgzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwOwogICAgICAgICAgICAgIHMxID0gcGVnJGM4NCgpOwogICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICAgIGlmIChwZWckYzg1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjODYpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBpZiAocGVnJGM4Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzg4KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBpZiAocGVnJGM4OS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpOwogICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEOwoKICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzkwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIGlmIChwZWckYzkxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjOTIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBpZiAocGVnJGM4Mi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgICAgICAgIHM1ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzgzKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzg0KCk7CiAgICAgICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICAgICAgaWYgKHBlZyRjOTMudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM5NCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgaWYgKHBlZyRjODIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM4Myk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBpZiAocGVnJGM5MS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzkyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjODQoKTsKICAgICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICAgICAgICBpZiAocGVnJGM5NS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpOwogICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzk2KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIGlmIChwZWckYzczLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNzQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgICAgIHMxID0gcGVnJGM4NCgpOwogICAgICAgICAgICAgICAgczAgPSBzMTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICAgICAgICAgIGlmIChwZWckYzczLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNzQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBpZiAocGVnJGM5NS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzk2KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzg0KCk7CiAgICAgICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CgogICAgICAgICAgICAgICAgaWYgKHBlZyRjNzMudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgICAgICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM3NCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgaWYgKHBlZyRjODUudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgICAgICAgICAgICAgIHMyID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM4Nik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGVnJGM4NS50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7CiAgICAgICAgICAgICAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzg2KTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRjODQoKTsKICAgICAgICAgICAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlbnVtYmVyKCkgewogICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3OwogICAgICBzMCA9IHBlZyRjdXJyUG9zOwoKICAgICAgaWYgKHBlZyRjOTcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICBwZWckY3VyclBvcysrOwogICAgICB9IGVsc2UgewogICAgICAgIHMxID0gcGVnJEZBSUxFRDsKCiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgcGVnJGZhaWwocGVnJGM5OCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMSA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMyID0gW107CgogICAgICAgIGlmIChwZWckYzk5LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTAwKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHMyLnB1c2goczMpOwoKICAgICAgICAgICAgaWYgKHBlZyRjOTkudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMxMDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHMzID0gW107CiAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zOwoKICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDYpIHsKICAgICAgICAgICAgczUgPSBwZWckYzEwMTsKICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzEwMik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgczYgPSBbXTsKCiAgICAgICAgICAgIGlmIChwZWckYzk5LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgICAgICBzNyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHdoaWxlIChzNyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgczYucHVzaChzNyk7CgogICAgICAgICAgICAgICAgaWYgKHBlZyRjOTkudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgICAgICAgICAgICBzNyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMxMDApOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgczUgPSBbczUsIHM2XTsKICAgICAgICAgICAgICBzNCA9IHM1OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7CiAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0OwogICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CgogICAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHMzLnB1c2goczQpOwogICAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zOwoKICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NikgewogICAgICAgICAgICAgIHM1ID0gcGVnJGMxMDE7CiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTAyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHM2ID0gW107CgogICAgICAgICAgICAgIGlmIChwZWckYzk5LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgICAgICAgIHM3ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgICAgd2hpbGUgKHM3ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICAgIHM2LnB1c2goczcpOwoKICAgICAgICAgICAgICAgICAgaWYgKHBlZyRjOTkudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkgewogICAgICAgICAgICAgICAgICAgIHM3ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMxMDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICAgIHM1ID0gW3M1LCBzNl07CiAgICAgICAgICAgICAgICBzNCA9IHM1OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0OwogICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM0OwogICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgczEgPSBwZWckYzEwMygpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZW51bWJlcldvcmQoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMzsKICAgICAgczAgPSBwZWckY3VyclBvczsKICAgICAgczEgPSBwZWckcGFyc2VudW1iZXIoKTsKCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMyID0gcGVnJGN1cnJQb3M7CiAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7CiAgICAgICAgczMgPSBwZWckcGFyc2VzcGFjZSgpOwogICAgICAgIHBlZyRzaWxlbnRGYWlscy0tOwoKICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7CiAgICAgICAgICBzMiA9IHZvaWQgMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgczIgPSBwZWckRkFJTEVEOwogICAgICAgIH0KCiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgIHMxID0gcGVnJGMxMDQoczEpOwogICAgICAgICAgczAgPSBzMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgIHMwID0gcGVnJGN1cnJQb3M7CiAgICAgICAgczEgPSBwZWckcGFyc2VudW1iZXIoKTsKCiAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBzMiA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7CgogICAgICAgICAgaWYgKGlucHV0Lmxlbmd0aCA+IHBlZyRjdXJyUG9zKSB7CiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzY1KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHBlZyRzaWxlbnRGYWlscy0tOwoKICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBzMiA9IHZvaWQgMDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczI7CiAgICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7CiAgICAgICAgICAgIHMxID0gcGVnJGMxMDQoczEpOwogICAgICAgICAgICBzMCA9IHMxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDsKICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMwOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWRhdGUoKSB7CiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjsKICAgICAgczAgPSBwZWckY3VyclBvczsKCiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzkpIHsKICAgICAgICBzMSA9IHBlZyRjMTA1OwogICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICBwZWckZmFpbChwZWckYzEwNik7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICBzMiA9IHBlZyRjdXJyUG9zOwogICAgICAgIHMzID0gW107CiAgICAgICAgczQgPSBwZWckY3VyclBvczsKICAgICAgICBzNSA9IHBlZyRjdXJyUG9zOwogICAgICAgIHBlZyRzaWxlbnRGYWlscysrOwoKICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7CiAgICAgICAgICBzNiA9IHBlZyRjMTA1OwogICAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgczYgPSBwZWckRkFJTEVEOwoKICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMxMDYpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcGVnJHNpbGVudEZhaWxzLS07CgogICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczUgPSB2b2lkIDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7CiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgIGlmIChpbnB1dC5sZW5ndGggPiBwZWckY3VyclBvcykgewogICAgICAgICAgICBzNiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7CgogICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM2NSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgczUgPSBbczUsIHM2XTsKICAgICAgICAgICAgczQgPSBzNTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7CiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDsKICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDsKICAgICAgICB9CgogICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgd2hpbGUgKHM0ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgIHMzLnB1c2goczQpOwogICAgICAgICAgICBzNCA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zOwogICAgICAgICAgICBwZWckc2lsZW50RmFpbHMrKzsKCiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzkpIHsKICAgICAgICAgICAgICBzNiA9IHBlZyRjMTA1OwogICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEOwoKICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzEwNik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTsKCiAgICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICAgIHM1ID0gdm9pZCAwOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7CiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHsKICAgICAgICAgICAgICBpZiAoaW5wdXQubGVuZ3RoID4gcGVnJGN1cnJQb3MpIHsKICAgICAgICAgICAgICAgIHM2ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTsKICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDsKCiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNjUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICAgICAgICBzNSA9IFtzNSwgczZdOwogICAgICAgICAgICAgICAgczQgPSBzNTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDsKICAgICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNDsKICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgczMgPSBwZWckRkFJTEVEOwogICAgICAgIH0KCiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7CiAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMjsKICAgICAgICAgIHMzID0gcGVnJGMxMDcoKTsKICAgICAgICB9CgogICAgICAgIHMyID0gczM7CgogICAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOSkgewogICAgICAgICAgICBzMyA9IHBlZyRjMTA1OwogICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEOwoKICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTA2KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDsKICAgICAgICAgICAgczEgPSBwZWckYzEwOChzMik7CiAgICAgICAgICAgIHMwID0gczE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwOwogICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHBlZyRjdXJyUG9zID0gczA7CiAgICAgICAgczAgPSBwZWckRkFJTEVEOwogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlYWxudW0oKSB7CiAgICAgIHZhciBzMCwgczE7CiAgICAgIHBlZyRzaWxlbnRGYWlscysrOwoKICAgICAgaWYgKHBlZyRjMTEwLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CgogICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTExKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHBlZyRzaWxlbnRGYWlscy0tOwoKICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICBwZWckZmFpbChwZWckYzEwOSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgZnVuY3Rpb24gcGVnJHBhcnNlc3BhY2UoKSB7CiAgICAgIHZhciBzMCwgczE7CiAgICAgIHBlZyRzaWxlbnRGYWlscysrOwogICAgICBzMCA9IFtdOwoKICAgICAgaWYgKHBlZyRjMTEzLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7CiAgICAgICAgcGVnJGN1cnJQb3MrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7CgogICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsKICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTE0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgIHdoaWxlIChzMSAhPT0gcGVnJEZBSUxFRCkgewogICAgICAgICAgczAucHVzaChzMSk7CgogICAgICAgICAgaWYgKHBlZyRjMTEzLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHsKICAgICAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpOwogICAgICAgICAgICBwZWckY3VyclBvcysrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgewogICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTE0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7CiAgICAgIH0KCiAgICAgIHBlZyRzaWxlbnRGYWlscy0tOwoKICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7CiAgICAgICAgczEgPSBwZWckRkFJTEVEOwoKICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7CiAgICAgICAgICBwZWckZmFpbChwZWckYzExMik7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gczA7CiAgICB9CgogICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucywKICAgICAgICBBU1QgPSBfb3B0aW9ucy5BU1QsCiAgICAgICAgRXhwID0gX29wdGlvbnMuRXhwLAogICAgICAgIHVuZXNjYXBlVmFsdWUgPSBfb3B0aW9ucy51bmVzY2FwZVZhbHVlLAogICAgICAgIHVuZXNjYXBlUGhyYXNlVmFsdWUgPSBfb3B0aW9ucy51bmVzY2FwZVBocmFzZVZhbHVlLAogICAgICAgIHJlc29sdmVGaWVsZFZhbHVlID0gX29wdGlvbnMucmVzb2x2ZUZpZWxkVmFsdWU7CiAgICB2YXIgY3R4ID0gT2JqZWN0LmFzc2lnbih7CiAgICAgIGVycm9yOiBlcnJvcgogICAgfSwgb3B0aW9ucyk7CiAgICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7CgogICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkgewogICAgICByZXR1cm4gcGVnJHJlc3VsdDsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7CiAgICAgICAgcGVnJGZhaWwocGVnJGVuZEV4cGVjdGF0aW9uKCkpOwogICAgICB9CgogICAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IocGVnJG1heEZhaWxFeHBlY3RlZCwgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGggPyBpbnB1dC5jaGFyQXQocGVnJG1heEZhaWxQb3MpIDogbnVsbCwgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGggPyBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcyArIDEpIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckbWF4RmFpbFBvcywgcGVnJG1heEZhaWxQb3MpKTsKICAgIH0KICB9CgogIHJldHVybiB7CiAgICBTeW50YXhFcnJvcjogcGVnJFN5bnRheEVycm9yLAogICAgcGFyc2U6IHBlZyRwYXJzZQogIH07Cn0oKTsKCnZhciB1bmVzY2FwZVZhbHVlID0gZnVuY3Rpb24gdW5lc2NhcGVWYWx1ZSh2YWx1ZSkgewogIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXChbOlwtXFwoKV0pL2csICckMScpOwp9OwoKdmFyIGVzY2FwZVZhbHVlID0gZnVuY3Rpb24gZXNjYXBlVmFsdWUodmFsdWUpIHsKICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKFs6XC1cXCgpXSkvZywgJ1xcJDEnKTsKfTsKCnZhciB1bmVzY2FwZVBocmFzZVZhbHVlID0gZnVuY3Rpb24gdW5lc2NhcGVQaHJhc2VWYWx1ZSh2YWx1ZSkgewogIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXCguKS9nLCAnJDEnKTsKfTsKCnZhciBlc2NhcGVQaHJhc2VWYWx1ZSA9IGZ1bmN0aW9uIGVzY2FwZVBocmFzZVZhbHVlKHZhbHVlKSB7CiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyhbXFwiXSkvZywgJ1xcJDEnKTsKfTsKCnZhciBlc2NhcGVGaWVsZFZhbHVlID0gZnVuY3Rpb24gZXNjYXBlRmllbGRWYWx1ZSh2YWx1ZSkgewogIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8oXFwpL2csICdcXCQxJyk7Cn07Cgp2YXIgRXhwID0gewogIGRhdGU6IGZ1bmN0aW9uIGRhdGUoZXhwcmVzc2lvbiwgbG9jYXRpb24pIHsKICAgIHJldHVybiB7CiAgICAgIHR5cGU6ICdkYXRlJywKICAgICAgZXhwcmVzc2lvbjogZXhwcmVzc2lvbiwKICAgICAgbG9jYXRpb246IGxvY2F0aW9uCiAgICB9OwogIH0sCiAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIoZXhwcmVzc2lvbiwgbG9jYXRpb24pIHsKICAgIHJldHVybiB7CiAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICBleHByZXNzaW9uOiBleHByZXNzaW9uLAogICAgICBsb2NhdGlvbjogbG9jYXRpb24KICAgIH07CiAgfSwKICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyhleHByZXNzaW9uLCBsb2NhdGlvbikgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgIGV4cHJlc3Npb246IGV4cHJlc3Npb24sCiAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbgogICAgfTsKICB9LAogIGJvb2xlYW46IGZ1bmN0aW9uIGJvb2xlYW4oZXhwcmVzc2lvbiwgbG9jYXRpb24pIHsKICAgIHJldHVybiB7CiAgICAgIHR5cGU6ICdib29sZWFuJywKICAgICAgZXhwcmVzc2lvbjogZXhwcmVzc2lvbiwKICAgICAgbG9jYXRpb246IGxvY2F0aW9uCiAgICB9OwogIH0KfTsKCnZhciB2YWxpZGF0ZUZsYWcgPSBmdW5jdGlvbiB2YWxpZGF0ZUZsYWcoZmxhZywgbG9jYXRpb24sIGN0eCkgewogIGlmIChjdHguc2NoZW1hICYmIGN0eC5zY2hlbWEuc3RyaWN0KSB7CiAgICBpZiAoY3R4LnNjaGVtYS5mbGFncyAmJiBjdHguc2NoZW1hLmZsYWdzLmluY2x1ZGVzKGZsYWcpKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoY3R4LnNjaGVtYS5maWVsZHMgJiYgY3R4LnNjaGVtYS5maWVsZHNbZmxhZ10gJiYgY3R4LnNjaGVtYS5maWVsZHNbZmxhZ10udHlwZSA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjdHguZXJyb3IoIlVua25vd24gZmxhZyBgIi5jb25jYXQoZmxhZywgImAiKSk7CiAgfQp9OwoKdmFyIHZhbGlkYXRlRmllbGRWYWx1ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlRmllbGRWYWx1ZShmaWVsZCwgc2NoZW1hRmllbGQsIGV4cHJlc3Npb24sIHZhbHVlLCBsb2NhdGlvbiwgZXJyb3IpIHsKICBpZiAoc2NoZW1hRmllbGQgJiYgc2NoZW1hRmllbGQudmFsaWRhdGUpIHsKICAgIHRyeSB7CiAgICAgIHNjaGVtYUZpZWxkLnZhbGlkYXRlKHZhbHVlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3IoIkludmFsaWQgdmFsdWUgYCIuY29uY2F0KGV4cHJlc3Npb24sICJgIHNldCBmb3IgZmllbGQgYCIpLmNvbmNhdChmaWVsZCwgImAgLSAiKS5jb25jYXQoZS5tZXNzYWdlKSwgbG9jYXRpb24pOwogICAgfQogIH0KfTsKCnZhciByZXNvbHZlRmllbGRWYWx1ZSA9IGZ1bmN0aW9uIHJlc29sdmVGaWVsZFZhbHVlKGZpZWxkLCB2YWx1ZUV4cHJlc3Npb24sIGN0eCkgewogIHZhciBzY2hlbWEgPSBjdHguc2NoZW1hLAogICAgICBlcnJvciA9IGN0eC5lcnJvciwKICAgICAgcGFyc2VEYXRlID0gY3R4LnBhcnNlRGF0ZTsKCiAgaWYgKGlzQXJyYXkodmFsdWVFeHByZXNzaW9uKSkgewogICAgLy8gSSBkb24ndCBrbm93IGlmIHRoaXMgY2FzdCBpcyB2YWxpZC4gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgcmVjdXJzaXZlbHkgYW5kCiAgICAvLyBkb2Vzbid0IGFwcGx5IGFueSBraW5kIG9mIGZsYXQtbWFwLgogICAgcmV0dXJuIHZhbHVlRXhwcmVzc2lvbi5tYXAoZnVuY3Rpb24gKGV4cCkgewogICAgICByZXR1cm4gcmVzb2x2ZUZpZWxkVmFsdWUoZmllbGQsIGV4cCwgY3R4KTsKICAgIH0pOwogIH0KCiAgdmFyIGxvY2F0aW9uID0gdmFsdWVFeHByZXNzaW9uLmxvY2F0aW9uOwogIHZhciB0eXBlID0gdmFsdWVFeHByZXNzaW9uLnR5cGUsCiAgICAgIGV4cHJlc3Npb24gPSB2YWx1ZUV4cHJlc3Npb24uZXhwcmVzc2lvbjsKCiAgaWYgKHNjaGVtYSAmJiAhc2NoZW1hLmZpZWxkc1tmaWVsZF0gJiYgc2NoZW1hLnN0cmljdCkgewogICAgZXJyb3IoIlVua25vd24gZmllbGQgYCIuY29uY2F0KGZpZWxkLCAiYCIpLCBsb2NhdGlvbik7CiAgfQoKICB2YXIgc2NoZW1hRmllbGQgPSBzY2hlbWEgJiYgc2NoZW1hLmZpZWxkc1tmaWVsZF07CgogIGlmIChzY2hlbWFGaWVsZCAmJiBzY2hlbWFGaWVsZC50eXBlICE9PSB0eXBlICYmIHNjaGVtYS5zdHJpY3QpIHsKICAgIGlmIChzY2hlbWFGaWVsZC50eXBlID09PSAnc3RyaW5nJykgewogICAgICBleHByZXNzaW9uID0gdmFsdWVFeHByZXNzaW9uLmV4cHJlc3Npb24gPSBleHByZXNzaW9uLnRvU3RyaW5nKCk7CiAgICAgIHR5cGUgPSB2YWx1ZUV4cHJlc3Npb24udHlwZSA9ICdzdHJpbmcnOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHZhbHVlRGVzYyA9IHNjaGVtYUZpZWxkLnZhbHVlRGVzY3JpcHRpb24gfHwgImEgIi5jb25jYXQoc2NoZW1hRmllbGQudHlwZSwgIiB2YWx1ZSIpOwogICAgICBlcnJvcigiRXhwZWN0ZWQgIi5jb25jYXQodmFsdWVEZXNjLCAiIGZvciBmaWVsZCBgIikuY29uY2F0KGZpZWxkLCAiYCwgYnV0IGZvdW5kIGAiKS5jb25jYXQoZXhwcmVzc2lvbiwgImAiKSwgbG9jYXRpb24pOwogICAgfQogIH0KCiAgc3dpdGNoICh0eXBlKSB7CiAgICBjYXNlICdkYXRlJzoKICAgICAgdmFyIGRhdGUgPSBudWxsOwoKICAgICAgdHJ5IHsKICAgICAgICBkYXRlID0gcGFyc2VEYXRlKGV4cHJlc3Npb24pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgZXJyb3IoIkludmFsaWQgZGF0YSBgIi5jb25jYXQoZXhwcmVzc2lvbiwgImAgc2V0IGZvciBmaWVsZCBgIikuY29uY2F0KGZpZWxkLCAiYCIpLCBsb2NhdGlvbik7CiAgICAgIH0gLy8gZXJyb3IoKSB0aHJvd3MgYW4gZXhjZXB0aW9uIGlmIGNhbGxlZCwgc28gbm93IGBkYXRlYCBpcyBub3QgbnVsbC4KCgogICAgICB2YWxpZGF0ZUZpZWxkVmFsdWUoZmllbGQsIHNjaGVtYUZpZWxkLCBleHByZXNzaW9uLCBkYXRlLCBsb2NhdGlvbiwgZXJyb3IpOwogICAgICByZXR1cm4gZGF0ZTsKCiAgICBjYXNlICdudW1iZXInOgogICAgICB2YXIgbnVtYmVyID0gTnVtYmVyKGV4cHJlc3Npb24pOwoKICAgICAgaWYgKE51bWJlci5pc05hTihudW1iZXIpKSB7CiAgICAgICAgZXJyb3IoIkludmFsaWQgbnVtYmVyIGAiLmNvbmNhdChleHByZXNzaW9uLCAiYCBzZXQgZm9yIGZpZWxkIGAiKS5jb25jYXQoZmllbGQsICJgIiksIGxvY2F0aW9uKTsKICAgICAgfQoKICAgICAgdmFsaWRhdGVGaWVsZFZhbHVlKGZpZWxkLCBzY2hlbWFGaWVsZCwgZXhwcmVzc2lvbiwgbnVtYmVyLCBsb2NhdGlvbiwgZXJyb3IpOwogICAgICByZXR1cm4gbnVtYmVyOwoKICAgIGNhc2UgJ2Jvb2xlYW4nOgogICAgICAvLyBGSVhNRSBUaGlzIHdvdWxkIGFsc28gbWF0Y2ggJ2xpb24nLiBJdCBzaG91bGQgcmVhbGx5IGFuY2hvciB0aGUgbWF0Y2gKICAgICAgLy8gYW5kIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSBpbnB1dC4KICAgICAgdmFyIGJvb2xlYW4gPSAhIWV4cHJlc3Npb24ubWF0Y2goL3RydWV8eWVzfG9uL2kpOwogICAgICB2YWxpZGF0ZUZpZWxkVmFsdWUoZmllbGQsIHNjaGVtYUZpZWxkLCBleHByZXNzaW9uLCBib29sZWFuLCBsb2NhdGlvbiwgZXJyb3IpOwogICAgICByZXR1cm4gYm9vbGVhbjsKCiAgICBkZWZhdWx0OgogICAgICB2YWxpZGF0ZUZpZWxkVmFsdWUoZmllbGQsIHNjaGVtYUZpZWxkLCBleHByZXNzaW9uLCBleHByZXNzaW9uLCBsb2NhdGlvbiwgZXJyb3IpOwogICAgICByZXR1cm4gZXhwcmVzc2lvbjsKICB9Cn07Cgp2YXIgcHJpbnRWYWx1ZSA9IGZ1bmN0aW9uIHByaW50VmFsdWUodmFsdWUsIG9wdGlvbnMpIHsKICBpZiAoaXNEYXRlVmFsdWUodmFsdWUpKSB7CiAgICByZXR1cm4gIiciLmNvbmNhdCh2YWx1ZS50ZXh0LCAiJyIpOwogIH0KCiAgaWYgKGlzRGF0ZUxpa2UodmFsdWUpKSB7CiAgICB2YXIgZGF0ZUZvcm1hdCA9IG9wdGlvbnMuZGF0ZUZvcm1hdCB8fCBkZWZhdWx0RGF0ZUZvcm1hdDsKICAgIHJldHVybiAiJyIuY29uY2F0KGRhdGVGb3JtYXQucHJpbnQodmFsdWUpLCAiJyIpOwogIH0KCiAgaWYgKCFpc1N0cmluZyh2YWx1ZSkpIHsKICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpOwogIH0KCiAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCB8fCB2YWx1ZS5tYXRjaCgvXHMvKSB8fCB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnb3InKSB7CiAgICByZXR1cm4gIlwiIi5jb25jYXQoZXNjYXBlUGhyYXNlVmFsdWUodmFsdWUpLCAiXCIiKTsKICB9CgogIHZhciBlc2NhcGVGbiA9IG9wdGlvbnMuZXNjYXBlVmFsdWUgfHwgZXNjYXBlVmFsdWU7CiAgcmV0dXJuIGVzY2FwZUZuKHZhbHVlKTsKfTsKCnZhciByZXNvbHZlT3BlcmF0b3IgPSBmdW5jdGlvbiByZXNvbHZlT3BlcmF0b3Iob3BlcmF0b3IpIHsKICBzd2l0Y2ggKG9wZXJhdG9yKSB7CiAgICBjYXNlIEFTVC5PcGVyYXRvci5FUToKICAgICAgcmV0dXJuICc6JzsKCiAgICBjYXNlIEFTVC5PcGVyYXRvci5FWEFDVDoKICAgICAgcmV0dXJuICc9JzsKCiAgICBjYXNlIEFTVC5PcGVyYXRvci5HVDoKICAgICAgcmV0dXJuICc+JzsKCiAgICBjYXNlIEFTVC5PcGVyYXRvci5HVEU6CiAgICAgIHJldHVybiAnPj0nOwoKICAgIGNhc2UgQVNULk9wZXJhdG9yLkxUOgogICAgICByZXR1cm4gJzwnOwoKICAgIGNhc2UgQVNULk9wZXJhdG9yLkxURToKICAgICAgcmV0dXJuICc8PSc7CgogICAgZGVmYXVsdDoKICAgICAgdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIGZpZWxkL3ZhbHVlIG9wZXJhdG9yIFsiLmNvbmNhdChvcGVyYXRvciwgIl0iKSk7CiAgfQp9OwoKZXhwb3J0IHZhciBkZWZhdWx0U3ludGF4ID0gT2JqZWN0LmZyZWV6ZSh7CiAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKHF1ZXJ5KSB7CiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICB2YXIgZGF0ZUZvcm1hdCA9IG9wdGlvbnMuZGF0ZUZvcm1hdCB8fCBkZWZhdWx0RGF0ZUZvcm1hdDsKICAgIHZhciBwYXJzZURhdGUgPSBkYXRlVmFsdWVQYXJzZXIoZGF0ZUZvcm1hdCk7CiAgICB2YXIgc2NoZW1hID0gb3B0aW9ucy5zY2hlbWEgfHwge307CiAgICB2YXIgY2xhdXNlcyA9IHBhcnNlci5wYXJzZShxdWVyeSwgewogICAgICBBU1Q6IEFTVCwKICAgICAgRXhwOiBFeHAsCiAgICAgIHVuZXNjYXBlVmFsdWU6IHVuZXNjYXBlVmFsdWUsCiAgICAgIHVuZXNjYXBlUGhyYXNlVmFsdWU6IHVuZXNjYXBlUGhyYXNlVmFsdWUsCiAgICAgIHBhcnNlRGF0ZTogcGFyc2VEYXRlLAogICAgICByZXNvbHZlRmllbGRWYWx1ZTogcmVzb2x2ZUZpZWxkVmFsdWUsCiAgICAgIHZhbGlkYXRlRmxhZzogdmFsaWRhdGVGbGFnLAogICAgICBzY2hlbWE6IF9vYmplY3RTcHJlYWQoewogICAgICAgIHN0cmljdDogZmFsc2UsCiAgICAgICAgZmxhZ3M6IFtdLAogICAgICAgIGZpZWxkczoge30KICAgICAgfSwgc2NoZW1hKQogICAgfSk7CiAgICByZXR1cm4gQVNULmNyZWF0ZShjbGF1c2VzKTsKICB9LAogIHByaW50Q2xhdXNlOiBmdW5jdGlvbiBwcmludENsYXVzZShjbGF1c2UsIHRleHQsIG9wdGlvbnMpIHsKICAgIHZhciBwcmVmaXggPSBBU1QuTWF0Y2guaXNNdXN0Q2xhdXNlKGNsYXVzZSkgPyAnJyA6ICctJzsKCiAgICBzd2l0Y2ggKGNsYXVzZS50eXBlKSB7CiAgICAgIGNhc2UgQVNULkZpZWxkLlRZUEU6CiAgICAgICAgdmFyIG9wID0gcmVzb2x2ZU9wZXJhdG9yKGNsYXVzZS5vcGVyYXRvcik7CgogICAgICAgIHZhciBwcmludEZpZWxkVmFsdWVPcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSwge30sIHsKICAgICAgICAgIGVzY2FwZVZhbHVlOiBlc2NhcGVGaWVsZFZhbHVlCiAgICAgICAgfSk7CgogICAgICAgIGlmIChpc0FycmF5KGNsYXVzZS52YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQodGV4dCwgIiAiKS5jb25jYXQocHJlZml4KS5jb25jYXQoZXNjYXBlVmFsdWUoY2xhdXNlLmZpZWxkKSkuY29uY2F0KG9wLCAiKCIpLmNvbmNhdChjbGF1c2UudmFsdWUubWFwKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgcmV0dXJuIHByaW50VmFsdWUodmFsLCBwcmludEZpZWxkVmFsdWVPcHRpb25zKTsKICAgICAgICAgIH0pLmpvaW4oJyBvciAnKSwgIikiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRleHQsICIgIikuY29uY2F0KHByZWZpeCkuY29uY2F0KGVzY2FwZVZhbHVlKGNsYXVzZS5maWVsZCkpLmNvbmNhdChvcCkuY29uY2F0KHByaW50VmFsdWUoY2xhdXNlLnZhbHVlLCBwcmludEZpZWxkVmFsdWVPcHRpb25zKSk7CgogICAgICBjYXNlIEFTVC5Jcy5UWVBFOgogICAgICAgIHJldHVybiAiIi5jb25jYXQodGV4dCwgIiAiKS5jb25jYXQocHJlZml4LCAiaXM6IikuY29uY2F0KGVzY2FwZVZhbHVlKGNsYXVzZS5mbGFnKSk7CgogICAgICBjYXNlIEFTVC5UZXJtLlRZUEU6CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh0ZXh0LCAiICIpLmNvbmNhdChwcmVmaXgpLmNvbmNhdChwcmludFZhbHVlKGNsYXVzZS52YWx1ZSwgb3B0aW9ucykpOwoKICAgICAgY2FzZSBBU1QuR3JvdXAuVFlQRToKICAgICAgICByZXR1cm4gIigiLmNvbmNhdChjbGF1c2UudmFsdWUubWFwKGZ1bmN0aW9uIChjbGF1c2UpIHsKICAgICAgICAgIHJldHVybiBkZWZhdWx0U3ludGF4LnByaW50Q2xhdXNlKGNsYXVzZSwgdGV4dCwgb3B0aW9ucykudHJpbSgpOwogICAgICAgIH0pLmpvaW4oJyBPUiAnKSwgIikiKTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuIHRleHQ7CiAgICB9CiAgfSwKICBwcmludDogZnVuY3Rpb24gcHJpbnQoYXN0KSB7CiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICByZXR1cm4gYXN0LmNsYXVzZXMucmVkdWNlKGZ1bmN0aW9uICh0ZXh0LCBjbGF1c2UpIHsKICAgICAgcmV0dXJuIGRlZmF1bHRTeW50YXgucHJpbnRDbGF1c2UoY2xhdXNlLCB0ZXh0LCBvcHRpb25zKTsKICAgIH0sICcnKS50cmltKCk7CiAgfQp9KTs="},{"version":3,"sources":["D:/work/eui/src/components/search_bar/query/default_syntax.ts"],"names":["AST","isArray","isString","isDateLike","dateFormat","defaultDateFormat","dateValueParser","isDateValue","parser","peg$subclass","child","parent","ctor","constructor","prototype","peg$SyntaxError","message","expected","found","location","name","Error","captureStackTrace","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","text","escapedParts","i","parts","length","Array","classEscape","inverted","any","end","other","description","hex","ch","charCodeAt","toString","toUpperCase","s","replace","describeExpectation","type","describeExpected","descriptions","j","sort","slice","join","describeFound","peg$parse","input","options","peg$FAILED","peg$startRuleFunctions","Query","peg$parseQuery","peg$startRuleFunction","peg$c0","clauses","peg$c1","peg$c2","head","clause","peg$c3","tail","peg$c4","peg$c5","peg$literalExpectation","peg$c6","peg$c7","peg$c8","peg$c9","peg$c10","peg$c11","group","Group","mustNot","peg$c12","must","peg$c13","value","Term","peg$c14","peg$c15","flag","Is","peg$c16","peg$c17","peg$c18","peg$c19","validateFlag","ctx","peg$c20","peg$otherExpectation","peg$c21","fv","Field","eq","field","peg$c22","exact","peg$c23","gt","peg$c24","gte","peg$c25","lt","peg$c26","lte","peg$c27","peg$c28","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","peg$c34","peg$c35","valueExpression","resolveFieldValue","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","peg$c41","peg$c42","peg$c43","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","unescapeValue","peg$c50","peg$c51","peg$classExpectation","peg$c52","peg$c53","peg$c54","expression","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","unescapePhraseValue","peg$c60","phrase","Exp","string","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$anyExpectation","peg$c66","toLowerCase","error","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","peg$c72","peg$c73","peg$c74","peg$c75","peg$c76","peg$c77","bool","peg$c78","peg$c79","peg$c80","peg$c81","peg$c82","peg$c83","peg$c84","boolean","peg$c85","peg$c86","peg$c87","peg$c88","peg$c89","peg$c90","peg$c91","peg$c92","peg$c93","peg$c94","peg$c95","peg$c96","peg$c97","peg$c98","peg$c99","peg$c100","peg$c101","peg$c102","peg$c103","number","peg$c104","num","peg$c105","peg$c106","peg$c107","peg$c108","date","peg$c109","peg$c110","peg$c111","peg$c112","peg$c113","peg$c114","peg$currPos","peg$savedPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","peg$result","startRule","substring","peg$computeLocation","peg$buildStructuredError","peg$buildSimpleError","ignoreCase","peg$endExpectation","peg$computePosDetails","pos","details","p","startPos","endPos","startPosDetails","endPosDetails","start","offset","peg$fail","push","s0","s1","peg$parseClauses","peg$parsespace","s2","s3","s4","s5","s6","peg$parseClause","peg$parseGroupClause","peg$parseIsClause","peg$parseFieldClause","peg$parseTermClause","peg$parseSubGroupClause","s7","s8","peg$parseorWord","peg$parsetermValue","peg$parseIsFlag","substr","peg$parseflagName","peg$parseFieldEQValue","peg$parseFieldEXACTValue","peg$parseFieldGTValue","peg$parseFieldGTEValue","peg$parseFieldLTValue","peg$parseFieldLTEValue","peg$parsefieldName","peg$parsefieldContainsValue","peg$parserangeValue","peg$parseidentifier","peg$parseidentifierChar","peg$parsealnum","test","charAt","peg$parseescapedChar","peg$parsecontainsOrValues","peg$parsecontainsValue","s9","peg$parsenumberWord","peg$parsedate","peg$parsebooleanWord","peg$parsephrase","peg$parseword","peg$parsephraseWord","peg$parsewordChar","peg$parseextendedGlyph","peg$parsereservedChar","peg$parseboolean","peg$parsenumber","Object","assign","SyntaxError","parse","escapeValue","escapePhraseValue","escapeFieldValue","schema","strict","flags","includes","fields","validateFieldValue","schemaField","validate","e","parseDate","map","exp","valueDesc","valueDescription","Number","isNaN","match","printValue","print","escapeFn","resolveOperator","operator","Operator","EQ","EXACT","GT","GTE","LT","LTE","defaultSyntax","freeze","query","create","printClause","prefix","Match","isMustClause","TYPE","op","printFieldValueOptions","val","trim","ast","reduce"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { _AST, AST, Clause, OperatorType, Value } from './ast';\nimport { isArray, isString, isDateLike } from '../../../services/predicate';\nimport { dateFormat as defaultDateFormat } from './date_format';\nimport { DateValue, dateValueParser, isDateValue } from './date_value';\n// @ts-ignore This is a Babel plugin that parses inline PEG grammars.\nimport peg from 'pegjs-inline-precompile'; // eslint-disable-line import/no-unresolved\n\nconst parser = peg`\n{\n  const { AST, Exp, unescapeValue, unescapePhraseValue, resolveFieldValue } = options;\n  const ctx = Object.assign({ error }, options );\n}\n\nQuery\n  = clauses:Clauses { return clauses; }\n  / space? { return []; }\n\nClauses\n  = space? head:Clause tail:(\n  \tspace clause:Clause { return clause }\n  )* space? {\n  \treturn [ head, ...tail]\n  }\n\nClause\n  = GroupClause\n  / IsClause\n  / FieldClause\n  / TermClause\n\nSubGroupClause\n  = \"(\" head:Clause tail:(\n    space? orWord space? clause:Clause { return clause }\n  )* \")\" {\n    return [head, ...tail];\n  }\n\nGroupClause\n  = space? \"-\" group:SubGroupClause { return AST.Group.mustNot(group) }\n  / space? group:SubGroupClause { return AST.Group.must(group) }\n\nTermClause\n  = space? \"-\" value:termValue { return AST.Term.mustNot(value); }\n  / space? value:termValue { return AST.Term.must(value); }\n\nIsClause\n  = space? \"-\" flag:IsFlag { return AST.Is.mustNot(flag); }\n  / space? flag:IsFlag { return AST.Is.must(flag); }\n\nIsFlag\n  = \"is:\" flag:flagName {\n    validateFlag(flag, location(), ctx);\n    return flag;\n  }\n\nFieldClause \"field\"\n  = space? \"-\" fv:FieldEQValue { return AST.Field.mustNot.eq(fv.field, fv.value); }\n  / space? \"-\" fv:FieldEXACTValue { return AST.Field.mustNot.exact(fv.field, fv.value); }\n  / space? \"-\" fv:FieldGTValue { return AST.Field.mustNot.gt(fv.field, fv.value); }\n  / space? \"-\" fv:FieldGTEValue { return AST.Field.mustNot.gte(fv.field, fv.value); }\n  / space? \"-\" fv:FieldLTValue { return AST.Field.mustNot.lt(fv.field, fv.value); }\n  / space? \"-\" fv:FieldLTEValue { return AST.Field.mustNot.lte(fv.field, fv.value); }\n  / space? fv:FieldEQValue { return AST.Field.must.eq(fv.field, fv.value); }\n  / space? fv:FieldEXACTValue { return AST.Field.must.exact(fv.field, fv.value); }\n  / space? fv:FieldGTValue { return AST.Field.must.gt(fv.field, fv.value); }\n  / space? fv:FieldGTEValue { return AST.Field.must.gte(fv.field, fv.value); }\n  / space? fv:FieldLTValue { return AST.Field.must.lt(fv.field, fv.value); }\n  / space? fv:FieldLTEValue { return AST.Field.must.lte(fv.field, fv.value); }\n\nFieldEQValue\n  = field:fieldName \":\" valueExpression:fieldContainsValue {\n  \treturn {field, value: resolveFieldValue(field, valueExpression, ctx) };\n  }\n\nFieldEXACTValue\n  = field:fieldName \"=\" valueExpression:fieldContainsValue {\n  \treturn {field, value: resolveFieldValue(field, valueExpression, ctx) };\n  }\n\nFieldGTValue\n  = field:fieldName \">\" valueExpression:fieldRangeValue {\n    return {field, value: resolveFieldValue(field, valueExpression, ctx)};\n  }\n\nFieldGTEValue\n  = field:fieldName \">=\" valueExpression:fieldRangeValue {\n    return {field, value: resolveFieldValue(field, valueExpression, ctx)};\n  }\n\nFieldLTValue\n  = field:fieldName \"<\" valueExpression:fieldRangeValue {\n    return {field, value: resolveFieldValue(field, valueExpression, ctx)};\n  }\n\nFieldLTEValue\n  = field:fieldName \"<=\" valueExpression:fieldRangeValue {\n    return {field, value: resolveFieldValue(field, valueExpression, ctx)};\n  }\n\nflagName \"flag name\"\n  = identifier\n\nfieldName \"field name\"\n  = identifier\n\nidentifier\n  = identifierChar+ { return unescapeValue(text()); }\n\nidentifierChar\n  = alnum\n  / [-_]\n  / escapedChar\n\nfieldRangeValue\n  = rangeValue\n\nfieldContainsValue \"field value\"\n  = containsOrValues\n  / containsValue\n\ntermValue \"term\"\n  = value:containsValue { return value.expression; }\n\ncontainsOrValues\n  = \"(\" space? head:containsValue tail:(\n  \tspace orWord space value:containsValue { return value; }\n  )* space? \")\" { return [ head, ...tail ]; }\n\nrangeValue\n  = numberWord\n  / date\n\ncontainsValue\n  = numberWord\n  / date\n  / booleanWord\n  / phrase\n  / word\n\nphrase\n  = '\"' space? phrase:(\n  \t(phraseWord+)? (space phraseWord+)* { return unescapePhraseValue(text()); }\n  ) space? '\"' { return Exp.string(phrase, location()); }\n\nphraseWord\n  // not a backslash, quote, or space\n  = [^\\\\\\\\\" ]+\n  // escaped character\n  / '\\\\\\\\' (.)\n\nword\n  = wordChar+ {\n      if (text().toLowerCase() === 'or') {\n        error(\n          'To use OR in a text search, put it inside quotes: \"or\". To ' +\n          'perform a logical OR, enclose the words in parenthesis: (foo:bar or bar).'\n        );\n      }\n      return Exp.string(unescapeValue(text()), location());\n    }\n\nwordChar\n  = alnum\n  / [-_*:/]\n  / escapedChar\n  / extendedGlyph\n\n// This isn't _strictly_ correct:\n// for our purposes, a non-ascii word character is considered to\n// be anything above \\`Latin-1 Punctuation & Symbols\\`, which ends at U+00BF\n// This allows any non-ascii character, including the full set of unicode characters\n// even those in the supplementary planes (U+010000  U+10FFFF) as those will be seen individually\n// in their surrogate pairs which are of the format /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/\nextendedGlyph\n  = [\\u00C0-\\uFFFF]\n\nescapedChar\n  = \"\\\\\\\\\" reservedChar\n\nreservedChar\n  = [\\-:\\\\\\\\()]\n\norWord\n  = ([oO][rR])\n\n// only match booleans followed by whitespace or end of input\nbooleanWord\n  = bool:boolean &space { return bool; }\n  / bool:boolean !. { return bool; }\n\nboolean\n  = [tT][rR][uU][eE] { return Exp.boolean(text(), location()); }\n  / [fF][aA][lL][sS][eE] { return Exp.boolean(text(), location()); }\n  / [yY][eE][sS] { return Exp.boolean(text(), location()); }\n  / [nN][oO] { return Exp.boolean(text(), location()); }\n  / [oO][nN] { return Exp.boolean(text(), location()); }\n  / [oO][fF][fF] { return Exp.boolean(text(), location()); }\n\nnumber\n = [\\\\-]?[0-9]+(\".\"[0-9]+)* { return Exp.number(text(), location()); }\n\n// only match numbers followed by whitespace or end of input\nnumberWord\n = num:number &space { return num; }\n / num:number !. { return num; }\n\ndate\n = \"'\" expression:((!\"'\" .)+ { return text(); }) \"'\" {\n \treturn Exp.date(expression, location());\n }\n\nalnum \"alpha numeric\"\n  = [a-zA-Z0-9\\\\.]\n\nspace \"whitespace\"\n  = [ \\\\t\\\\n\\\\r]+\n`;\n\ntype DataType = 'date' | 'number' | 'string' | 'boolean';\n\ninterface SchemaField {\n  type: DataType;\n  valueDescription: string;\n  validate?: (value: string | boolean | number | DateValue) => void;\n}\n\ninterface Context {\n  schema: {\n    fields: {\n      [name: string]: SchemaField;\n    };\n    flags: string[];\n    strict: boolean;\n  };\n  strict: boolean;\n  error: (message: string, location?: Location) => never;\n  parseDate: (text: string) => DateValue;\n}\n\ntype Expression = any;\ntype Location = any;\n\ninterface ValueExpression {\n  type: DataType;\n  expression: string;\n  location: Location;\n}\n\nexport interface ParseOptions {\n  dateFormat?: any;\n  schema?: any;\n  escapeValue?: (value: any) => string;\n}\n\nconst unescapeValue = (value: string) => {\n  return value.replace(/\\\\([:\\-\\\\()])/g, '$1');\n};\n\nconst escapeValue = (value: string) => {\n  return value.replace(/([:\\-\\\\()])/g, '\\\\$1');\n};\n\nconst unescapePhraseValue = (value: string) => {\n  return value.replace(/\\\\(.)/g, '$1');\n};\n\nconst escapePhraseValue = (value: string) => {\n  return value.replace(/([\\\\\"])/g, '\\\\$1');\n};\n\nconst escapeFieldValue = (value: string) => {\n  return value.replace(/(\\\\)/g, '\\\\$1');\n};\n\nconst Exp = {\n  date: (expression: Expression, location: Location) => ({\n    type: 'date',\n    expression,\n    location,\n  }),\n  number: (expression: Expression, location: Location) => ({\n    type: 'number',\n    expression,\n    location,\n  }),\n  string: (expression: Expression, location: Location) => ({\n    type: 'string',\n    expression,\n    location,\n  }),\n  boolean: (expression: Expression, location: Location) => ({\n    type: 'boolean',\n    expression,\n    location,\n  }),\n};\n\nconst validateFlag = (flag: string, location: Location, ctx: Context) => {\n  if (ctx.schema && ctx.schema.strict) {\n    if (ctx.schema.flags && ctx.schema.flags.includes(flag)) {\n      return;\n    }\n    if (\n      ctx.schema.fields &&\n      ctx.schema.fields[flag] &&\n      ctx.schema.fields[flag].type === 'boolean'\n    ) {\n      return;\n    }\n    ctx.error(`Unknown flag \\`${flag}\\``);\n  }\n};\n\nconst validateFieldValue = (\n  field: string,\n  schemaField: SchemaField,\n  expression: Expression,\n  value: Value,\n  location: Location,\n  error: Context['error']\n) => {\n  if (schemaField && schemaField.validate) {\n    try {\n      schemaField.validate(value);\n    } catch (e) {\n      error(\n        `Invalid value \\`${expression}\\` set for field \\`${field}\\` - ${e.message}`,\n        location\n      );\n    }\n  }\n};\n\nconst resolveFieldValue = (\n  field: string,\n  valueExpression: ValueExpression | ValueExpression[],\n  ctx: Context\n): Value | Value[] => {\n  const { schema, error, parseDate } = ctx;\n  if (isArray(valueExpression)) {\n    // I don't know if this cast is valid. This function is called recursively and\n    // doesn't apply any kind of flat-map.\n    return valueExpression.map(\n      (exp) => resolveFieldValue(field, exp, ctx) as Value\n    );\n  }\n  const { location } = valueExpression;\n  let { type, expression } = valueExpression;\n  if (schema && !schema.fields[field] && schema.strict) {\n    error(`Unknown field \\`${field}\\``, location);\n  }\n  const schemaField = schema && schema.fields[field];\n  if (schemaField && schemaField.type !== type && schema.strict) {\n    if (schemaField.type === 'string') {\n      expression = valueExpression.expression = expression.toString();\n      type = valueExpression.type = 'string';\n    } else {\n      const valueDesc =\n        schemaField.valueDescription || `a ${schemaField.type} value`;\n      error(\n        `Expected ${valueDesc} for field \\`${field}\\`, but found \\`${expression}\\``,\n        location\n      );\n    }\n  }\n  switch (type) {\n    case 'date':\n      let date: DateValue | null = null;\n      try {\n        date = parseDate(expression);\n      } catch (e) {\n        error(\n          `Invalid data \\`${expression}\\` set for field \\`${field}\\``,\n          location\n        );\n      }\n      // error() throws an exception if called, so now `date` is not null.\n      validateFieldValue(\n        field,\n        schemaField,\n        expression,\n        date!,\n        location,\n        error\n      );\n      return date!;\n\n    case 'number':\n      const number = Number(expression);\n      if (Number.isNaN(number)) {\n        error(\n          `Invalid number \\`${expression}\\` set for field \\`${field}\\``,\n          location\n        );\n      }\n      validateFieldValue(\n        field,\n        schemaField,\n        expression,\n        number,\n        location,\n        error\n      );\n      return number;\n\n    case 'boolean':\n      // FIXME This would also match 'lion'. It should really anchor the match\n      // and the start and end of the input.\n      const boolean = !!expression.match(/true|yes|on/i);\n      validateFieldValue(\n        field,\n        schemaField,\n        expression,\n        boolean,\n        location,\n        error\n      );\n      return boolean;\n\n    default:\n      validateFieldValue(\n        field,\n        schemaField,\n        expression,\n        expression,\n        location,\n        error\n      );\n      return expression;\n  }\n};\n\nconst printValue = (value: Value, options: ParseOptions) => {\n  if (isDateValue(value)) {\n    return `'${value.text}'`;\n  }\n  if (isDateLike(value)) {\n    const dateFormat = options.dateFormat || defaultDateFormat;\n    return `'${dateFormat.print(value)}'`;\n  }\n  if (!isString(value)) {\n    return value.toString();\n  }\n\n  if (value.length === 0 || value.match(/\\s/) || value.toLowerCase() === 'or') {\n    return `\"${escapePhraseValue(value)}\"`;\n  }\n\n  const escapeFn = options.escapeValue || escapeValue;\n  return escapeFn(value);\n};\n\nconst resolveOperator = (operator: OperatorType) => {\n  switch (operator) {\n    case AST.Operator.EQ:\n      return ':';\n    case AST.Operator.EXACT:\n      return '=';\n    case AST.Operator.GT:\n      return '>';\n    case AST.Operator.GTE:\n      return '>=';\n    case AST.Operator.LT:\n      return '<';\n    case AST.Operator.LTE:\n      return '<=';\n    default:\n      throw new Error(`unknown field/value operator [${operator}]`);\n  }\n};\n\nexport type Syntax = Readonly<{\n  printClause: (clause: Clause, text: string, options: any) => string;\n  print: (ast: _AST, options?: {}) => string;\n  parse: (query: string, options?: ParseOptions) => _AST;\n}>;\n\nexport const defaultSyntax: Syntax = Object.freeze({\n  parse: (query: string, options: ParseOptions = {}) => {\n    const dateFormat = options.dateFormat || defaultDateFormat;\n    const parseDate = dateValueParser(dateFormat);\n    const schema = options.schema || {};\n    const clauses = parser.parse(query, {\n      AST,\n      Exp,\n      unescapeValue,\n      unescapePhraseValue,\n      parseDate,\n      resolveFieldValue,\n      validateFlag,\n      schema: { strict: false, flags: [], fields: {}, ...schema },\n    });\n    return AST.create(clauses);\n  },\n\n  printClause: (clause: Clause, text: string, options: any): string => {\n    const prefix = AST.Match.isMustClause(clause) ? '' : '-';\n    switch (clause.type) {\n      case AST.Field.TYPE:\n        const op = resolveOperator(clause.operator);\n        const printFieldValueOptions = {\n          ...options,\n          escapeValue: escapeFieldValue,\n        };\n        if (isArray(clause.value)) {\n          return `${text} ${prefix}${escapeValue(\n            clause.field\n          )}${op}(${clause.value\n            .map((val) => printValue(val, printFieldValueOptions))\n            .join(' or ')})`; // eslint-disable-line max-len\n        }\n        return `${text} ${prefix}${escapeValue(clause.field)}${op}${printValue(\n          clause.value,\n          printFieldValueOptions\n        )}`;\n      case AST.Is.TYPE:\n        return `${text} ${prefix}is:${escapeValue(clause.flag)}`;\n      case AST.Term.TYPE:\n        return `${text} ${prefix}${printValue(clause.value, options)}`;\n      case AST.Group.TYPE:\n        return `(${clause.value\n          .map((clause) =>\n            defaultSyntax.printClause(clause, text, options).trim()\n          )\n          .join(' OR ')})`;\n      default:\n        return text;\n    }\n  },\n\n  print: (ast: _AST, options = {}) => {\n    return ast.clauses\n      .reduce((text, clause) => {\n        return defaultSyntax.printClause(clause, text, options);\n      }, '')\n      .trim();\n  },\n});\n"]}]}