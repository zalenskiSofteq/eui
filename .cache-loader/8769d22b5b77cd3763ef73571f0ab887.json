{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\color_picker\\color_picker.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\color_picker\\color_picker.tsx","mtime":1649070093333},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgppbXBvcnQgUHJvcFR5cGVzIGZyb20gInByb3AtdHlwZXMiOwoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCBSZWFjdCwgeyBjbG9uZUVsZW1lbnQsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7CmltcG9ydCBjaHJvbWEgZnJvbSAnY2hyb21hLWpzJzsKaW1wb3J0IHsgRXVpU2NyZWVuUmVhZGVyT25seSB9IGZyb20gJy4uL2FjY2Vzc2liaWxpdHknOwppbXBvcnQgeyBFdWlDb2xvclBpY2tlclN3YXRjaCB9IGZyb20gJy4vY29sb3JfcGlja2VyX3N3YXRjaCc7CmltcG9ydCB7IEV1aUZvY3VzVHJhcCB9IGZyb20gJy4uL2ZvY3VzX3RyYXAnOwppbXBvcnQgeyBFdWlGbGV4R3JvdXAsIEV1aUZsZXhJdGVtIH0gZnJvbSAnLi4vZmxleCc7CmltcG9ydCB7IEV1aUZpZWxkVGV4dCwgRXVpRm9ybUNvbnRyb2xMYXlvdXQsIEV1aUZvcm1Sb3csIEV1aVJhbmdlIH0gZnJvbSAnLi4vZm9ybSc7CmltcG9ydCB7IEV1aUkxOG4gfSBmcm9tICcuLi9pMThuJzsKaW1wb3J0IHsgRXVpUG9wb3ZlciB9IGZyb20gJy4uL3BvcG92ZXInOwppbXBvcnQgeyBFdWlTcGFjZXIgfSBmcm9tICcuLi9zcGFjZXInOwppbXBvcnQgeyBWSVNVQUxJWkFUSU9OX0NPTE9SUywga2V5cyB9IGZyb20gJy4uLy4uL3NlcnZpY2VzJzsKaW1wb3J0IHsgRXVpSHVlIH0gZnJvbSAnLi9odWUnOwppbXBvcnQgeyBFdWlTYXR1cmF0aW9uIH0gZnJvbSAnLi9zYXR1cmF0aW9uJzsKaW1wb3J0IHsgZ2V0Q2hyb21hQ29sb3IsIHBhcnNlQ29sb3IsIEhFWF9GQUxMQkFDSywgSFNWX0ZBTExCQUNLLCBSR0JfRkFMTEJBQ0ssIFJHQl9KT0lOIH0gZnJvbSAnLi91dGlscyc7CgpmdW5jdGlvbiBpc0tleWJvYXJkRXZlbnQoZXZlbnQpIHsKICByZXR1cm4gX3R5cGVvZihldmVudCkgPT09ICdvYmplY3QnICYmICdrZXknIGluIGV2ZW50Owp9Cgp2YXIgZ2V0T3V0cHV0ID0gZnVuY3Rpb24gZ2V0T3V0cHV0KHRleHQpIHsKICB2YXIgc2hvd0FscGhhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICB2YXIgY29sb3IgPSBnZXRDaHJvbWFDb2xvcih0ZXh0LCB0cnVlKTsKICB2YXIgaXNWYWxpZCA9IHRydWU7CgogIGlmICghc2hvd0FscGhhICYmIGNvbG9yICE9PSBudWxsKSB7CiAgICBpc1ZhbGlkID0gY29sb3IuYWxwaGEoKSA9PT0gMTsKICB9IC8vIE5vdGUgdGhhdCBpZiBhIGNvbnN1bWVyIGhhcyBkaXNhbGxvd2VkIG9wYWNpdHksCiAgLy8gd2Ugc3RpbGwgcmV0dXJuIHRoZSBjb2xvciB3aXRoIGFuIGFscGhhIGNoYW5uZWwsIGJ1dCBtYXJrIGl0IGFzIGludmFsaWQKCgogIHJldHVybiBjb2xvciA/IHsKICAgIHJnYmE6IGNvbG9yLnJnYmEoKSwKICAgIGhleDogY29sb3IuaGV4KCksCiAgICBpc1ZhbGlkOiBpc1ZhbGlkCiAgfSA6IHsKICAgIHJnYmE6IFJHQl9GQUxMQkFDSywKICAgIGhleDogSEVYX0ZBTExCQUNLLAogICAgaXNWYWxpZDogZmFsc2UKICB9Owp9OwoKdmFyIGdldEhzdiA9IGZ1bmN0aW9uIGdldEhzdihoc3YpIHsKICB2YXIgZmFsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgLy8gQ2hyb21hJ3MgcGFzc3Rocm91Z2ggKFJHQikgcGFyc2luZyBkZXRlcm1pbmVzIHRoYXQgYmxhY2svd2hpdGUvZ3JheSBhcmUgaHVlLWxlc3MgYW5kIHJldHVybnMgYE5hTmAKICAvLyBGb3Igb3VyIHB1cnBvc2VzIHdlIGNhbiBwcm9jZXNzIGBOYU5gIGFzIGAwYCBpZiBuZWNlc3NhcnkKICBpZiAoIWhzdikgcmV0dXJuIEhTVl9GQUxMQkFDSzsKICB2YXIgaHVlID0gaXNOYU4oaHN2WzBdKSA/IGZhbGxiYWNrIDogaHN2WzBdOwogIHJldHVybiBbaHVlLCBoc3ZbMV0sIGhzdlsyXV07Cn07CgpleHBvcnQgdmFyIEV1aUNvbG9yUGlja2VyID0gZnVuY3Rpb24gRXVpQ29sb3JQaWNrZXIoX3JlZikgewogIHZhciBfcmVmODsKCiAgdmFyIGJ1dHRvbiA9IF9yZWYuYnV0dG9uLAogICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSwKICAgICAgY29sb3IgPSBfcmVmLmNvbG9yLAogICAgICBfcmVmJGNvbXByZXNzZWQgPSBfcmVmLmNvbXByZXNzZWQsCiAgICAgIGNvbXByZXNzZWQgPSBfcmVmJGNvbXByZXNzZWQgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRjb21wcmVzc2VkLAogICAgICBkaXNhYmxlZCA9IF9yZWYuZGlzYWJsZWQsCiAgICAgIF9yZWYkZGlzcGxheSA9IF9yZWYuZGlzcGxheSwKICAgICAgZGlzcGxheSA9IF9yZWYkZGlzcGxheSA9PT0gdm9pZCAwID8gJ2RlZmF1bHQnIDogX3JlZiRkaXNwbGF5LAogICAgICBfcmVmJGZ1bGxXaWR0aCA9IF9yZWYuZnVsbFdpZHRoLAogICAgICBmdWxsV2lkdGggPSBfcmVmJGZ1bGxXaWR0aCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGZ1bGxXaWR0aCwKICAgICAgaWQgPSBfcmVmLmlkLAogICAgICBpc0ludmFsaWQgPSBfcmVmLmlzSW52YWxpZCwKICAgICAgX3JlZiRtb2RlID0gX3JlZi5tb2RlLAogICAgICBtb2RlID0gX3JlZiRtb2RlID09PSB2b2lkIDAgPyAnZGVmYXVsdCcgOiBfcmVmJG1vZGUsCiAgICAgIG9uQmx1ciA9IF9yZWYub25CbHVyLAogICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsCiAgICAgIG9uRm9jdXMgPSBfcmVmLm9uRm9jdXMsCiAgICAgIF9yZWYkcmVhZE9ubHkgPSBfcmVmLnJlYWRPbmx5LAogICAgICByZWFkT25seSA9IF9yZWYkcmVhZE9ubHkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRyZWFkT25seSwKICAgICAgX3JlZiRzd2F0Y2hlcyA9IF9yZWYuc3dhdGNoZXMsCiAgICAgIHN3YXRjaGVzID0gX3JlZiRzd2F0Y2hlcyA9PT0gdm9pZCAwID8gVklTVUFMSVpBVElPTl9DT0xPUlMgOiBfcmVmJHN3YXRjaGVzLAogICAgICBwb3BvdmVyWkluZGV4ID0gX3JlZi5wb3BvdmVyWkluZGV4LAogICAgICBwcmVwZW5kID0gX3JlZi5wcmVwZW5kLAogICAgICBhcHBlbmQgPSBfcmVmLmFwcGVuZCwKICAgICAgX3JlZiRzaG93QWxwaGEgPSBfcmVmLnNob3dBbHBoYSwKICAgICAgc2hvd0FscGhhID0gX3JlZiRzaG93QWxwaGEgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRzaG93QWxwaGEsCiAgICAgIGZvcm1hdCA9IF9yZWYuZm9ybWF0LAogICAgICBfcmVmJHNlY29uZGFyeUlucHV0RGkgPSBfcmVmLnNlY29uZGFyeUlucHV0RGlzcGxheSwKICAgICAgc2Vjb25kYXJ5SW5wdXREaXNwbGF5ID0gX3JlZiRzZWNvbmRhcnlJbnB1dERpID09PSB2b2lkIDAgPyAnbm9uZScgOiBfcmVmJHNlY29uZGFyeUlucHV0RGksCiAgICAgIF9yZWYkaXNDbGVhcmFibGUgPSBfcmVmLmlzQ2xlYXJhYmxlLAogICAgICBpc0NsZWFyYWJsZSA9IF9yZWYkaXNDbGVhcmFibGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpc0NsZWFyYWJsZSwKICAgICAgcGxhY2Vob2xkZXIgPSBfcmVmLnBsYWNlaG9sZGVyLAogICAgICBkYXRhVGVzdFN1YmogPSBfcmVmWydkYXRhLXRlc3Qtc3ViaiddOwogIHZhciBwcmVmZXJyZWRGb3JtYXQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHsKICAgIGlmIChmb3JtYXQpIHJldHVybiBmb3JtYXQ7CiAgICB2YXIgcGFyc2VkID0gcGFyc2VDb2xvcihjb2xvcik7CiAgICByZXR1cm4gcGFyc2VkICE9IG51bGwgJiYgX3R5cGVvZihwYXJzZWQpID09PSAnb2JqZWN0JyA/ICdyZ2JhJyA6ICdoZXgnOwogIH0sIFtjb2xvciwgZm9ybWF0XSk7CiAgdmFyIGNocm9tYUNvbG9yID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZ2V0Q2hyb21hQ29sb3IoY29sb3IsIHNob3dBbHBoYSk7CiAgfSwgW2NvbG9yLCBzaG93QWxwaGFdKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCcxMDAnKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGFscGhhUmFuZ2VWYWx1ZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldEFscGhhUmFuZ2VWYWx1ZSA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBhbHBoYUNoYW5uZWwgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBjaHJvbWFDb2xvciA/IGNocm9tYUNvbG9yLmFscGhhKCkgOiAxOwogIH0sIFtjaHJvbWFDb2xvcl0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICB2YXIgcGVyY2VudCA9IChhbHBoYUNoYW5uZWwgKiAxMDApLnRvRml4ZWQoKTsKICAgIHNldEFscGhhUmFuZ2VWYWx1ZShwZXJjZW50KTsKICB9LCBbYWxwaGFDaGFubmVsXSk7CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGlzQ29sb3JTZWxlY3RvclNob3duID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0SXNDb2xvclNlbGVjdG9yU2hvd24gPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGlucHV0UmVmID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0SW5wdXRSZWYgPSBfdXNlU3RhdGU2WzFdOyAvLyBJZGVhbGx5IHRoaXMgaXMgdXNlcyBgdXNlUmVmYCwgYnV0IGBFdWlGaWVsZFRleHRgIGlzbid0IHJlYWR5IGZvciB0aGF0CgoKICB2YXIgX3VzZVN0YXRlNyA9IHVzZVN0YXRlKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLAogICAgICBwb3BvdmVyU2hvdWxkT3duRm9jdXMgPSBfdXNlU3RhdGU4WzBdLAogICAgICBzZXRQb3BvdmVyU2hvdWxkT3duRm9jdXMgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgcHJldkNvbG9yID0gdXNlUmVmKGNocm9tYUNvbG9yID8gY2hyb21hQ29sb3IucmdiYSgpLmpvaW4oKSA6IG51bGwpOwoKICB2YXIgX3VzZVN0YXRlOSA9IHVzZVN0YXRlKGNocm9tYUNvbG9yID8gZ2V0SHN2KGNocm9tYUNvbG9yLmhzdigpKSA6IEhTVl9GQUxMQkFDSyksCiAgICAgIF91c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlOSwgMiksCiAgICAgIGNvbG9yQXNIc3YgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0Q29sb3JBc0hzdiA9IF91c2VTdGF0ZTEwWzFdOwoKICB2YXIgdXNhYmxlSHN2ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICBpZiAoY2hyb21hQ29sb3IgJiYgY2hyb21hQ29sb3IucmdiYSgpLmpvaW4oKSAhPT0gcHJldkNvbG9yLmN1cnJlbnQpIHsKICAgICAgdmFyIF9jaHJvbWFDb2xvciRoc3YgPSBjaHJvbWFDb2xvci5oc3YoKSwKICAgICAgICAgIF9jaHJvbWFDb2xvciRoc3YyID0gX3NsaWNlZFRvQXJyYXkoX2Nocm9tYUNvbG9yJGhzdiwgMyksCiAgICAgICAgICBoID0gX2Nocm9tYUNvbG9yJGhzdjJbMF0sCiAgICAgICAgICBzID0gX2Nocm9tYUNvbG9yJGhzdjJbMV0sCiAgICAgICAgICB2ID0gX2Nocm9tYUNvbG9yJGhzdjJbMl07CgogICAgICB2YXIgaHVlID0gaXNOYU4oaCkgPyBjb2xvckFzSHN2WzBdIDogaDsKICAgICAgcmV0dXJuIFtodWUsIHMsIHZdOwogICAgfQoKICAgIHJldHVybiBjb2xvckFzSHN2OwogIH0sIFtjaHJvbWFDb2xvciwgY29sb3JBc0hzdl0pOwogIHZhciBzYXRydWF0aW9uUmVmID0gdXNlUmVmKG51bGwpOwogIHZhciBzd2F0Y2hSZWYgPSB1c2VSZWYobnVsbCk7CiAgdmFyIHRlc3RTdWJqQW5jaG9yID0gY2xhc3NOYW1lcygnZXVpQ29sb3JQaWNrZXJBbmNob3InLCBkYXRhVGVzdFN1YmopOwoKICB2YXIgdXBkYXRlQ29sb3JBc0hzdiA9IGZ1bmN0aW9uIHVwZGF0ZUNvbG9yQXNIc3YoX3JlZjIpIHsKICAgIHZhciBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCAzKSwKICAgICAgICBoID0gX3JlZjNbMF0sCiAgICAgICAgcyA9IF9yZWYzWzFdLAogICAgICAgIHYgPSBfcmVmM1syXTsKCiAgICBzZXRDb2xvckFzSHN2KGdldEhzdihbaCwgcywgdl0sIHVzYWJsZUhzdlswXSkpOwogIH07CgogIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lcygnZXVpQ29sb3JQaWNrZXInLCBjbGFzc05hbWUpOwogIHZhciBwb3BvdmVyQ2xhc3MgPSAnZXVpQ29sb3JQaWNrZXJfX3BvcG92ZXJBbmNob3InOwogIHZhciBwYW5lbENsYXNzZXMgPSBjbGFzc05hbWVzKCdldWlDb2xvclBpY2tlcl9fcG9wb3ZlclBhbmVsJywgewogICAgJ2V1aUNvbG9yUGlja2VyX19wb3BvdmVyUGFuZWwtLXBpY2tlck9ubHknOiBtb2RlID09PSAncGlja2VyJyAmJiBzZWNvbmRhcnlJbnB1dERpc3BsYXkgIT09ICdib3R0b20nLAogICAgJ2V1aUNvbG9yUGlja2VyX19wb3BvdmVyUGFuZWwtLWN1c3RvbUJ1dHRvbic6IGJ1dHRvbgogIH0pOwogIHZhciBzd2F0Y2hDbGFzcyA9ICdldWlDb2xvclBpY2tlcl9fc3dhdGNoU2VsZWN0JzsKICB2YXIgaW5wdXRDbGFzc2VzID0gY2xhc3NOYW1lcygnZXVpQ29sb3JQaWNrZXJfX2lucHV0JywgewogICAgJ2V1aUNvbG9yUGlja2VyX19pbnB1dC0taW5Hcm91cCc6IHByZXBlbmQgfHwgYXBwZW5kCiAgfSk7CgogIHZhciBoYW5kbGVPbkNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZU9uQ2hhbmdlKHRleHQpIHsKICAgIHZhciBvdXRwdXQgPSBnZXRPdXRwdXQodGV4dCwgc2hvd0FscGhhKTsKCiAgICBpZiAob3V0cHV0LmlzVmFsaWQpIHsKICAgICAgcHJldkNvbG9yLmN1cnJlbnQgPSBvdXRwdXQucmdiYS5qb2luKCk7CiAgICB9CgogICAgb25DaGFuZ2UodGV4dCwgb3V0cHV0KTsKICB9OwoKICB2YXIgaGFuZGxlT25CbHVyID0gZnVuY3Rpb24gaGFuZGxlT25CbHVyKCkgewogICAgLy8gYG9uQmx1cmAgYWxzbyBnZXRzIGNhbGxlZCB3aGVuIHRoZSBwb3BvdmVyIGlzIGNsb3NpbmcKICAgIC8vIHNvIHByZXZlbnQgYSBzZWNvbmQgYG9uQmx1cmAgaWYgdGhlIHBvcG92ZXIgaXMgb3BlbgogICAgaWYgKCFpc0NvbG9yU2VsZWN0b3JTaG93biAmJiBvbkJsdXIpIHsKICAgICAgb25CbHVyKCk7CiAgICB9CiAgfTsKCiAgdmFyIGNsb3NlQ29sb3JTZWxlY3RvciA9IGZ1bmN0aW9uIGNsb3NlQ29sb3JTZWxlY3RvcigpIHsKICAgIHZhciBzaG91bGREZWxheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7CgogICAgaWYgKG9uQmx1cikgewogICAgICBvbkJsdXIoKTsKICAgIH0KCiAgICBpZiAoc2hvdWxkRGVsYXkpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHNldElzQ29sb3JTZWxlY3RvclNob3duKGZhbHNlKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBzZXRJc0NvbG9yU2VsZWN0b3JTaG93bihmYWxzZSk7CiAgICB9CiAgfTsKCiAgdmFyIHNob3dDb2xvclNlbGVjdG9yID0gZnVuY3Rpb24gc2hvd0NvbG9yU2VsZWN0b3IoKSB7CiAgICB2YXIgc2hvdWxkRm9jdXNJbnNpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgaWYgKGlzQ29sb3JTZWxlY3RvclNob3duIHx8IHJlYWRPbmx5KSByZXR1cm47CgogICAgaWYgKG9uRm9jdXMpIHsKICAgICAgb25Gb2N1cygpOwogICAgfQoKICAgIHNldFBvcG92ZXJTaG91bGRPd25Gb2N1cyhzaG91bGRGb2N1c0luc2lkZSk7CiAgICBzZXRJc0NvbG9yU2VsZWN0b3JTaG93bih0cnVlKTsKICB9OwoKICB2YXIgaGFuZGxlVG9nZ2xlID0gZnVuY3Rpb24gaGFuZGxlVG9nZ2xlKCkgewogICAgaWYgKGlzQ29sb3JTZWxlY3RvclNob3duKSB7CiAgICAgIGNsb3NlQ29sb3JTZWxlY3RvcigpOwogICAgfSBlbHNlIHsKICAgICAgc2hvd0NvbG9yU2VsZWN0b3IodHJ1ZSk7CiAgICB9CiAgfTsKCiAgdmFyIGhhbmRsZUZpbmFsU2VsZWN0aW9uID0gZnVuY3Rpb24gaGFuZGxlRmluYWxTZWxlY3Rpb24oKSB7CiAgICAvLyBXaGVuIHRoZSB0cmlnZ2VyIGlzIGFuIGlucHV0LCBmb2N1cyB0aGUgaW5wdXQgc28geW91IGNhbiBhZGp1c3QKICAgIGlmIChpbnB1dFJlZikgewogICAgICBpbnB1dFJlZi5mb2N1cygpOwogICAgfQoKICAgIGNsb3NlQ29sb3JTZWxlY3Rvcih0cnVlKTsKICB9OwoKICB2YXIgaGFuZGxlT25LZXlEb3duID0gZnVuY3Rpb24gaGFuZGxlT25LZXlEb3duKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQua2V5ID09PSBrZXlzLkVOVEVSKSB7CiAgICAgIGlmIChpc0NvbG9yU2VsZWN0b3JTaG93bikgewogICAgICAgIGhhbmRsZUZpbmFsU2VsZWN0aW9uKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2hvd0NvbG9yU2VsZWN0b3IoKTsKICAgICAgfQogICAgfQogIH07CgogIHZhciBoYW5kbGVJbnB1dEFjdGl2aXR5ID0gZnVuY3Rpb24gaGFuZGxlSW5wdXRBY3Rpdml0eShldmVudCkgewogICAgaWYgKGlzS2V5Ym9hcmRFdmVudChldmVudCkpIHsKICAgICAgaWYgKGV2ZW50LmtleSA9PT0ga2V5cy5FTlRFUikgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgaGFuZGxlVG9nZ2xlKCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNob3dDb2xvclNlbGVjdG9yKCk7CiAgICB9CiAgfTsKCiAgdmFyIGhhbmRsZVRvZ2dsZU9uS2V5RG93biA9IGZ1bmN0aW9uIGhhbmRsZVRvZ2dsZU9uS2V5RG93bihldmVudCkgewogICAgaWYgKGV2ZW50LmtleSA9PT0ga2V5cy5BUlJPV19ET1dOKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAoaXNDb2xvclNlbGVjdG9yU2hvd24pIHsKICAgICAgICB2YXIgbmV4dEZvY3VzRWwgPSBtb2RlICE9PSAnc3dhdGNoJyA/IHNhdHJ1YXRpb25SZWYgOiBzd2F0Y2hSZWY7CgogICAgICAgIGlmIChuZXh0Rm9jdXNFbC5jdXJyZW50KSB7CiAgICAgICAgICBuZXh0Rm9jdXNFbC5jdXJyZW50LmZvY3VzKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHNob3dDb2xvclNlbGVjdG9yKHRydWUpOwogICAgICB9CiAgICB9CiAgfTsKCiAgdmFyIGhhbmRsZUNvbG9ySW5wdXQgPSBmdW5jdGlvbiBoYW5kbGVDb2xvcklucHV0KGV2ZW50KSB7CiAgICBoYW5kbGVPbkNoYW5nZShldmVudC50YXJnZXQudmFsdWUpOwogICAgdmFyIG5ld0NvbG9yID0gZ2V0Q2hyb21hQ29sb3IoZXZlbnQudGFyZ2V0LnZhbHVlLCBzaG93QWxwaGEpOwoKICAgIGlmIChuZXdDb2xvcikgewogICAgICB1cGRhdGVDb2xvckFzSHN2KG5ld0NvbG9yLmhzdigpKTsKICAgIH0KICB9OwoKICB2YXIgaGFuZGxlQ2xlYXJJbnB1dCA9IGZ1bmN0aW9uIGhhbmRsZUNsZWFySW5wdXQoKSB7CiAgICBoYW5kbGVPbkNoYW5nZSgnJyk7CgogICAgaWYgKHNlY29uZGFyeUlucHV0RGlzcGxheSA9PT0gJ25vbmUnICYmIGlzQ29sb3JTZWxlY3RvclNob3duKSB7CiAgICAgIGNsb3NlQ29sb3JTZWxlY3RvcigpOwogICAgfQogIH07CgogIHZhciB1cGRhdGVXaXRoSHN2ID0gZnVuY3Rpb24gdXBkYXRlV2l0aEhzdihoc3YpIHsKICAgIHZhciBjb2xvciA9IGNocm9tYS5oc3YuYXBwbHkoY2hyb21hLCBfdG9Db25zdW1hYmxlQXJyYXkoaHN2KSkuYWxwaGEoYWxwaGFDaGFubmVsKTsKICAgIHZhciBmb3JtYXR0ZWQ7CgogICAgaWYgKHByZWZlcnJlZEZvcm1hdCA9PT0gJ3JnYmEnKSB7CiAgICAgIGZvcm1hdHRlZCA9IGFscGhhQ2hhbm5lbCA8IDEgPyBjb2xvci5yZ2JhKCkuam9pbihSR0JfSk9JTikgOiBjb2xvci5yZ2IoKS5qb2luKFJHQl9KT0lOKTsKICAgIH0gZWxzZSB7CiAgICAgIGZvcm1hdHRlZCA9IGNvbG9yLmhleCgpOwogICAgfQoKICAgIGhhbmRsZU9uQ2hhbmdlKGZvcm1hdHRlZCk7CiAgICB1cGRhdGVDb2xvckFzSHN2KGhzdik7CiAgfTsKCiAgdmFyIGhhbmRsZUNvbG9yU2VsZWN0aW9uID0gZnVuY3Rpb24gaGFuZGxlQ29sb3JTZWxlY3Rpb24oY29sb3IpIHsKICAgIHZhciBfdXNhYmxlSHN2ID0gX3NsaWNlZFRvQXJyYXkodXNhYmxlSHN2LCAxKSwKICAgICAgICBoID0gX3VzYWJsZUhzdlswXTsKCiAgICB2YXIgX2NvbG9yID0gX3NsaWNlZFRvQXJyYXkoY29sb3IsIDMpLAogICAgICAgIHMgPSBfY29sb3JbMV0sCiAgICAgICAgdiA9IF9jb2xvclsyXTsKCiAgICB2YXIgbmV3SHN2ID0gW2gsIHMsIHZdOwogICAgdXBkYXRlV2l0aEhzdihuZXdIc3YpOwogIH07CgogIHZhciBoYW5kbGVIdWVTZWxlY3Rpb24gPSBmdW5jdGlvbiBoYW5kbGVIdWVTZWxlY3Rpb24oaHVlKSB7CiAgICB2YXIgX3VzYWJsZUhzdjIgPSBfc2xpY2VkVG9BcnJheSh1c2FibGVIc3YsIDMpLAogICAgICAgIHMgPSBfdXNhYmxlSHN2MlsxXSwKICAgICAgICB2ID0gX3VzYWJsZUhzdjJbMl07CgogICAgdmFyIG5ld0hzdiA9IFtodWUsIHMsIHZdOwogICAgdXBkYXRlV2l0aEhzdihuZXdIc3YpOwogIH07CgogIHZhciBoYW5kbGVTd2F0Y2hTZWxlY3Rpb24gPSBmdW5jdGlvbiBoYW5kbGVTd2F0Y2hTZWxlY3Rpb24oY29sb3IpIHsKICAgIHZhciBuZXdDb2xvciA9IGdldENocm9tYUNvbG9yKGNvbG9yLCBzaG93QWxwaGEpOwogICAgaGFuZGxlT25DaGFuZ2UoY29sb3IpOwoKICAgIGlmIChuZXdDb2xvcikgewogICAgICB1cGRhdGVDb2xvckFzSHN2KG5ld0NvbG9yLmhzdigpKTsKICAgIH0KCiAgICBoYW5kbGVGaW5hbFNlbGVjdGlvbigpOwogIH07CgogIHZhciBoYW5kbGVBbHBoYVNlbGVjdGlvbiA9IGZ1bmN0aW9uIGhhbmRsZUFscGhhU2VsZWN0aW9uKGUsIGlzVmFsaWQpIHsKICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKICAgIHNldEFscGhhUmFuZ2VWYWx1ZSh0YXJnZXQudmFsdWUgfHwgJycpOwoKICAgIGlmIChpc1ZhbGlkKSB7CiAgICAgIHZhciBhbHBoYSA9IHBhcnNlSW50KHRhcmdldC52YWx1ZSwgMTApIC8gMTAwOwogICAgICB2YXIgbmV3Q29sb3IgPSBjaHJvbWFDb2xvciA/IGNocm9tYUNvbG9yLmFscGhhKGFscGhhKSA6IG51bGw7CiAgICAgIHZhciBoZXggPSBuZXdDb2xvciA/IG5ld0NvbG9yLmhleCgpIDogSEVYX0ZBTExCQUNLOwogICAgICB2YXIgcmdiYSA9IG5ld0NvbG9yID8gbmV3Q29sb3IucmdiYSgpIDogUkdCX0ZBTExCQUNLOwoKICAgICAgdmFyIF90ZXh0OwoKICAgICAgaWYgKHByZWZlcnJlZEZvcm1hdCA9PT0gJ3JnYmEnKSB7CiAgICAgICAgX3RleHQgPSBhbHBoYSA8IDEgPyByZ2JhLmpvaW4oUkdCX0pPSU4pIDogcmdiYS5zbGljZSgwLCAzKS5qb2luKFJHQl9KT0lOKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGV4dCA9IGhleDsKICAgICAgfQoKICAgICAgb25DaGFuZ2UoX3RleHQsIHsKICAgICAgICBoZXg6IGhleCwKICAgICAgICByZ2JhOiByZ2JhLAogICAgICAgIGlzVmFsaWQ6ICEhbmV3Q29sb3IKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgdmFyIGlubGluZUlucHV0ID0gc2Vjb25kYXJ5SW5wdXREaXNwbGF5ICE9PSAnbm9uZScgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgdG9rZW5zOiBbJ2V1aUNvbG9yUGlja2VyLmNvbG9yTGFiZWwnLCAnZXVpQ29sb3JQaWNrZXIuY29sb3JFcnJvck1lc3NhZ2UnLCAnZXVpQ29sb3JQaWNrZXIudHJhbnNwYXJlbnQnXSwKICAgIGRlZmF1bHRzOiBbJ0NvbG9yIHZhbHVlJywgJ0ludmFsaWQgY29sb3IgdmFsdWUnLCAnVHJhbnNwYXJlbnQnXQogIH0sIGZ1bmN0aW9uIChfcmVmNCkgewogICAgdmFyIF9yZWY1ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjQsIDMpLAogICAgICAgIGNvbG9yTGFiZWwgPSBfcmVmNVswXSwKICAgICAgICBjb2xvckVycm9yTWVzc2FnZSA9IF9yZWY1WzFdLAogICAgICAgIHRyYW5zcGFyZW50ID0gX3JlZjVbMl07CgogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZvcm1Sb3csIHsKICAgICAgZGlzcGxheTogInJvd0NvbXByZXNzZWQiLAogICAgICBpc0ludmFsaWQ6IGlzSW52YWxpZCwKICAgICAgZXJyb3I6IGlzSW52YWxpZCA/IGNvbG9yRXJyb3JNZXNzYWdlIDogbnVsbAogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRm9ybUNvbnRyb2xMYXlvdXQsIHsKICAgICAgY2xlYXI6IGlzQ2xlYXJhYmxlICYmIGNvbG9yICYmICFyZWFkT25seSAmJiAhZGlzYWJsZWQgPyB7CiAgICAgICAgb25DbGljazogaGFuZGxlQ2xlYXJJbnB1dAogICAgICB9IDogdW5kZWZpbmVkLAogICAgICByZWFkT25seTogcmVhZE9ubHksCiAgICAgIGNvbXByZXNzZWQ6IGNvbXByZXNzZWQKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZpZWxkVGV4dCwgewogICAgICBjb21wcmVzc2VkOiB0cnVlLAogICAgICB2YWx1ZTogY29sb3IgPyBjb2xvci50b1VwcGVyQ2FzZSgpIDogSEVYX0ZBTExCQUNLLAogICAgICBwbGFjZWhvbGRlcjogIWNvbG9yID8gcGxhY2Vob2xkZXIgfHwgdHJhbnNwYXJlbnQgOiB1bmRlZmluZWQsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDb2xvcklucHV0LAogICAgICBpc0ludmFsaWQ6IGlzSW52YWxpZCwKICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLAogICAgICByZWFkT25seTogcmVhZE9ubHksCiAgICAgICJhcmlhLWxhYmVsIjogY29sb3JMYWJlbCwKICAgICAgYXV0b0NvbXBsZXRlOiAib2ZmIiwKICAgICAgImRhdGEtdGVzdC1zdWJqIjogImV1aUNvbG9yUGlja2VySW5wdXRfIi5jb25jYXQoc2Vjb25kYXJ5SW5wdXREaXNwbGF5KQogICAgfSkpKTsKICB9KTsKICB2YXIgc2hvd1NlY29uZGFyeUlucHV0T25seSA9IG1vZGUgPT09ICdzZWNvbmRhcnlJbnB1dCc7CiAgdmFyIHNob3dQaWNrZXIgPSBtb2RlICE9PSAnc3dhdGNoJyAmJiAhc2hvd1NlY29uZGFyeUlucHV0T25seTsKICB2YXIgc2hvd1N3YXRjaGVzID0gbW9kZSAhPT0gJ3BpY2tlcicgJiYgIXNob3dTZWNvbmRhcnlJbnB1dE9ubHk7CiAgdmFyIGNvbXBvc2l0ZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBzZWNvbmRhcnlJbnB1dERpc3BsYXkgPT09ICd0b3AnICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBpbmxpbmVJbnB1dCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpU3BhY2VyLCB7CiAgICBzaXplOiAicyIKICB9KSksIHNob3dQaWNrZXIgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIG9uS2V5RG93bjogaGFuZGxlT25LZXlEb3duCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpU2F0dXJhdGlvbiwgewogICAgaWQ6IGlkLAogICAgY29sb3I6IHVzYWJsZUhzdiwKICAgIGhleDogY2hyb21hQ29sb3IgPyBjaHJvbWFDb2xvci5oZXgoKSA6IHVuZGVmaW5lZCwKICAgIG9uQ2hhbmdlOiBoYW5kbGVDb2xvclNlbGVjdGlvbiwKICAgIHJlZjogc2F0cnVhdGlvblJlZgogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlIdWUsIHsKICAgIGlkOiBpZCwKICAgIGh1ZTogdXNhYmxlSHN2WzBdLAogICAgaGV4OiBjaHJvbWFDb2xvciA/IGNocm9tYUNvbG9yLmhleCgpIDogdW5kZWZpbmVkLAogICAgb25DaGFuZ2U6IGhhbmRsZUh1ZVNlbGVjdGlvbgogIH0pKSwgc2hvd1N3YXRjaGVzICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhHcm91cCwgewogICAgd3JhcDogdHJ1ZSwKICAgIHJlc3BvbnNpdmU6IGZhbHNlLAogICAgZ3V0dGVyU2l6ZTogInMiLAogICAgcm9sZTogImxpc3Rib3giCiAgfSwgc3dhdGNoZXMubWFwKGZ1bmN0aW9uIChzd2F0Y2gsIGluZGV4KSB7CiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEl0ZW0sIHsKICAgICAgZ3JvdzogZmFsc2UsCiAgICAgIGtleTogc3dhdGNoCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICAgIHRva2VuOiAiZXVpQ29sb3JQaWNrZXIuc3dhdGNoQXJpYUxhYmVsIiwKICAgICAgdmFsdWVzOiB7CiAgICAgICAgc3dhdGNoOiBzd2F0Y2gKICAgICAgfSwKICAgICAgZGVmYXVsdDogIlNlbGVjdCB7c3dhdGNofSBhcyB0aGUgY29sb3IiCiAgICB9LCBmdW5jdGlvbiAoc3dhdGNoQXJpYUxhYmVsKSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlDb2xvclBpY2tlclN3YXRjaCwgewogICAgICAgIGNsYXNzTmFtZTogc3dhdGNoQ2xhc3MsCiAgICAgICAgY29sb3I6IHN3YXRjaCwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIGhhbmRsZVN3YXRjaFNlbGVjdGlvbihzd2F0Y2gpOwogICAgICAgIH0sCiAgICAgICAgImFyaWEtbGFiZWwiOiBzd2F0Y2hBcmlhTGFiZWwsCiAgICAgICAgcm9sZTogIm9wdGlvbiIsCiAgICAgICAgcmVmOiBpbmRleCA9PT0gMCA/IHN3YXRjaFJlZiA6IHVuZGVmaW5lZAogICAgICB9KTsKICAgIH0pKTsKICB9KSksIHNlY29uZGFyeUlucHV0RGlzcGxheSA9PT0gJ2JvdHRvbScgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIG1vZGUgIT09ICdwaWNrZXInICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVNwYWNlciwgewogICAgc2l6ZTogInMiCiAgfSksIGlubGluZUlucHV0KSwgc2hvd0FscGhhICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlTcGFjZXIsIHsKICAgIHNpemU6ICJzIgogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICB0b2tlbjogImV1aUNvbG9yUGlja2VyLmFscGhhTGFiZWwiLAogICAgZGVmYXVsdDogIkFscGhhIGNoYW5uZWwgKG9wYWNpdHkpIHZhbHVlIgogIH0sIGZ1bmN0aW9uIChhbHBoYUxhYmVsKSB7CiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpUmFuZ2UsIHsKICAgICAgY2xhc3NOYW1lOiAiZXVpQ29sb3JQaWNrZXJfX2FscGhhUmFuZ2UiLAogICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZXVpQ29sb3JQaWNrZXJBbHBoYSIsCiAgICAgIGNvbXByZXNzZWQ6IHRydWUsCiAgICAgIHNob3dJbnB1dDogdHJ1ZSwKICAgICAgbWF4OiAxMDAsCiAgICAgIG1pbjogMCwKICAgICAgdmFsdWU6IGFscGhhUmFuZ2VWYWx1ZSwKICAgICAgYXBwZW5kOiAiJSIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVBbHBoYVNlbGVjdGlvbiwKICAgICAgImFyaWEtbGFiZWwiOiBhbHBoYUxhYmVsCiAgICB9KTsKICB9KSkpOwogIHZhciBidXR0b25PcklucHV0OwoKICBpZiAoYnV0dG9uKSB7CiAgICBidXR0b25PcklucHV0ID0gLyojX19QVVJFX18qL2Nsb25lRWxlbWVudChidXR0b24sIHsKICAgICAgb25DbGljazogaGFuZGxlVG9nZ2xlLAogICAgICBpZDogaWQsCiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCwKICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogdGVzdFN1YmpBbmNob3IKICAgIH0pOwogIH0gZWxzZSB7CiAgICB2YXIgY29sb3JTdHlsZSA9IGNocm9tYUNvbG9yID8gY2hyb21hQ29sb3IuY3NzKCkgOiB1bmRlZmluZWQ7CiAgICBidXR0b25PcklucHV0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRm9ybUNvbnRyb2xMYXlvdXQsIHsKICAgICAgaWNvbjogIXJlYWRPbmx5ID8gewogICAgICAgIHR5cGU6ICdhcnJvd0Rvd24nLAogICAgICAgIHNpZGU6ICdyaWdodCcKICAgICAgfSA6IHVuZGVmaW5lZCwKICAgICAgY2xlYXI6IGlzQ2xlYXJhYmxlICYmIGNvbG9yICYmICFyZWFkT25seSAmJiAhZGlzYWJsZWQgPyB7CiAgICAgICAgb25DbGljazogaGFuZGxlQ2xlYXJJbnB1dAogICAgICB9IDogdW5kZWZpbmVkLAogICAgICByZWFkT25seTogcmVhZE9ubHksCiAgICAgIGZ1bGxXaWR0aDogZnVsbFdpZHRoLAogICAgICBjb21wcmVzc2VkOiBjb21wcmVzc2VkLAogICAgICBvbktleURvd246IGhhbmRsZVRvZ2dsZU9uS2V5RG93biwKICAgICAgcHJlcGVuZDogcHJlcGVuZCwKICAgICAgYXBwZW5kOiBhcHBlbmQKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIC8vIFVzZWQgdG8gcGFzcyB0aGUgY2hvc2VuIGNvbG9yIHRocm91Z2ggdG8gZm9ybSBsYXlvdXQgU1ZHIHVzaW5nIGN1cnJlbnRDb2xvcgogICAgICBzdHlsZTogewogICAgICAgIGNvbG9yOiBjb2xvclN0eWxlCiAgICAgIH0KICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgdG9rZW5zOiBbJ2V1aUNvbG9yUGlja2VyLm9wZW5MYWJlbCcsICdldWlDb2xvclBpY2tlci5jbG9zZUxhYmVsJywgJ2V1aUNvbG9yUGlja2VyLnRyYW5zcGFyZW50J10sCiAgICAgIGRlZmF1bHRzOiBbJ1ByZXNzIHRoZSBlc2NhcGUga2V5IHRvIGNsb3NlIHRoZSBwb3BvdmVyJywgJ1ByZXNzIHRoZSBkb3duIGtleSB0byBvcGVuIGEgcG9wb3ZlciBjb250YWluaW5nIGNvbG9yIG9wdGlvbnMnLCAnVHJhbnNwYXJlbnQnXQogICAgfSwgZnVuY3Rpb24gKF9yZWY2KSB7CiAgICAgIHZhciBfcmVmNyA9IF9zbGljZWRUb0FycmF5KF9yZWY2LCAzKSwKICAgICAgICAgIG9wZW5MYWJlbCA9IF9yZWY3WzBdLAogICAgICAgICAgY2xvc2VMYWJlbCA9IF9yZWY3WzFdLAogICAgICAgICAgdHJhbnNwYXJlbnQgPSBfcmVmN1syXTsKCiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlGaWVsZFRleHQsIHsKICAgICAgICBjbGFzc05hbWU6IGlucHV0Q2xhc3NlcywKICAgICAgICBvbkNsaWNrOiBoYW5kbGVJbnB1dEFjdGl2aXR5LAogICAgICAgIG9uS2V5RG93bjogaGFuZGxlSW5wdXRBY3Rpdml0eSwKICAgICAgICBvbkJsdXI6IGhhbmRsZU9uQmx1ciwKICAgICAgICB2YWx1ZTogY29sb3IgPyBjb2xvci50b1VwcGVyQ2FzZSgpIDogSEVYX0ZBTExCQUNLLAogICAgICAgIHBsYWNlaG9sZGVyOiAhY29sb3IgPyBwbGFjZWhvbGRlciB8fCB0cmFuc3BhcmVudCA6IHVuZGVmaW5lZCwKICAgICAgICBpZDogaWQsCiAgICAgICAgb25DaGFuZ2U6IGhhbmRsZUNvbG9ySW5wdXQsCiAgICAgICAgaWNvbjogY2hyb21hQ29sb3IgPyAnc3dhdGNoSW5wdXQnIDogJ3N0b3BTbGFzaCcsCiAgICAgICAgaW5wdXRSZWY6IHNldElucHV0UmVmLAogICAgICAgIGlzSW52YWxpZDogaXNJbnZhbGlkLAogICAgICAgIGNvbXByZXNzZWQ6IGNvbXByZXNzZWQsCiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLAogICAgICAgIHJlYWRPbmx5OiByZWFkT25seSwKICAgICAgICBmdWxsV2lkdGg6IGZ1bGxXaWR0aCwKICAgICAgICBhdXRvQ29tcGxldGU6ICJvZmYiLAogICAgICAgICJkYXRhLXRlc3Qtc3ViaiI6IHRlc3RTdWJqQW5jaG9yLAogICAgICAgICJhcmlhLWxhYmVsIjogaXNDb2xvclNlbGVjdG9yU2hvd24gPyBvcGVuTGFiZWwgOiBjbG9zZUxhYmVsCiAgICAgIH0pOwogICAgfSkpKTsKICB9CgogIHJldHVybiBkaXNwbGF5ID09PSAnaW5saW5lJyA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6IGNsYXNzZXMKICB9LCBjb21wb3NpdGUpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpUG9wb3ZlciwgewogICAgb3duRm9jdXM6IHBvcG92ZXJTaG91bGRPd25Gb2N1cywKICAgIGluaXRpYWxGb2N1czogKF9yZWY4ID0gbW9kZSAhPT0gJ3N3YXRjaCcgPyBzYXRydWF0aW9uUmVmLmN1cnJlbnQgOiBzd2F0Y2hSZWYuY3VycmVudCkgIT09IG51bGwgJiYgX3JlZjggIT09IHZvaWQgMCA/IF9yZWY4IDogdW5kZWZpbmVkLAogICAgYnV0dG9uOiBidXR0b25PcklucHV0LAogICAgaXNPcGVuOiBpc0NvbG9yU2VsZWN0b3JTaG93biwKICAgIGNsb3NlUG9wb3ZlcjogaGFuZGxlRmluYWxTZWxlY3Rpb24sCiAgICB6SW5kZXg6IHBvcG92ZXJaSW5kZXgsCiAgICBjbGFzc05hbWU6IHBvcG92ZXJDbGFzcywKICAgIHBhbmVsQ2xhc3NOYW1lOiBwYW5lbENsYXNzZXMsCiAgICBkaXNwbGF5OiBidXR0b24gPyAnaW5saW5lQmxvY2snIDogJ2Jsb2NrJywKICAgIGF0dGFjaFRvQW5jaG9yOiBidXR0b24gPyBmYWxzZSA6IHRydWUsCiAgICBhbmNob3JQb3NpdGlvbjogImRvd25MZWZ0IiwKICAgIHBhbmVsUGFkZGluZ1NpemU6ICJzIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6IGNsYXNzZXMsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZXVpQ29sb3JQaWNrZXJQb3BvdmVyIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZvY3VzVHJhcCwgewogICAgY2xpY2tPdXRzaWRlRGlzYWJsZXM6IHRydWUKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlTY3JlZW5SZWFkZXJPbmx5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsKICAgICJhcmlhLWxpdmUiOiAicG9saXRlIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgIHRva2VuOiAiZXVpQ29sb3JQaWNrZXIuc2NyZWVuUmVhZGVyQW5ub3VuY2VtZW50IiwKICAgIGRlZmF1bHQ6ICJBIHBvcHVwIHdpdGggYSByYW5nZSBvZiBzZWxlY3RhYmxlIGNvbG9ycyBvcGVuZWQuIFRhYiBmb3J3YXJkIHRvIGN5Y2xlIHRocm91Z2ggY29sb3JzIGNob2ljZXMgb3IgcHJlc3MgZXNjYXBlIHRvIGNsb3NlIHRoaXMgcG9wdXAuIgogIH0pKSksIGNvbXBvc2l0ZSkpKTsKfTsKRXVpQ29sb3JQaWNrZXIucHJvcFR5cGVzID0gewogIC8qKgogICAgICogIEN1c3RvbSBlbGVtZW50IHRvIHVzZSBpbnN0ZWFkIG9mIHRleHQgaW5wdXQKICAgICAqLwogIGJ1dHRvbjogUHJvcFR5cGVzLmVsZW1lbnQsCgogIC8qKgogICAgICogIFVzZSB0aGUgY29tcHJlc3NlZCBzdHlsZSBmb3IgRXVpRmllbGRUZXh0CiAgICAgKi8KICBjb21wcmVzc2VkOiBQcm9wVHlwZXMuYm9vbCwKICBkaXNwbGF5OiBQcm9wVHlwZXMub25lT2YoWyJkZWZhdWx0IiwgImlubGluZSJdKSwKICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsCiAgZnVsbFdpZHRoOiBQcm9wVHlwZXMuYm9vbCwKICBpZDogUHJvcFR5cGVzLnN0cmluZywKCiAgLyoqCiAgICAgKiAgQ3VzdG9tIHZhbGlkYXRpb24gZmxhZwogICAgICovCiAgaXNJbnZhbGlkOiBQcm9wVHlwZXMuYm9vbCwKCiAgLyoqCiAgICAgKiBDaG9vc2UgYmV0d2VlbiBzd2F0Y2hlcyB3aXRoIGdyYWRpZW50IHBpY2tlciAoZGVmYXVsdCksIHN3YXRjaGVzIG9ubHksIGdyYWRpZW50IHBpY2tlciBvbmx5LCBvciBzZWNvbmRhcnkgaW5wdXQgb25seS4KICAgICAqLwogIG1vZGU6IFByb3BUeXBlcy5vbmVPZihbImRlZmF1bHQiLCAic3dhdGNoIiwgInBpY2tlciIsICJzZWNvbmRhcnlJbnB1dCJdKSwKCiAgLyoqCiAgICAgKiAgQ3VzdG9tIHotaW5kZXggZm9yIHRoZSBwb3BvdmVyCiAgICAgKi8KICBwb3BvdmVyWkluZGV4OiBQcm9wVHlwZXMubnVtYmVyLAogIHJlYWRPbmx5OiBQcm9wVHlwZXMuYm9vbCwKCiAgLyoqCiAgICAgKiAgQXJyYXkgb2YgaGV4IHN0cmluZ3MgKDMgb3IgNiBjaGFyYWN0ZXIpIHRvIHVzZSBhcyBzd2F0Y2ggb3B0aW9ucy4gRGVmYXVsdHMgdG8gRVVJIHZpc3VhbGl6YXRpb24gY29sb3JzCiAgICAgKi8KICBzd2F0Y2hlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkKSwKCiAgLyoqCiAgICAgKiBDcmVhdGVzIGFuIGlucHV0IGdyb3VwIHdpdGggZWxlbWVudChzKSBjb21pbmcgYmVmb3JlIGlucHV0LiBJdCBvbmx5IHNob3dzIHdoZW4gdGhlIGBkaXNwbGF5YCBpcyBzZXQgdG8gYGRlZmF1bHRgLgogICAgICogYHN0cmluZ2AgfCBgUmVhY3RFbGVtZW50YCBvciBhbiBhcnJheSBvZiB0aGVzZQogICAgICovCiAgcHJlcGVuZDogUHJvcFR5cGVzLmFueSwKCiAgLyoqCiAgICAgKiBDcmVhdGVzIGFuIGlucHV0IGdyb3VwIHdpdGggZWxlbWVudChzKSBjb21pbmcgYWZ0ZXIgaW5wdXQuIEl0IG9ubHkgc2hvd3Mgd2hlbiB0aGUgYGRpc3BsYXlgIGlzIHNldCB0byBgZGVmYXVsdGAuCiAgICAgKiBgc3RyaW5nYCB8IGBSZWFjdEVsZW1lbnRgIG9yIGFuIGFycmF5IG9mIHRoZXNlCiAgICAgKi8KICBhcHBlbmQ6IFByb3BUeXBlcy5hbnksCgogIC8qKgogICAgICogV2hldGhlciB0byByZW5kZXIgdGhlIGFscGhhIGNoYW5uZWwgKG9wYWNpdHkpIHZhbHVlIHJhbmdlIHNsaWRlci4KICAgICAqLwogIHNob3dBbHBoYTogUHJvcFR5cGVzLmJvb2wsCgogIC8qKgogICAgICogV2lsbCBmb3JtYXQgdGhlIHRleHQgaW5wdXQgaW4gdGhlIHByb3ZpZGVkIGZvcm1hdCB3aGVuIHBvc3NpYmxlIChodWUgYW5kIHNhdHVyYXRpb24gc2VsZWN0aW9uKQogICAgICogRXhjZXB0aW9uczogTWFudWFsIHRleHQgaW5wdXQgYW5kIHN3YXRjaGVzIHdpbGwgZGlzcGxheSBhcy1hdXRob3JlZAogICAgICogRGVmYXVsdCBpcyB0byBkaXNwbGF5IHRoZSBsYXN0IGZvcm1hdCBlbnRlcmVkIGJ5IHRoZSB1c2VyCiAgICAgKi8KICBmb3JtYXQ6IFByb3BUeXBlcy5vbmVPZihbImhleCIsICJyZ2JhIl0pLAoKICAvKioKICAgICAqIFBsYWNlbWVudCBvcHRpb24gZm9yIGEgc2Vjb25kYXJ5IGNvbG9yIHZhbHVlIGlucHV0LgogICAgICovCiAgc2Vjb25kYXJ5SW5wdXREaXNwbGF5OiBQcm9wVHlwZXMub25lT2YoWyJ0b3AiLCAiYm90dG9tIiwgIm5vbmUiXSksCgogIC8qKgogICAgICogQWRkIGEgYnV0dG9uIHRvIHRoZSBwcmltYXJ5IGlucHV0IHRvIGNsZWFyIGl0cyB2YWx1ZS4KICAgICAqLwogIGlzQ2xlYXJhYmxlOiBQcm9wVHlwZXMuYm9vbCwKCiAgLyoqCiAgICAgKiBUZXh0IHRvIHJlcGxhY2UgdGhlIGRlZmF1bHQgJ1RyYW5zcGFyZW50JyBwbGFjZWhvbGRlciBmb3IgdW5zZXQgY29sb3IgdmFsdWVzLgogICAgICovCiAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcsCiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLAogICJhcmlhLWxhYmVsIjogUHJvcFR5cGVzLnN0cmluZywKICAiZGF0YS10ZXN0LXN1YmoiOiBQcm9wVHlwZXMuc3RyaW5nLAoKICAvKioKICAgICAqIGhleCAoc3RyaW5nKQogICAgICogUkdCIChhcyBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nKQogICAgICogUkdCYSAoYXMgY29tbWEgc2VwYXJhdGVkIHN0cmluZykKICAgICAqIEVtcHR5IHN0cmluZyB3aWxsIHJlZ2lzdGVyIGFzICd0cmFuc3BhcmVudCcKICAgICAqLwogIGNvbG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsIFByb3BUeXBlcy5vbmVPZihbbnVsbF0pXSksCiAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYywKCiAgLyoqCiAgICAgKiB0ZXh0IChzdHJpbmcsIGFzIGVudGVyZWQgb3Igc2VsZWN0ZWQpCiAgICAgKiBoZXggKDgtZGlnaXQgaGV4IGlmIGFscGhhIDwgMSwgb3RoZXJ3aXNlIDYtZGlnaXQgaGV4KQogICAgICogUkdCYSAoYXMgYXJyYXk7IHZhbHVlcyBvZiBOYU4gaWYgY29sb3IgaXMgaW52YWxpZCkKICAgICAqIGlzVmFsaWQgKGJvb2xlYW4gc2lnbmlmeWluZyBpZiB0aGUgaW5wdXQgdGV4dCBpcyBhIHZhbGlkIGNvbG9yKQogICAgICovCiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgb25Gb2N1czogUHJvcFR5cGVzLmZ1bmMKfTsKCnRyeSB7CiAgRXVpQ29sb3JQaWNrZXIuX19kb2NnZW5JbmZvID0gewogICAgZGVzY3JpcHRpb246ICcnLAogICAgZGlzcGxheU5hbWU6ICdFdWlDb2xvclBpY2tlcicsCiAgICBtZXRob2RzOiBbXSwKICAgIHByb3BzOiB7CiAgICAgIGJ1dHRvbjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0N1c3RvbSBlbGVtZW50IHRvIHVzZSBpbnN0ZWFkIG9mIHRleHQgaW5wdXQnLAogICAgICAgIG5hbWU6ICdidXR0b24nLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yUGlja2VyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ1JlYWN0RWxlbWVudCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXByZXNzZWQ6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnZmFsc2UnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZSB0aGUgY29tcHJlc3NlZCBzdHlsZSBmb3IgRXVpRmllbGRUZXh0JywKICAgICAgICBuYW1lOiAnY29tcHJlc3NlZCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JQaWNrZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRpc3BsYXk6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnZGVmYXVsdCcKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnZGlzcGxheScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JQaWNrZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnZW51bScsCiAgICAgICAgICByYXc6ICdFdWlDb2xvclBpY2tlckRpc3BsYXknLAogICAgICAgICAgdmFsdWU6IFt7CiAgICAgICAgICAgIHZhbHVlOiAnImRlZmF1bHQiJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJpbmxpbmUiJwogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRpc2FibGVkOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnZGlzYWJsZWQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yUGlja2VyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBmdWxsV2lkdGg6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnZmFsc2UnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2Z1bGxXaWR0aCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JQaWNrZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlkOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnaWQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yUGlja2VyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGlzSW52YWxpZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0N1c3RvbSB2YWxpZGF0aW9uIGZsYWcnLAogICAgICAgIG5hbWU6ICdpc0ludmFsaWQnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yUGlja2VyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBtb2RlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2RlZmF1bHQnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ0Nob29zZSBiZXR3ZWVuIHN3YXRjaGVzIHdpdGggZ3JhZGllbnQgcGlja2VyIChkZWZhdWx0KSwgc3dhdGNoZXMgb25seSwgZ3JhZGllbnQgcGlja2VyIG9ubHksIG9yIHNlY29uZGFyeSBpbnB1dCBvbmx5LicsCiAgICAgICAgbmFtZTogJ21vZGUnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yUGlja2VyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2VudW0nLAogICAgICAgICAgcmF3OiAnRXVpQ29sb3JQaWNrZXJNb2RlJywKICAgICAgICAgIHZhbHVlOiBbewogICAgICAgICAgICB2YWx1ZTogJyJkZWZhdWx0IicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICcic3dhdGNoIicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICcicGlja2VyIicKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6ICcic2Vjb25kYXJ5SW5wdXQiJwogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBvcG92ZXJaSW5kZXg6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICdDdXN0b20gei1pbmRleCBmb3IgdGhlIHBvcG92ZXInLAogICAgICAgIG5hbWU6ICdwb3BvdmVyWkluZGV4JywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9waWNrZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclBpY2tlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdudW1iZXInCiAgICAgICAgfQogICAgICB9LAogICAgICByZWFkT25seTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdmYWxzZScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAncmVhZE9ubHknLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yUGlja2VyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBzd2F0Y2hlczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6IG51bGwKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnQXJyYXkgb2YgaGV4IHN0cmluZ3MgKDMgb3IgNiBjaGFyYWN0ZXIpIHRvIHVzZSBhcyBzd2F0Y2ggb3B0aW9ucy4gRGVmYXVsdHMgdG8gRVVJIHZpc3VhbGl6YXRpb24gY29sb3JzJywKICAgICAgICBuYW1lOiAnc3dhdGNoZXMnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yUGlja2VyUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZ1tdJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJlcGVuZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZXMgYW4gaW5wdXQgZ3JvdXAgd2l0aCBlbGVtZW50KHMpIGNvbWluZyBiZWZvcmUgaW5wdXQuIEl0IG9ubHkgc2hvd3Mgd2hlbiB0aGUgYGRpc3BsYXlgIGlzIHNldCB0byBgZGVmYXVsdGAuXG4nICsgJ2BzdHJpbmdgIHwgYFJlYWN0RWxlbWVudGAgb3IgYW4gYXJyYXkgb2YgdGhlc2UnLAogICAgICAgIG5hbWU6ICdwcmVwZW5kJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9waWNrZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclBpY2tlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdQcmVwZW5kQXBwZW5kVHlwZScKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFwcGVuZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZXMgYW4gaW5wdXQgZ3JvdXAgd2l0aCBlbGVtZW50KHMpIGNvbWluZyBhZnRlciBpbnB1dC4gSXQgb25seSBzaG93cyB3aGVuIHRoZSBgZGlzcGxheWAgaXMgc2V0IHRvIGBkZWZhdWx0YC5cbicgKyAnYHN0cmluZ2AgfCBgUmVhY3RFbGVtZW50YCBvciBhbiBhcnJheSBvZiB0aGVzZScsCiAgICAgICAgbmFtZTogJ2FwcGVuZCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JQaWNrZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUHJlcGVuZEFwcGVuZFR5cGUnCiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93QWxwaGE6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAnZmFsc2UnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ1doZXRoZXIgdG8gcmVuZGVyIHRoZSBhbHBoYSBjaGFubmVsIChvcGFjaXR5KSB2YWx1ZSByYW5nZSBzbGlkZXIuJywKICAgICAgICBuYW1lOiAnc2hvd0FscGhhJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9waWNrZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclBpY2tlclByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgZm9ybWF0OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnV2lsbCBmb3JtYXQgdGhlIHRleHQgaW5wdXQgaW4gdGhlIHByb3ZpZGVkIGZvcm1hdCB3aGVuIHBvc3NpYmxlIChodWUgYW5kIHNhdHVyYXRpb24gc2VsZWN0aW9uKVxuJyArICdFeGNlcHRpb25zOiBNYW51YWwgdGV4dCBpbnB1dCBhbmQgc3dhdGNoZXMgd2lsbCBkaXNwbGF5IGFzLWF1dGhvcmVkXG4nICsgJ0RlZmF1bHQgaXMgdG8gZGlzcGxheSB0aGUgbGFzdCBmb3JtYXQgZW50ZXJlZCBieSB0aGUgdXNlcicsCiAgICAgICAgbmFtZTogJ2Zvcm1hdCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JQaWNrZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnZW51bScsCiAgICAgICAgICByYXc6ICcicmdiYSIgfCAiaGV4IicsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICcicmdiYSInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnImhleCInCiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfSwKICAgICAgc2Vjb25kYXJ5SW5wdXREaXNwbGF5OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ25vbmUnCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogJ1BsYWNlbWVudCBvcHRpb24gZm9yIGEgc2Vjb25kYXJ5IGNvbG9yIHZhbHVlIGlucHV0LicsCiAgICAgICAgbmFtZTogJ3NlY29uZGFyeUlucHV0RGlzcGxheScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JQaWNrZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnZW51bScsCiAgICAgICAgICByYXc6ICcidG9wIiB8ICJib3R0b20iIHwgIm5vbmUiJywKICAgICAgICAgIHZhbHVlOiBbewogICAgICAgICAgICB2YWx1ZTogJyJ0b3AiJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJib3R0b20iJwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogJyJub25lIicKICAgICAgICAgIH1dCiAgICAgICAgfQogICAgICB9LAogICAgICBpc0NsZWFyYWJsZTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdmYWxzZScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnQWRkIGEgYnV0dG9uIHRvIHRoZSBwcmltYXJ5IGlucHV0IHRvIGNsZWFyIGl0cyB2YWx1ZS4nLAogICAgICAgIG5hbWU6ICdpc0NsZWFyYWJsZScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JQaWNrZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAiVGV4dCB0byByZXBsYWNlIHRoZSBkZWZhdWx0ICdUcmFuc3BhcmVudCcgcGxhY2Vob2xkZXIgZm9yIHVuc2V0IGNvbG9yIHZhbHVlcy4iLAogICAgICAgIG5hbWU6ICdwbGFjZWhvbGRlcicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JQaWNrZXJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgY2xhc3NOYW1lOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnY2xhc3NOYW1lJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbW1vbi50cycsCiAgICAgICAgICBuYW1lOiAnQ29tbW9uUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgICdhcmlhLWxhYmVsJzogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2FyaWEtbGFiZWwnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29tbW9uLnRzJywKICAgICAgICAgIG5hbWU6ICdDb21tb25Qcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2RhdGEtdGVzdC1zdWJqJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbW1vbi50cycsCiAgICAgICAgICBuYW1lOiAnQ29tbW9uUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbG9yOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnaGV4IChzdHJpbmcpXG4nICsgJ1JHQiAoYXMgY29tbWEgc2VwYXJhdGVkIHN0cmluZylcbicgKyAnUkdCYSAoYXMgY29tbWEgc2VwYXJhdGVkIHN0cmluZylcbicgKyAiRW1wdHkgc3RyaW5nIHdpbGwgcmVnaXN0ZXIgYXMgJ3RyYW5zcGFyZW50JyIsCiAgICAgICAgbmFtZTogJ2NvbG9yJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9waWNrZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdIVE1MRGl2RWxlbWVudE92ZXJyaWRlcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25CbHVyOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnb25CbHVyJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9waWNrZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdIVE1MRGl2RWxlbWVudE92ZXJyaWRlcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnKCkgPT4gdm9pZCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uQ2hhbmdlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAndGV4dCAoc3RyaW5nLCBhcyBlbnRlcmVkIG9yIHNlbGVjdGVkKVxuJyArICdoZXggKDgtZGlnaXQgaGV4IGlmIGFscGhhIDwgMSwgb3RoZXJ3aXNlIDYtZGlnaXQgaGV4KVxuJyArICdSR0JhIChhcyBhcnJheTsgdmFsdWVzIG9mIE5hTiBpZiBjb2xvciBpcyBpbnZhbGlkKVxuJyArICdpc1ZhbGlkIChib29sZWFuIHNpZ25pZnlpbmcgaWYgdGhlIGlucHV0IHRleHQgaXMgYSB2YWxpZCBjb2xvciknLAogICAgICAgIG5hbWU6ICdvbkNoYW5nZScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3JfcGlja2VyLnRzeCcsCiAgICAgICAgICBuYW1lOiAnSFRNTERpdkVsZW1lbnRPdmVycmlkZXMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnKHRleHQ6IHN0cmluZywgb3V0cHV0OiBFdWlDb2xvclBpY2tlck91dHB1dCkgPT4gdm9pZCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9uRm9jdXM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdvbkZvY3VzJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9waWNrZXIudHN4JywKICAgICAgICAgIG5hbWU6ICdIVE1MRGl2RWxlbWVudE92ZXJyaWRlcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnKCkgPT4gdm9pZCcKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBleHRlbmRlZEludGVyZmFjZXM6IFsnRXVpQ29sb3JQaWNrZXJQcm9wcycsICdDb21tb25Qcm9wcycsICdIVE1MQXR0cmlidXRlcycsICdBcmlhQXR0cmlidXRlcycsICdET01BdHRyaWJ1dGVzJywgJ0hUTUxEaXZFbGVtZW50T3ZlcnJpZGVzJ10KICB9Owp9IGNhdGNoIChlKSB7fQ=="},{"version":3,"sources":["D:/work/eui/src/components/color_picker/color_picker.tsx"],"names":["React","cloneElement","useEffect","useMemo","useRef","useState","classNames","chroma","EuiScreenReaderOnly","EuiColorPickerSwatch","EuiFocusTrap","EuiFlexGroup","EuiFlexItem","EuiFieldText","EuiFormControlLayout","EuiFormRow","EuiRange","EuiI18n","EuiPopover","EuiSpacer","VISUALIZATION_COLORS","keys","EuiHue","EuiSaturation","getChromaColor","parseColor","HEX_FALLBACK","HSV_FALLBACK","RGB_FALLBACK","RGB_JOIN","isKeyboardEvent","event","getOutput","text","showAlpha","color","isValid","alpha","rgba","hex","getHsv","hsv","fallback","hue","isNaN","EuiColorPicker","button","className","compressed","disabled","display","fullWidth","id","isInvalid","mode","onBlur","onChange","onFocus","readOnly","swatches","popoverZIndex","prepend","append","format","secondaryInputDisplay","isClearable","placeholder","dataTestSubj","preferredFormat","parsed","chromaColor","alphaRangeValue","setAlphaRangeValue","alphaChannel","percent","toFixed","isColorSelectorShown","setIsColorSelectorShown","inputRef","setInputRef","popoverShouldOwnFocus","setPopoverShouldOwnFocus","prevColor","join","colorAsHsv","setColorAsHsv","usableHsv","current","h","s","v","satruationRef","swatchRef","testSubjAnchor","updateColorAsHsv","classes","popoverClass","panelClasses","swatchClass","inputClasses","handleOnChange","output","handleOnBlur","closeColorSelector","shouldDelay","setTimeout","showColorSelector","shouldFocusInside","handleToggle","handleFinalSelection","focus","handleOnKeyDown","key","ENTER","handleInputActivity","preventDefault","handleToggleOnKeyDown","ARROW_DOWN","nextFocusEl","handleColorInput","target","value","newColor","handleClearInput","updateWithHsv","formatted","rgb","handleColorSelection","newHsv","handleHueSelection","handleSwatchSelection","handleAlphaSelection","e","parseInt","slice","inlineInput","colorLabel","colorErrorMessage","transparent","onClick","undefined","toUpperCase","showSecondaryInputOnly","showPicker","showSwatches","composite","map","swatch","index","swatchAriaLabel","alphaLabel","buttonOrInput","colorStyle","css","type","side","openLabel","closeLabel"],"mappings":"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","sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport PropTypes from \"prop-types\";\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { cloneElement, useEffect, useMemo, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport chroma from 'chroma-js';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiColorPickerSwatch } from './color_picker_swatch';\nimport { EuiFocusTrap } from '../focus_trap';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiFieldText, EuiFormControlLayout, EuiFormRow, EuiRange } from '../form';\nimport { EuiI18n } from '../i18n';\nimport { EuiPopover } from '../popover';\nimport { EuiSpacer } from '../spacer';\nimport { VISUALIZATION_COLORS, keys } from '../../services';\nimport { EuiHue } from './hue';\nimport { EuiSaturation } from './saturation';\nimport { getChromaColor, parseColor, HEX_FALLBACK, HSV_FALLBACK, RGB_FALLBACK, RGB_JOIN } from './utils';\n\nfunction isKeyboardEvent(event) {\n  return _typeof(event) === 'object' && 'key' in event;\n}\n\nvar getOutput = function getOutput(text) {\n  var showAlpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var color = getChromaColor(text, true);\n  var isValid = true;\n\n  if (!showAlpha && color !== null) {\n    isValid = color.alpha() === 1;\n  } // Note that if a consumer has disallowed opacity,\n  // we still return the color with an alpha channel, but mark it as invalid\n\n\n  return color ? {\n    rgba: color.rgba(),\n    hex: color.hex(),\n    isValid: isValid\n  } : {\n    rgba: RGB_FALLBACK,\n    hex: HEX_FALLBACK,\n    isValid: false\n  };\n};\n\nvar getHsv = function getHsv(hsv) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Chroma's passthrough (RGB) parsing determines that black/white/gray are hue-less and returns `NaN`\n  // For our purposes we can process `NaN` as `0` if necessary\n\n  if (!hsv) return HSV_FALLBACK;\n  var hue = isNaN(hsv[0]) ? fallback : hsv[0];\n  return [hue, hsv[1], hsv[2]];\n};\n\nexport var EuiColorPicker = ({\n  button,\n  className,\n  color,\n  compressed = false,\n  disabled,\n  display = 'default',\n  fullWidth = false,\n  id,\n  isInvalid,\n  mode = 'default',\n  onBlur,\n  onChange,\n  onFocus,\n  readOnly = false,\n  swatches = VISUALIZATION_COLORS,\n  popoverZIndex,\n  prepend,\n  append,\n  showAlpha = false,\n  format,\n  secondaryInputDisplay = 'none',\n  isClearable = false,\n  placeholder,\n  'data-test-subj': dataTestSubj\n}) => {\n  const preferredFormat = useMemo(() => {\n    if (format) return format;\n    const parsed = parseColor(color);\n    return parsed != null && typeof parsed === 'object' ? 'rgba' : 'hex';\n  }, [color, format]);\n  const chromaColor = useMemo(() => getChromaColor(color, showAlpha), [color, showAlpha]);\n  const [alphaRangeValue, setAlphaRangeValue] = useState('100');\n  const alphaChannel = useMemo(() => {\n    return chromaColor ? chromaColor.alpha() : 1;\n  }, [chromaColor]);\n  useEffect(() => {\n    const percent = (alphaChannel * 100).toFixed();\n    setAlphaRangeValue(percent);\n  }, [alphaChannel]);\n  const [isColorSelectorShown, setIsColorSelectorShown] = useState(false);\n  const [inputRef, setInputRef] = useState(null); // Ideally this is uses `useRef`, but `EuiFieldText` isn't ready for that\n\n  const [popoverShouldOwnFocus, setPopoverShouldOwnFocus] = useState(false);\n  const prevColor = useRef(chromaColor ? chromaColor.rgba().join() : null);\n  const [colorAsHsv, setColorAsHsv] = useState(chromaColor ? getHsv(chromaColor.hsv()) : HSV_FALLBACK);\n  const usableHsv = useMemo(() => {\n    if (chromaColor && chromaColor.rgba().join() !== prevColor.current) {\n      const [h, s, v] = chromaColor.hsv();\n      const hue = isNaN(h) ? colorAsHsv[0] : h;\n      return [hue, s, v];\n    }\n\n    return colorAsHsv;\n  }, [chromaColor, colorAsHsv]);\n  const satruationRef = useRef(null);\n  const swatchRef = useRef(null);\n  const testSubjAnchor = classNames('euiColorPickerAnchor', dataTestSubj);\n\n  const updateColorAsHsv = ([h, s, v]) => {\n    setColorAsHsv(getHsv([h, s, v], usableHsv[0]));\n  };\n\n  const classes = classNames('euiColorPicker', className);\n  const popoverClass = 'euiColorPicker__popoverAnchor';\n  const panelClasses = classNames('euiColorPicker__popoverPanel', {\n    'euiColorPicker__popoverPanel--pickerOnly': mode === 'picker' && secondaryInputDisplay !== 'bottom',\n    'euiColorPicker__popoverPanel--customButton': button\n  });\n  const swatchClass = 'euiColorPicker__swatchSelect';\n  const inputClasses = classNames('euiColorPicker__input', {\n    'euiColorPicker__input--inGroup': prepend || append\n  });\n\n  const handleOnChange = text => {\n    const output = getOutput(text, showAlpha);\n\n    if (output.isValid) {\n      prevColor.current = output.rgba.join();\n    }\n\n    onChange(text, output);\n  };\n\n  const handleOnBlur = () => {\n    // `onBlur` also gets called when the popover is closing\n    // so prevent a second `onBlur` if the popover is open\n    if (!isColorSelectorShown && onBlur) {\n      onBlur();\n    }\n  };\n\n  const closeColorSelector = (shouldDelay = false) => {\n    if (onBlur) {\n      onBlur();\n    }\n\n    if (shouldDelay) {\n      setTimeout(() => setIsColorSelectorShown(false));\n    } else {\n      setIsColorSelectorShown(false);\n    }\n  };\n\n  const showColorSelector = (shouldFocusInside = false) => {\n    if (isColorSelectorShown || readOnly) return;\n\n    if (onFocus) {\n      onFocus();\n    }\n\n    setPopoverShouldOwnFocus(shouldFocusInside);\n    setIsColorSelectorShown(true);\n  };\n\n  const handleToggle = () => {\n    if (isColorSelectorShown) {\n      closeColorSelector();\n    } else {\n      showColorSelector(true);\n    }\n  };\n\n  const handleFinalSelection = () => {\n    // When the trigger is an input, focus the input so you can adjust\n    if (inputRef) {\n      inputRef.focus();\n    }\n\n    closeColorSelector(true);\n  };\n\n  const handleOnKeyDown = event => {\n    if (event.key === keys.ENTER) {\n      if (isColorSelectorShown) {\n        handleFinalSelection();\n      } else {\n        showColorSelector();\n      }\n    }\n  };\n\n  const handleInputActivity = event => {\n    if (isKeyboardEvent(event)) {\n      if (event.key === keys.ENTER) {\n        event.preventDefault();\n        handleToggle();\n      }\n    } else {\n      showColorSelector();\n    }\n  };\n\n  const handleToggleOnKeyDown = event => {\n    if (event.key === keys.ARROW_DOWN) {\n      event.preventDefault();\n\n      if (isColorSelectorShown) {\n        const nextFocusEl = mode !== 'swatch' ? satruationRef : swatchRef;\n\n        if (nextFocusEl.current) {\n          nextFocusEl.current.focus();\n        }\n      } else {\n        showColorSelector(true);\n      }\n    }\n  };\n\n  const handleColorInput = event => {\n    handleOnChange(event.target.value);\n    const newColor = getChromaColor(event.target.value, showAlpha);\n\n    if (newColor) {\n      updateColorAsHsv(newColor.hsv());\n    }\n  };\n\n  const handleClearInput = () => {\n    handleOnChange('');\n\n    if (secondaryInputDisplay === 'none' && isColorSelectorShown) {\n      closeColorSelector();\n    }\n  };\n\n  const updateWithHsv = hsv => {\n    const color = chroma.hsv(...hsv).alpha(alphaChannel);\n    let formatted;\n\n    if (preferredFormat === 'rgba') {\n      formatted = alphaChannel < 1 ? color.rgba().join(RGB_JOIN) : color.rgb().join(RGB_JOIN);\n    } else {\n      formatted = color.hex();\n    }\n\n    handleOnChange(formatted);\n    updateColorAsHsv(hsv);\n  };\n\n  const handleColorSelection = color => {\n    const [h] = usableHsv;\n    const [, s, v] = color;\n    const newHsv = [h, s, v];\n    updateWithHsv(newHsv);\n  };\n\n  const handleHueSelection = hue => {\n    const [, s, v] = usableHsv;\n    const newHsv = [hue, s, v];\n    updateWithHsv(newHsv);\n  };\n\n  const handleSwatchSelection = color => {\n    const newColor = getChromaColor(color, showAlpha);\n    handleOnChange(color);\n\n    if (newColor) {\n      updateColorAsHsv(newColor.hsv());\n    }\n\n    handleFinalSelection();\n  };\n\n  const handleAlphaSelection = (e, isValid) => {\n    const target = e.target;\n    setAlphaRangeValue(target.value || '');\n\n    if (isValid) {\n      const alpha = parseInt(target.value, 10) / 100;\n      const newColor = chromaColor ? chromaColor.alpha(alpha) : null;\n      const hex = newColor ? newColor.hex() : HEX_FALLBACK;\n      const rgba = newColor ? newColor.rgba() : RGB_FALLBACK;\n      let text;\n\n      if (preferredFormat === 'rgba') {\n        text = alpha < 1 ? rgba.join(RGB_JOIN) : rgba.slice(0, 3).join(RGB_JOIN);\n      } else {\n        text = hex;\n      }\n\n      onChange(text, {\n        hex,\n        rgba,\n        isValid: !!newColor\n      });\n    }\n  };\n\n  const inlineInput = secondaryInputDisplay !== 'none' && <EuiI18n tokens={['euiColorPicker.colorLabel', 'euiColorPicker.colorErrorMessage', 'euiColorPicker.transparent']} defaults={['Color value', 'Invalid color value', 'Transparent']}>\n      {([colorLabel, colorErrorMessage, transparent]) => <EuiFormRow display=\"rowCompressed\" isInvalid={isInvalid} error={isInvalid ? colorErrorMessage : null}>\n          <EuiFormControlLayout clear={isClearable && color && !readOnly && !disabled ? {\n        onClick: handleClearInput\n      } : undefined} readOnly={readOnly} compressed={compressed}>\n            <EuiFieldText compressed={true} value={color ? color.toUpperCase() : HEX_FALLBACK} placeholder={!color ? placeholder || transparent : undefined} onChange={handleColorInput} isInvalid={isInvalid} disabled={disabled} readOnly={readOnly} aria-label={colorLabel} autoComplete=\"off\" data-test-subj={`euiColorPickerInput_${secondaryInputDisplay}`} />\n          </EuiFormControlLayout>\n        </EuiFormRow>}\n    </EuiI18n>;\n  const showSecondaryInputOnly = mode === 'secondaryInput';\n  const showPicker = mode !== 'swatch' && !showSecondaryInputOnly;\n  const showSwatches = mode !== 'picker' && !showSecondaryInputOnly;\n  const composite = <>\n      {secondaryInputDisplay === 'top' && <>\n          {inlineInput}\n          <EuiSpacer size=\"s\" />\n        </>}\n      {showPicker && <div onKeyDown={handleOnKeyDown}>\n          <EuiSaturation id={id} color={usableHsv} hex={chromaColor ? chromaColor.hex() : undefined} onChange={handleColorSelection} ref={satruationRef} />\n          <EuiHue id={id} hue={usableHsv[0]} hex={chromaColor ? chromaColor.hex() : undefined} onChange={handleHueSelection} />\n        </div>}\n      {showSwatches && <EuiFlexGroup wrap responsive={false} gutterSize=\"s\" role=\"listbox\">\n          {swatches.map((swatch, index) => <EuiFlexItem grow={false} key={swatch}>\n              <EuiI18n token=\"euiColorPicker.swatchAriaLabel\" values={{\n          swatch\n        }} default=\"Select {swatch} as the color\">\n                {swatchAriaLabel => <EuiColorPickerSwatch className={swatchClass} color={swatch} onClick={() => handleSwatchSelection(swatch)} aria-label={swatchAriaLabel} role=\"option\" ref={index === 0 ? swatchRef : undefined} />}\n              </EuiI18n>\n            </EuiFlexItem>)}\n        </EuiFlexGroup>}\n      {secondaryInputDisplay === 'bottom' && <>\n          {mode !== 'picker' && <EuiSpacer size=\"s\" />}\n          {inlineInput}\n        </>}\n      {showAlpha && <>\n          <EuiSpacer size=\"s\" />\n          <EuiI18n token=\"euiColorPicker.alphaLabel\" default=\"Alpha channel (opacity) value\">\n            {alphaLabel => <EuiRange className=\"euiColorPicker__alphaRange\" data-test-subj=\"euiColorPickerAlpha\" compressed={true} showInput={true} max={100} min={0} value={alphaRangeValue} append=\"%\" onChange={handleAlphaSelection} aria-label={alphaLabel} />}\n          </EuiI18n>\n        </>}\n    </>;\n  let buttonOrInput;\n\n  if (button) {\n    buttonOrInput = cloneElement(button, {\n      onClick: handleToggle,\n      id: id,\n      disabled: disabled,\n      'data-test-subj': testSubjAnchor\n    });\n  } else {\n    const colorStyle = chromaColor ? chromaColor.css() : undefined;\n    buttonOrInput = <EuiFormControlLayout icon={!readOnly ? {\n      type: 'arrowDown',\n      side: 'right'\n    } : undefined} clear={isClearable && color && !readOnly && !disabled ? {\n      onClick: handleClearInput\n    } : undefined} readOnly={readOnly} fullWidth={fullWidth} compressed={compressed} onKeyDown={handleToggleOnKeyDown} prepend={prepend} append={append}>\n        <div // Used to pass the chosen color through to form layout SVG using currentColor\n      style={{\n        color: colorStyle\n      }}>\n          <EuiI18n tokens={['euiColorPicker.openLabel', 'euiColorPicker.closeLabel', 'euiColorPicker.transparent']} defaults={['Press the escape key to close the popover', 'Press the down key to open a popover containing color options', 'Transparent']}>\n            {([openLabel, closeLabel, transparent]) => <EuiFieldText className={inputClasses} onClick={handleInputActivity} onKeyDown={handleInputActivity} onBlur={handleOnBlur} value={color ? color.toUpperCase() : HEX_FALLBACK} placeholder={!color ? placeholder || transparent : undefined} id={id} onChange={handleColorInput} icon={chromaColor ? 'swatchInput' : 'stopSlash'} inputRef={setInputRef} isInvalid={isInvalid} compressed={compressed} disabled={disabled} readOnly={readOnly} fullWidth={fullWidth} autoComplete=\"off\" data-test-subj={testSubjAnchor} aria-label={isColorSelectorShown ? openLabel : closeLabel} />}\n          </EuiI18n>\n        </div>\n      </EuiFormControlLayout>;\n  }\n\n  return display === 'inline' ? <div className={classes}>{composite}</div> : <EuiPopover ownFocus={popoverShouldOwnFocus} initialFocus={(mode !== 'swatch' ? satruationRef.current : swatchRef.current) ?? undefined} button={buttonOrInput} isOpen={isColorSelectorShown} closePopover={handleFinalSelection} zIndex={popoverZIndex} className={popoverClass} panelClassName={panelClasses} display={button ? 'inlineBlock' : 'block'} attachToAnchor={button ? false : true} anchorPosition=\"downLeft\" panelPaddingSize=\"s\">\n      <div className={classes} data-test-subj=\"euiColorPickerPopover\">\n        <EuiFocusTrap clickOutsideDisables={true}>\n          <EuiScreenReaderOnly>\n            <p aria-live=\"polite\">\n              <EuiI18n token=\"euiColorPicker.screenReaderAnnouncement\" default=\"A popup with a range of selectable colors opened.\n                Tab forward to cycle through colors choices or press\n                escape to close this popup.\" />\n            </p>\n          </EuiScreenReaderOnly>\n          {composite}\n        </EuiFocusTrap>\n      </div>\n    </EuiPopover>;\n};\nEuiColorPicker.propTypes = {\n  /**\n     *  Custom element to use instead of text input\n     */\n  button: PropTypes.element,\n\n  /**\n     *  Use the compressed style for EuiFieldText\n     */\n  compressed: PropTypes.bool,\n  display: PropTypes.oneOf([\"default\", \"inline\"]),\n  disabled: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  id: PropTypes.string,\n\n  /**\n     *  Custom validation flag\n     */\n  isInvalid: PropTypes.bool,\n\n  /**\n     * Choose between swatches with gradient picker (default), swatches only, gradient picker only, or secondary input only.\n     */\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]),\n\n  /**\n     *  Custom z-index for the popover\n     */\n  popoverZIndex: PropTypes.number,\n  readOnly: PropTypes.bool,\n\n  /**\n     *  Array of hex strings (3 or 6 character) to use as swatch options. Defaults to EUI visualization colors\n     */\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n\n  /**\n     * Creates an input group with element(s) coming before input. It only shows when the `display` is set to `default`.\n     * `string` | `ReactElement` or an array of these\n     */\n  prepend: PropTypes.any,\n\n  /**\n     * Creates an input group with element(s) coming after input. It only shows when the `display` is set to `default`.\n     * `string` | `ReactElement` or an array of these\n     */\n  append: PropTypes.any,\n\n  /**\n     * Whether to render the alpha channel (opacity) value range slider.\n     */\n  showAlpha: PropTypes.bool,\n\n  /**\n     * Will format the text input in the provided format when possible (hue and saturation selection)\n     * Exceptions: Manual text input and swatches will display as-authored\n     * Default is to display the last format entered by the user\n     */\n  format: PropTypes.oneOf([\"hex\", \"rgba\"]),\n\n  /**\n     * Placement option for a secondary color value input.\n     */\n  secondaryInputDisplay: PropTypes.oneOf([\"top\", \"bottom\", \"none\"]),\n\n  /**\n     * Add a button to the primary input to clear its value.\n     */\n  isClearable: PropTypes.bool,\n\n  /**\n     * Text to replace the default 'Transparent' placeholder for unset color values.\n     */\n  placeholder: PropTypes.string,\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n     * hex (string)\n     * RGB (as comma separated string)\n     * RGBa (as comma separated string)\n     * Empty string will register as 'transparent'\n     */\n  color: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  onBlur: PropTypes.func,\n\n  /**\n     * text (string, as entered or selected)\n     * hex (8-digit hex if alpha < 1, otherwise 6-digit hex)\n     * RGBa (as array; values of NaN if color is invalid)\n     * isValid (boolean signifying if the input text is a valid color)\n     */\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func\n};\n\ntry {\n  EuiColorPicker.__docgenInfo = {\n    description: '',\n    displayName: 'EuiColorPicker',\n    methods: [],\n    props: {\n      button: {\n        defaultValue: null,\n        description: 'Custom element to use instead of text input',\n        name: 'button',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'ReactElement'\n        }\n      },\n      compressed: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'Use the compressed style for EuiFieldText',\n        name: 'compressed',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      display: {\n        defaultValue: {\n          value: 'default'\n        },\n        description: '',\n        name: 'display',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: 'EuiColorPickerDisplay',\n          value: [{\n            value: '\"default\"'\n          }, {\n            value: '\"inline\"'\n          }]\n        }\n      },\n      disabled: {\n        defaultValue: null,\n        description: '',\n        name: 'disabled',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      fullWidth: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: '',\n        name: 'fullWidth',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      id: {\n        defaultValue: null,\n        description: '',\n        name: 'id',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      isInvalid: {\n        defaultValue: null,\n        description: 'Custom validation flag',\n        name: 'isInvalid',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      mode: {\n        defaultValue: {\n          value: 'default'\n        },\n        description: 'Choose between swatches with gradient picker (default), swatches only, gradient picker only, or secondary input only.',\n        name: 'mode',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: 'EuiColorPickerMode',\n          value: [{\n            value: '\"default\"'\n          }, {\n            value: '\"swatch\"'\n          }, {\n            value: '\"picker\"'\n          }, {\n            value: '\"secondaryInput\"'\n          }]\n        }\n      },\n      popoverZIndex: {\n        defaultValue: null,\n        description: 'Custom z-index for the popover',\n        name: 'popoverZIndex',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      readOnly: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: '',\n        name: 'readOnly',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      swatches: {\n        defaultValue: {\n          value: null\n        },\n        description: 'Array of hex strings (3 or 6 character) to use as swatch options. Defaults to EUI visualization colors',\n        name: 'swatches',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'string[]'\n        }\n      },\n      prepend: {\n        defaultValue: null,\n        description: 'Creates an input group with element(s) coming before input. It only shows when the `display` is set to `default`.\\n' + '`string` | `ReactElement` or an array of these',\n        name: 'prepend',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'PrependAppendType'\n        }\n      },\n      append: {\n        defaultValue: null,\n        description: 'Creates an input group with element(s) coming after input. It only shows when the `display` is set to `default`.\\n' + '`string` | `ReactElement` or an array of these',\n        name: 'append',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'PrependAppendType'\n        }\n      },\n      showAlpha: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'Whether to render the alpha channel (opacity) value range slider.',\n        name: 'showAlpha',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      format: {\n        defaultValue: null,\n        description: 'Will format the text input in the provided format when possible (hue and saturation selection)\\n' + 'Exceptions: Manual text input and swatches will display as-authored\\n' + 'Default is to display the last format entered by the user',\n        name: 'format',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: '\"rgba\" | \"hex\"',\n          value: [{\n            value: '\"rgba\"'\n          }, {\n            value: '\"hex\"'\n          }]\n        }\n      },\n      secondaryInputDisplay: {\n        defaultValue: {\n          value: 'none'\n        },\n        description: 'Placement option for a secondary color value input.',\n        name: 'secondaryInputDisplay',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'enum',\n          raw: '\"top\" | \"bottom\" | \"none\"',\n          value: [{\n            value: '\"top\"'\n          }, {\n            value: '\"bottom\"'\n          }, {\n            value: '\"none\"'\n          }]\n        }\n      },\n      isClearable: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: 'Add a button to the primary input to clear its value.',\n        name: 'isClearable',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      placeholder: {\n        defaultValue: null,\n        description: \"Text to replace the default 'Transparent' placeholder for unset color values.\",\n        name: 'placeholder',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'EuiColorPickerProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      className: {\n        defaultValue: null,\n        description: '',\n        name: 'className',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'aria-label': {\n        defaultValue: null,\n        description: '',\n        name: 'aria-label',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'data-test-subj': {\n        defaultValue: null,\n        description: '',\n        name: 'data-test-subj',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      color: {\n        defaultValue: null,\n        description: 'hex (string)\\n' + 'RGB (as comma separated string)\\n' + 'RGBa (as comma separated string)\\n' + \"Empty string will register as 'transparent'\",\n        name: 'color',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'HTMLDivElementOverrides'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      onBlur: {\n        defaultValue: null,\n        description: '',\n        name: 'onBlur',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'HTMLDivElementOverrides'\n        },\n        required: false,\n        type: {\n          name: '() => void'\n        }\n      },\n      onChange: {\n        defaultValue: null,\n        description: 'text (string, as entered or selected)\\n' + 'hex (8-digit hex if alpha < 1, otherwise 6-digit hex)\\n' + 'RGBa (as array; values of NaN if color is invalid)\\n' + 'isValid (boolean signifying if the input text is a valid color)',\n        name: 'onChange',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'HTMLDivElementOverrides'\n        },\n        required: true,\n        type: {\n          name: '(text: string, output: EuiColorPickerOutput) => void'\n        }\n      },\n      onFocus: {\n        defaultValue: null,\n        description: '',\n        name: 'onFocus',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_picker.tsx',\n          name: 'HTMLDivElementOverrides'\n        },\n        required: false,\n        type: {\n          name: '() => void'\n        }\n      }\n    },\n    extendedInterfaces: ['EuiColorPickerProps', 'CommonProps', 'HTMLAttributes', 'AriaAttributes', 'DOMAttributes', 'HTMLDivElementOverrides']\n  };\n} catch (e) {}"]}]}