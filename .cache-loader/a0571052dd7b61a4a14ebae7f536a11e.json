{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src-docs\\src\\views\\link_wrapper.js","dependencies":[{"path":"D:\\work\\eui\\src-docs\\src\\views\\link_wrapper.js","mtime":1649070001071},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwoKZnVuY3Rpb24gZ2V0UGFyZW50QW5jaG9yKGVsZW1lbnQpIHsKICB3aGlsZSAoZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0EnICYmIGVsZW1lbnQucGFyZW50RWxlbWVudCAhPSBudWxsKSB7CiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50OwogIH0KCiAgcmV0dXJuIGVsZW1lbnQ7Cn0KCmV4cG9ydCB2YXIgTGlua1dyYXBwZXIgPSBmdW5jdGlvbiBMaW5rV3JhcHBlcihfcmVmKSB7CiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGUpIHsKICAgICAgLy8gZG9uJ3QgcHJldmVudCBvcGVuLWluLW5ldy10YWIgYWN0aW9ucwogICAgICBpZiAoZS5tZXRhS2V5ID09PSB0cnVlIHx8IGUuY3RybEtleSA9PT0gdHJ1ZSkgcmV0dXJuOyAvLyBsb29rIGZvciBhbiBhbmNob3IgYW5jZXN0b3IKCiAgICAgIHZhciBhbmNob3IgPSBnZXRQYXJlbnRBbmNob3IoZS50YXJnZXQpOwoKICAgICAgaWYgKGFuY2hvciAmJiBhbmNob3Iubm9kZU5hbWUgPT09ICdBJykgewogICAgICAgIHZhciBocmVmID0gYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpOyAvLyBjaGVjayBpZiB0aGlzIGlzIGFuIGludGVybmFsIGxpbmsKCiAgICAgICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgnIy8nKSkgewogICAgICAgICAgaGlzdG9yeS5wdXNoKGhyZWYucmVwbGFjZSgnIycsICcnKSk7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spOwogICAgfTsKICB9LCBbaGlzdG9yeV0pOwogIHJldHVybiBjaGlsZHJlbjsKfTs="},{"version":3,"sources":["D:/work/eui/src-docs/src/views/link_wrapper.js"],"names":["useEffect","useHistory","getParentAnchor","element","nodeName","parentElement","LinkWrapper","children","history","onClick","e","metaKey","ctrlKey","anchor","target","href","getAttribute","startsWith","push","replace","preventDefault","document","addEventListener","removeEventListener"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,SAASC,eAAT,CAAyBC,OAAzB,EAAkC;AAChC,SAAOA,OAAO,CAACC,QAAR,KAAqB,GAArB,IAA4BD,OAAO,CAACE,aAAR,IAAyB,IAA5D,EAAkE;AAChEF,IAAAA,OAAO,GAAGA,OAAO,CAACE,aAAlB;AACD;;AACD,SAAOF,OAAP;AACD;;AAED,OAAO,IAAMG,WAAW,GAAG,SAAdA,WAAc,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AAC3C,MAAMC,OAAO,GAAGP,UAAU,EAA1B;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMS,OAAO,GAAG,SAAVA,OAAU,CAACC,CAAD,EAAO;AACrB;AACA,UAAIA,CAAC,CAACC,OAAF,KAAc,IAAd,IAAsBD,CAAC,CAACE,OAAF,KAAc,IAAxC,EAA8C,OAFzB,CAIrB;;AACA,UAAMC,MAAM,GAAGX,eAAe,CAACQ,CAAC,CAACI,MAAH,CAA9B;;AACA,UAAID,MAAM,IAAIA,MAAM,CAACT,QAAP,KAAoB,GAAlC,EAAuC;AACrC,YAAMW,IAAI,GAAGF,MAAM,CAACG,YAAP,CAAoB,MAApB,CAAb,CADqC,CAErC;;AACA,YAAID,IAAI,CAACE,UAAL,CAAgB,IAAhB,CAAJ,EAA2B;AACzBT,UAAAA,OAAO,CAACU,IAAR,CAAaH,IAAI,CAACI,OAAL,CAAa,GAAb,EAAkB,EAAlB,CAAb;AACAT,UAAAA,CAAC,CAACU,cAAF;AACD;AACF;AACF,KAdD;;AAgBAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCb,OAAnC;AACA,WAAO,YAAM;AACXY,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,EAAsCd,OAAtC;AACD,KAFD;AAGD,GArBQ,EAqBN,CAACD,OAAD,CArBM,CAAT;AAuBA,SAAOD,QAAP;AACD,CA3BM","sourcesContent":["import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction getParentAnchor(element) {\n  while (element.nodeName !== 'A' && element.parentElement != null) {\n    element = element.parentElement;\n  }\n  return element;\n}\n\nexport const LinkWrapper = ({ children }) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    const onClick = (e) => {\n      // don't prevent open-in-new-tab actions\n      if (e.metaKey === true || e.ctrlKey === true) return;\n\n      // look for an anchor ancestor\n      const anchor = getParentAnchor(e.target);\n      if (anchor && anchor.nodeName === 'A') {\n        const href = anchor.getAttribute('href');\n        // check if this is an internal link\n        if (href.startsWith('#/')) {\n          history.push(href.replace('#', ''));\n          e.preventDefault();\n        }\n      }\n    };\n\n    document.addEventListener('click', onClick);\n    return () => {\n      document.removeEventListener('click', onClick);\n    };\n  }, [history]);\n\n  return children;\n};\n"]}]}