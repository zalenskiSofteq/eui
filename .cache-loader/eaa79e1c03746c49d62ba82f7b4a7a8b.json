{"remainingRequest":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js??ref--4-1!D:\\work\\eui\\src\\components\\color_picker\\color_stops\\color_stop_thumb.tsx","dependencies":[{"path":"D:\\work\\eui\\src\\components\\color_picker\\color_stops\\color_stop_thumb.tsx","mtime":1649070093334},{"path":"D:\\work\\eui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636976621750},{"path":"D:\\work\\eui\\node_modules\\babel-loader\\lib\\index.js","mtime":1649070120649}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtZmxvYXQiOwoKZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKLyoKICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yCiAqIGxpY2Vuc2UgYWdyZWVtZW50cy4gU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCiAqIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0CiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXIKICogdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkKICogbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiAqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQogKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwogKiB1bmRlciB0aGUgTGljZW5zZS4KICovCmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAicHJvcC10eXBlcyI7CmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnOwppbXBvcnQgeyBnZXRQb3NpdGlvbkZyb21TdG9wLCBnZXRTdG9wRnJvbU1vdXNlTG9jYXRpb24sIGlzQ29sb3JJbnZhbGlkLCBpc1N0b3BJbnZhbGlkIH0gZnJvbSAnLi91dGlscyc7CmltcG9ydCB7IGdldENocm9tYUNvbG9yIH0gZnJvbSAnLi4vdXRpbHMnOwppbXBvcnQgeyBrZXlzLCB1c2VNb3VzZU1vdmUgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcyc7CmltcG9ydCB7IEV1aUJ1dHRvbkljb24gfSBmcm9tICcuLi8uLi9idXR0b24nOwppbXBvcnQgeyBFdWlDb2xvclBpY2tlciB9IGZyb20gJy4uL2NvbG9yX3BpY2tlcic7CmltcG9ydCB7IEV1aUZsZXhHcm91cCwgRXVpRmxleEl0ZW0gfSBmcm9tICcuLi8uLi9mbGV4JzsKaW1wb3J0IHsgRXVpRmllbGROdW1iZXIsIEV1aUZvcm1Sb3cgfSBmcm9tICcuLi8uLi9mb3JtJzsKaW1wb3J0IHsgRXVpSTE4biB9IGZyb20gJy4uLy4uL2kxOG4nOwppbXBvcnQgeyBFdWlQb3BvdmVyIH0gZnJvbSAnLi4vLi4vcG9wb3Zlcic7CmltcG9ydCB7IEV1aVNjcmVlblJlYWRlck9ubHkgfSBmcm9tICcuLi8uLi9hY2Nlc3NpYmlsaXR5JzsKaW1wb3J0IHsgRXVpU3BhY2VyIH0gZnJvbSAnLi4vLi4vc3BhY2VyJzsKaW1wb3J0IHsgRXVpUmFuZ2VUaHVtYiB9IGZyb20gJy4uLy4uL2Zvcm0vcmFuZ2UvcmFuZ2VfdGh1bWInOwpleHBvcnQgdmFyIEV1aUNvbG9yU3RvcFRodW1iID0gZnVuY3Rpb24gRXVpQ29sb3JTdG9wVGh1bWIoX3JlZikgewogIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSwKICAgICAgc3RvcCA9IF9yZWYuc3RvcCwKICAgICAgY29sb3IgPSBfcmVmLmNvbG9yLAogICAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsCiAgICAgIG9uRm9jdXMgPSBfcmVmLm9uRm9jdXMsCiAgICAgIG9uUmVtb3ZlID0gX3JlZi5vblJlbW92ZSwKICAgICAgZ2xvYmFsTWluID0gX3JlZi5nbG9iYWxNaW4sCiAgICAgIGdsb2JhbE1heCA9IF9yZWYuZ2xvYmFsTWF4LAogICAgICBsb2NhbE1pbiA9IF9yZWYubG9jYWxNaW4sCiAgICAgIGxvY2FsTWF4ID0gX3JlZi5sb2NhbE1heCwKICAgICAgbWluID0gX3JlZi5taW4sCiAgICAgIG1heCA9IF9yZWYubWF4LAogICAgICBfcmVmJGlzUmFuZ2VNaW4gPSBfcmVmLmlzUmFuZ2VNaW4sCiAgICAgIGlzUmFuZ2VNaW4gPSBfcmVmJGlzUmFuZ2VNaW4gPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpc1JhbmdlTWluLAogICAgICBfcmVmJGlzUmFuZ2VNYXggPSBfcmVmLmlzUmFuZ2VNYXgsCiAgICAgIGlzUmFuZ2VNYXggPSBfcmVmJGlzUmFuZ2VNYXggPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRpc1JhbmdlTWF4LAogICAgICBwYXJlbnRSZWYgPSBfcmVmLnBhcmVudFJlZiwKICAgICAgY29sb3JQaWNrZXJNb2RlID0gX3JlZi5jb2xvclBpY2tlck1vZGUsCiAgICAgIGNvbG9yUGlja2VyU2hvd0FscGhhID0gX3JlZi5jb2xvclBpY2tlclNob3dBbHBoYSwKICAgICAgY29sb3JQaWNrZXJTd2F0Y2hlcyA9IF9yZWYuY29sb3JQaWNrZXJTd2F0Y2hlcywKICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLAogICAgICByZWFkT25seSA9IF9yZWYucmVhZE9ubHksCiAgICAgIGlzUG9wb3Zlck9wZW4gPSBfcmVmLmlzUG9wb3Zlck9wZW4sCiAgICAgIG9wZW5Qb3BvdmVyID0gX3JlZi5vcGVuUG9wb3ZlciwKICAgICAgY2xvc2VQb3BvdmVyID0gX3JlZi5jbG9zZVBvcG92ZXIsCiAgICAgIGRhdGFJbmRleCA9IF9yZWZbJ2RhdGEtaW5kZXgnXSwKICAgICAgYXJpYVZhbHVlVGV4dCA9IF9yZWZbJ2FyaWEtdmFsdWV0ZXh0J10sCiAgICAgIF9yZWYkdmFsdWVJbnB1dFByb3BzID0gX3JlZi52YWx1ZUlucHV0UHJvcHMsCiAgICAgIHZhbHVlSW5wdXRQcm9wcyA9IF9yZWYkdmFsdWVJbnB1dFByb3BzID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkdmFsdWVJbnB1dFByb3BzOwogIHZhciBiYWNrZ3JvdW5kID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICB2YXIgY2hyb21hQ29sb3IgPSBnZXRDaHJvbWFDb2xvcihjb2xvciwgY29sb3JQaWNrZXJTaG93QWxwaGEpOwogICAgcmV0dXJuIGNocm9tYUNvbG9yID8gY2hyb21hQ29sb3IuY3NzKCkgOiB1bmRlZmluZWQ7CiAgfSwgW2NvbG9yLCBjb2xvclBpY2tlclNob3dBbHBoYV0pOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoaXNQb3BvdmVyT3BlbiksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBoYXNGb2N1cyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldEhhc0ZvY3VzID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShpc0NvbG9ySW52YWxpZChjb2xvciwgY29sb3JQaWNrZXJTaG93QWxwaGEpKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBjb2xvcklzSW52YWxpZCA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldENvbG9ySXNJbnZhbGlkID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZShpc1N0b3BJbnZhbGlkKHN0b3ApKSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBzdG9wSXNJbnZhbGlkID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0U3RvcElzSW52YWxpZCA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBfdXNlU3RhdGU3ID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSwKICAgICAgbnVtYmVySW5wdXRSZWYgPSBfdXNlU3RhdGU4WzBdLAogICAgICBzZXROdW1iZXJJbnB1dFJlZiA9IF91c2VTdGF0ZThbMV07CgogIHZhciBwb3BvdmVyUmVmID0gdXNlUmVmKG51bGwpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaXNQb3BvdmVyT3BlbiAmJiBwb3BvdmVyUmVmICYmIHBvcG92ZXJSZWYuY3VycmVudCkgewogICAgICBwb3BvdmVyUmVmLmN1cnJlbnQucG9zaXRpb25Qb3BvdmVyRml4ZWQoKTsKICAgIH0KICB9LCBbaXNQb3BvdmVyT3Blbiwgc3RvcF0pOwoKICB2YXIgZ2V0U3RvcEZyb21Nb3VzZUxvY2F0aW9uRm4gPSBmdW5jdGlvbiBnZXRTdG9wRnJvbU1vdXNlTG9jYXRpb25Gbihsb2NhdGlvbikgewogICAgLy8gR3VhcmQgYWdhaW5zdCBgbnVsbGAgcmVmIGluIHVzYWdlCiAgICByZXR1cm4gZ2V0U3RvcEZyb21Nb3VzZUxvY2F0aW9uKGxvY2F0aW9uLCBwYXJlbnRSZWYsIGdsb2JhbE1pbiwgZ2xvYmFsTWF4KTsKICB9OwoKICB2YXIgZ2V0UG9zaXRpb25Gcm9tU3RvcEZuID0gZnVuY3Rpb24gZ2V0UG9zaXRpb25Gcm9tU3RvcEZuKHN0b3ApIHsKICAgIC8vIEd1YXJkIGFnYWluc3QgYG51bGxgIHJlZiBpbiB1c2FnZQogICAgcmV0dXJuIGdldFBvc2l0aW9uRnJvbVN0b3Aoc3RvcCwgcGFyZW50UmVmLCBnbG9iYWxNaW4sIGdsb2JhbE1heCk7CiAgfTsKCiAgdmFyIGhhbmRsZU9uUmVtb3ZlID0gZnVuY3Rpb24gaGFuZGxlT25SZW1vdmUoKSB7CiAgICBpZiAob25SZW1vdmUpIHsKICAgICAgY2xvc2VQb3BvdmVyKCk7CiAgICAgIG9uUmVtb3ZlKCk7CiAgICB9CiAgfTsKCiAgdmFyIGhhbmRsZUZvY3VzID0gZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7CiAgICBzZXRIYXNGb2N1cyh0cnVlKTsKCiAgICBpZiAob25Gb2N1cykgewogICAgICBvbkZvY3VzKCk7CiAgICB9CiAgfTsKCiAgdmFyIHNldEhhc0ZvY3VzVHJ1ZSA9IGZ1bmN0aW9uIHNldEhhc0ZvY3VzVHJ1ZSgpIHsKICAgIHJldHVybiBzZXRIYXNGb2N1cyh0cnVlKTsKICB9OwoKICB2YXIgc2V0SGFzRm9jdXNGYWxzZSA9IGZ1bmN0aW9uIHNldEhhc0ZvY3VzRmFsc2UoKSB7CiAgICByZXR1cm4gc2V0SGFzRm9jdXMoZmFsc2UpOwogIH07CgogIHZhciBoYW5kbGVDb2xvckNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNvbG9yQ2hhbmdlKHZhbHVlKSB7CiAgICBzZXRDb2xvcklzSW52YWxpZChpc0NvbG9ySW52YWxpZCh2YWx1ZSwgY29sb3JQaWNrZXJTaG93QWxwaGEpKTsKICAgIG9uQ2hhbmdlKHsKICAgICAgc3RvcDogc3RvcCwKICAgICAgY29sb3I6IHZhbHVlCiAgICB9KTsKICB9OwoKICB2YXIgaGFuZGxlU3RvcENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVN0b3BDaGFuZ2UodmFsdWUpIHsKICAgIHZhciB3aWxsQmVJbnZhbGlkID0gdmFsdWUgPiBsb2NhbE1heCB8fCB2YWx1ZSA8IGxvY2FsTWluOwoKICAgIGlmICh3aWxsQmVJbnZhbGlkKSB7CiAgICAgIGlmICh2YWx1ZSA+IGxvY2FsTWF4KSB7CiAgICAgICAgdmFsdWUgPSBsb2NhbE1heDsKICAgICAgfQoKICAgICAgaWYgKHZhbHVlIDwgbG9jYWxNaW4pIHsKICAgICAgICB2YWx1ZSA9IGxvY2FsTWluOwogICAgICB9CiAgICB9CgogICAgc2V0U3RvcElzSW52YWxpZChpc1N0b3BJbnZhbGlkKHZhbHVlKSk7CiAgICBvbkNoYW5nZSh7CiAgICAgIHN0b3A6IHZhbHVlLAogICAgICBjb2xvcjogY29sb3IKICAgIH0pOwogIH07CgogIHZhciBoYW5kbGVTdG9wSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVTdG9wSW5wdXRDaGFuZ2UoZSkgewogICAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSk7CiAgICB2YXIgd2lsbEJlSW52YWxpZCA9IHZhbHVlID4gZ2xvYmFsTWF4IHx8IHZhbHVlIDwgZ2xvYmFsTWluOwoKICAgIGlmICh3aWxsQmVJbnZhbGlkKSB7CiAgICAgIGlmICh2YWx1ZSA+IGdsb2JhbE1heCAmJiBtYXggIT0gbnVsbCkgewogICAgICAgIHZhbHVlID0gZ2xvYmFsTWF4OwogICAgICB9CgogICAgICBpZiAodmFsdWUgPCBnbG9iYWxNaW4gJiYgbWluICE9IG51bGwpIHsKICAgICAgICB2YWx1ZSA9IGdsb2JhbE1pbjsKICAgICAgfQogICAgfQoKICAgIHNldFN0b3BJc0ludmFsaWQoaXNTdG9wSW52YWxpZCh2YWx1ZSkpOwogICAgb25DaGFuZ2UoewogICAgICBzdG9wOiB2YWx1ZSwKICAgICAgY29sb3I6IGNvbG9yCiAgICB9KTsKICB9OwoKICB2YXIgaGFuZGxlUG9pbnRlckNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJDaGFuZ2UobG9jYXRpb24sIGlzRmlyc3RJbnRlcmFjdGlvbikgewogICAgaWYgKGlzRmlyc3RJbnRlcmFjdGlvbikgcmV0dXJuOyAvLyBQcmV2ZW50cyBjaGFuZ2Ugb24gdGhlIGluaXRpYWwgTW91c2VEb3duIGV2ZW50CgogICAgaWYgKHBhcmVudFJlZiA9PSBudWxsKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgbmV3U3RvcCA9IGdldFN0b3BGcm9tTW91c2VMb2NhdGlvbkZuKGxvY2F0aW9uKTsKICAgIGhhbmRsZVN0b3BDaGFuZ2UobmV3U3RvcCk7CiAgfTsKCiAgdmFyIGhhbmRsZUtleURvd24gPSBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7CiAgICBzd2l0Y2ggKGV2ZW50LmtleSkgewogICAgICBjYXNlIGtleXMuRU5URVI6CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICBvcGVuUG9wb3ZlcigpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBrZXlzLkFSUk9XX0xFRlQ6CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICBpZiAocmVhZE9ubHkpIHJldHVybjsKICAgICAgICBoYW5kbGVTdG9wQ2hhbmdlKHN0b3AgLSAxKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2Uga2V5cy5BUlJPV19SSUdIVDoKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmIChyZWFkT25seSkgcmV0dXJuOwogICAgICAgIGhhbmRsZVN0b3BDaGFuZ2Uoc3RvcCArIDEpOwogICAgICAgIGJyZWFrOwogICAgfQogIH07CgogIHZhciBfdXNlTW91c2VNb3ZlID0gdXNlTW91c2VNb3ZlKGhhbmRsZVBvaW50ZXJDaGFuZ2UpLAogICAgICBfdXNlTW91c2VNb3ZlMiA9IF9zbGljZWRUb0FycmF5KF91c2VNb3VzZU1vdmUsIDIpLAogICAgICBoYW5kbGVNb3VzZURvd24gPSBfdXNlTW91c2VNb3ZlMlswXSwKICAgICAgaGFuZGxlSW50ZXJhY3Rpb24gPSBfdXNlTW91c2VNb3ZlMlsxXTsKCiAgdmFyIGhhbmRsZU9uTW91c2VEb3duID0gZnVuY3Rpb24gaGFuZGxlT25Nb3VzZURvd24oZSkgewogICAgaWYgKCFyZWFkT25seSkgewogICAgICBoYW5kbGVNb3VzZURvd24oZSk7CiAgICB9CgogICAgb3BlblBvcG92ZXIoKTsKICB9OwoKICB2YXIgaGFuZGxlVG91Y2hJbnRlcmFjdGlvbiA9IGZ1bmN0aW9uIGhhbmRsZVRvdWNoSW50ZXJhY3Rpb24oZSkgewogICAgaWYgKCFyZWFkT25seSkgewogICAgICBoYW5kbGVJbnRlcmFjdGlvbihlKTsKICAgIH0KICB9OwoKICB2YXIgaGFuZGxlVG91Y2hTdGFydCA9IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZSkgewogICAgaGFuZGxlVG91Y2hJbnRlcmFjdGlvbihlKTsKCiAgICBpZiAoIWlzUG9wb3Zlck9wZW4pIHsKICAgICAgb3BlblBvcG92ZXIoKTsKICAgIH0KICB9OwoKICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2V1aUNvbG9yU3RvcFBvcG92ZXInLCB7CiAgICAnZXVpQ29sb3JTdG9wUG9wb3Zlci1oYXNGb2N1cyc6IGhhc0ZvY3VzIHx8IGlzUG9wb3Zlck9wZW4KICB9LCBjbGFzc05hbWUpOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlQb3BvdmVyLCB7CiAgICByZWY6IHBvcG92ZXJSZWYsCiAgICBjbGFzc05hbWU6IGNsYXNzZXMsCiAgICBhbmNob3JDbGFzc05hbWU6ICJldWlDb2xvclN0b3BQb3BvdmVyX19hbmNob3IiLAogICAgcGFuZWxQYWRkaW5nU2l6ZTogInMiLAogICAgaXNPcGVuOiBpc1BvcG92ZXJPcGVuLAogICAgY2xvc2VQb3BvdmVyOiBjbG9zZVBvcG92ZXIsCiAgICBpbml0aWFsRm9jdXM6IG51bWJlcklucHV0UmVmIHx8IHVuZGVmaW5lZCwKICAgIGZvY3VzVHJhcFByb3BzOiB7CiAgICAgIGNsaWNrT3V0c2lkZURpc2FibGVzOiBmYWxzZQogICAgfSwKICAgIHBhbmVsQ2xhc3NOYW1lOiBudW1iZXJJbnB1dFJlZiA/IHVuZGVmaW5lZCA6ICdldWlDb2xvclN0b3BQb3BvdmVyLWlzTG9hZGluZ1BhbmVsJywKICAgIHN0eWxlOiB7CiAgICAgIGxlZnQ6ICIiLmNvbmNhdChnZXRQb3NpdGlvbkZyb21TdG9wRm4oc3RvcCksICIlIikKICAgIH0sCiAgICBidXR0b246IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgICAgdG9rZW5zOiBbJ2V1aUNvbG9yU3RvcFRodW1iLmJ1dHRvbkFyaWFMYWJlbCcsICdldWlDb2xvclN0b3BUaHVtYi5idXR0b25UaXRsZSddLAogICAgICBkZWZhdWx0czogWydQcmVzcyB0aGUgRW50ZXIga2V5IHRvIG1vZGlmeSB0aGlzIHN0b3AuIFByZXNzIEVzY2FwZSB0byBmb2N1cyB0aGUgZ3JvdXAnLCAnQ2xpY2sgdG8gZWRpdCwgZHJhZyB0byByZXBvc2l0aW9uJ10KICAgIH0sIGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgX3JlZjMgPSBfc2xpY2VkVG9BcnJheShfcmVmMiwgMiksCiAgICAgICAgICBidXR0b25BcmlhTGFiZWwgPSBfcmVmM1swXSwKICAgICAgICAgIGJ1dHRvblRpdGxlID0gX3JlZjNbMV07CgogICAgICB2YXIgYXJpYUxhYmVsID0gYnV0dG9uQXJpYUxhYmVsOwogICAgICB2YXIgdGl0bGUgPSBidXR0b25UaXRsZTsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aVJhbmdlVGh1bWIsIHsKICAgICAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZXVpQ29sb3JTdG9wVGh1bWIiLAogICAgICAgICJkYXRhLWluZGV4IjogZGF0YUluZGV4LAogICAgICAgIG1pbjogbG9jYWxNaW4sCiAgICAgICAgbWF4OiBsb2NhbE1heCwKICAgICAgICB2YWx1ZTogc3RvcCwKICAgICAgICBvbkZvY3VzOiBoYW5kbGVGb2N1cywKICAgICAgICBvbkJsdXI6IHNldEhhc0ZvY3VzRmFsc2UsCiAgICAgICAgb25Nb3VzZU92ZXI6IHNldEhhc0ZvY3VzVHJ1ZSwKICAgICAgICBvbk1vdXNlT3V0OiBzZXRIYXNGb2N1c0ZhbHNlLAogICAgICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93biwKICAgICAgICBvbk1vdXNlRG93bjogaGFuZGxlT25Nb3VzZURvd24sCiAgICAgICAgb25Ub3VjaFN0YXJ0OiBoYW5kbGVUb3VjaFN0YXJ0LAogICAgICAgIG9uVG91Y2hNb3ZlOiBoYW5kbGVUb3VjaEludGVyYWN0aW9uLAogICAgICAgICJhcmlhLXZhbHVldGV4dCI6IGFyaWFWYWx1ZVRleHQsCiAgICAgICAgImFyaWEtbGFiZWwiOiBhcmlhTGFiZWwsCiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIGNsYXNzTmFtZTogImV1aUNvbG9yU3RvcFRodW1iIiwKICAgICAgICB0YWJJbmRleDogLTEsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQKICAgICAgICB9LAogICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZAogICAgICB9KTsKICAgIH0pCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgIGNsYXNzTmFtZTogImV1aUNvbG9yU3RvcCIsCiAgICAiZGF0YS10ZXN0LXN1YmoiOiAiZXVpQ29sb3JTdG9wUG9wb3ZlciIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlTY3JlZW5SZWFkZXJPbmx5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsKICAgICJhcmlhLWxpdmUiOiAicG9saXRlIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUkxOG4sIHsKICAgIHRva2VuOiAiZXVpQ29sb3JTdG9wVGh1bWIuc2NyZWVuUmVhZGVyQW5ub3VuY2VtZW50IiwKICAgIGRlZmF1bHQ6ICJBIHBvcHVwIHdpdGggYSBjb2xvciBzdG9wIGVkaXQgZm9ybSBvcGVuZWQuIFRhYiBmb3J3YXJkIHRvIGN5Y2xlIHRocm91Z2ggZm9ybSBjb250cm9scyBvciBwcmVzcyBlc2NhcGUgdG8gY2xvc2UgdGhpcyBwb3B1cC4iCiAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEdyb3VwLCB7CiAgICBndXR0ZXJTaXplOiAicyIsCiAgICByZXNwb25zaXZlOiBmYWxzZQogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZsZXhJdGVtLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlJMThuLCB7CiAgICB0b2tlbnM6IFsnZXVpQ29sb3JTdG9wVGh1bWIuc3RvcExhYmVsJywgJ2V1aUNvbG9yU3RvcFRodW1iLnN0b3BFcnJvck1lc3NhZ2UnXSwKICAgIGRlZmF1bHRzOiBbJ1N0b3AgdmFsdWUnLCAnVmFsdWUgaXMgb3V0IG9mIHJhbmdlJ10KICB9LCBmdW5jdGlvbiAoX3JlZjQpIHsKICAgIHZhciBfcmVmNSA9IF9zbGljZWRUb0FycmF5KF9yZWY0LCAyKSwKICAgICAgICBzdG9wTGFiZWwgPSBfcmVmNVswXSwKICAgICAgICBzdG9wRXJyb3JNZXNzYWdlID0gX3JlZjVbMV07CgogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZvcm1Sb3csIHsKICAgICAgbGFiZWw6IHN0b3BMYWJlbCwKICAgICAgZGlzcGxheTogInJvd0NvbXByZXNzZWQiLAogICAgICBpc0ludmFsaWQ6IHN0b3BJc0ludmFsaWQsCiAgICAgIGVycm9yOiBzdG9wSXNJbnZhbGlkID8gc3RvcEVycm9yTWVzc2FnZSA6IG51bGwKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV1aUZpZWxkTnVtYmVyLCBfZXh0ZW5kcyh7fSwgdmFsdWVJbnB1dFByb3BzLCB7CiAgICAgIGlucHV0UmVmOiBzZXROdW1iZXJJbnB1dFJlZiwKICAgICAgY29tcHJlc3NlZDogdHJ1ZSwKICAgICAgcmVhZE9ubHk6IHJlYWRPbmx5LAogICAgICBtaW46IGlzUmFuZ2VNaW4gfHwgbWluID09IG51bGwgPyB1bmRlZmluZWQgOiBsb2NhbE1pbiwKICAgICAgbWF4OiBpc1JhbmdlTWF4IHx8IG1heCA9PSBudWxsID8gdW5kZWZpbmVkIDogbG9jYWxNYXgsCiAgICAgIHZhbHVlOiBpc1N0b3BJbnZhbGlkKHN0b3ApID8gJycgOiBzdG9wLAogICAgICBpc0ludmFsaWQ6IHN0b3BJc0ludmFsaWQsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVTdG9wSW5wdXRDaGFuZ2UKICAgIH0pKSk7CiAgfSkpLCAhcmVhZE9ubHkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRmxleEl0ZW0sIHsKICAgIGdyb3c6IGZhbHNlCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpRm9ybVJvdywgewogICAgZGlzcGxheTogInJvd0NvbXByZXNzZWQiLAogICAgaGFzRW1wdHlMYWJlbFNwYWNlOiB0cnVlCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpSTE4biwgewogICAgdG9rZW46ICJldWlDb2xvclN0b3BUaHVtYi5yZW1vdmVMYWJlbCIsCiAgICBkZWZhdWx0OiAiUmVtb3ZlIHRoaXMgc3RvcCIKICB9LCBmdW5jdGlvbiAocmVtb3ZlTGFiZWwpIHsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdWlCdXR0b25JY29uLCB7CiAgICAgIGljb25UeXBlOiAidHJhc2giLAogICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICJhcmlhLWxhYmVsIjogcmVtb3ZlTGFiZWwsCiAgICAgIHRpdGxlOiByZW1vdmVMYWJlbCwKICAgICAgZGlzYWJsZWQ6ICFvblJlbW92ZSwKICAgICAgb25DbGljazogaGFuZGxlT25SZW1vdmUKICAgIH0pOwogIH0pKSkpLCAhcmVhZE9ubHkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpU3BhY2VyLCB7CiAgICBzaXplOiAicyIKICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXVpQ29sb3JQaWNrZXIsIHsKICAgIHJlYWRPbmx5OiByZWFkT25seSwKICAgIG9uQ2hhbmdlOiBoYW5kbGVDb2xvckNoYW5nZSwKICAgIGNvbG9yOiBjb2xvciwKICAgIG1vZGU6IHJlYWRPbmx5ID8gJ3NlY29uZGFyeUlucHV0JyA6IGNvbG9yUGlja2VyTW9kZSwKICAgIHN3YXRjaGVzOiBjb2xvclBpY2tlclN3YXRjaGVzLAogICAgZGlzcGxheTogImlubGluZSIsCiAgICBzaG93QWxwaGE6IGNvbG9yUGlja2VyU2hvd0FscGhhLAogICAgaXNJbnZhbGlkOiBjb2xvcklzSW52YWxpZCwKICAgIHNlY29uZGFyeUlucHV0RGlzcGxheTogY29sb3JQaWNrZXJNb2RlID09PSAnc3dhdGNoJyA/ICdub25lJyA6ICdib3R0b20nCiAgfSkpKTsKfTsKRXVpQ29sb3JTdG9wVGh1bWIucHJvcFR5cGVzID0gewogIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZywKICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCwKICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYywKICBvblJlbW92ZTogUHJvcFR5cGVzLmZ1bmMsCiAgZ2xvYmFsTWluOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsCiAgZ2xvYmFsTWF4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsCiAgbG9jYWxNaW46IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCwKICBsb2NhbE1heDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLAogIG1pbjogUHJvcFR5cGVzLm51bWJlciwKICBtYXg6IFByb3BUeXBlcy5udW1iZXIsCiAgaXNSYW5nZU1pbjogUHJvcFR5cGVzLmJvb2wsCiAgaXNSYW5nZU1heDogUHJvcFR5cGVzLmJvb2wsCiAgcGFyZW50UmVmOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsIFByb3BUeXBlcy5vbmVPZihbbnVsbF0pXSksCiAgY29sb3JQaWNrZXJNb2RlOiBQcm9wVHlwZXMub25lT2YoWyJkZWZhdWx0IiwgInN3YXRjaCIsICJwaWNrZXIiLCAic2Vjb25kYXJ5SW5wdXQiXSkuaXNSZXF1aXJlZCwKICBjb2xvclBpY2tlclNob3dBbHBoYTogUHJvcFR5cGVzLmJvb2wsCiAgY29sb3JQaWNrZXJTd2F0Y2hlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkKSwKICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsCiAgcmVhZE9ubHk6IFByb3BUeXBlcy5ib29sLAogIGlzUG9wb3Zlck9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsCiAgb3BlblBvcG92ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsCiAgY2xvc2VQb3BvdmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLAogICJkYXRhLWluZGV4IjogUHJvcFR5cGVzLnN0cmluZywKICAiYXJpYS12YWx1ZXRleHQiOiBQcm9wVHlwZXMuc3RyaW5nLAogIHZhbHVlSW5wdXRQcm9wczogUHJvcFR5cGVzLmFueSwKICAiYXJpYS1sYWJlbCI6IFByb3BUeXBlcy5zdHJpbmcsCiAgImRhdGEtdGVzdC1zdWJqIjogUHJvcFR5cGVzLnN0cmluZywKICBzdG9wOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsCiAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZAp9OwoKdHJ5IHsKICBFdWlDb2xvclN0b3BUaHVtYi5fX2RvY2dlbkluZm8gPSB7CiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBkaXNwbGF5TmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iJywKICAgIG1ldGhvZHM6IFtdLAogICAgcHJvcHM6IHsKICAgICAgY2xhc3NOYW1lOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnY2xhc3NOYW1lJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25DaGFuZ2U6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdvbkNoYW5nZScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnKGNvbG9yU3RvcDogQ29sb3JTdG9wKSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25Gb2N1czogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ29uRm9jdXMnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BfdGh1bWIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BUaHVtYlByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICcoKSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25SZW1vdmU6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdvblJlbW92ZScsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJygpID0+IHZvaWQnCiAgICAgICAgfQogICAgICB9LAogICAgICBnbG9iYWxNaW46IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdnbG9iYWxNaW4nLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BfdGh1bWIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BUaHVtYlByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ251bWJlcicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdsb2JhbE1heDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2dsb2JhbE1heCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnbnVtYmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgbG9jYWxNaW46IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdsb2NhbE1pbicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnbnVtYmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgbG9jYWxNYXg6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdsb2NhbE1heCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnbnVtYmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWluOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnbWluJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnbnVtYmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWF4OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnbWF4JywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnbnVtYmVyJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaXNSYW5nZU1pbjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICdmYWxzZScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnaXNSYW5nZU1pbicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBpc1JhbmdlTWF4OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogJ2ZhbHNlJwogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdpc1JhbmdlTWF4JywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBhcmVudFJlZjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ3BhcmVudFJlZicsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ0hUTUxEaXZFbGVtZW50JwogICAgICAgIH0KICAgICAgfSwKICAgICAgY29sb3JQaWNrZXJNb2RlOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnY29sb3JQaWNrZXJNb2RlJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdlbnVtJywKICAgICAgICAgIHJhdzogJ0V1aUNvbG9yUGlja2VyTW9kZScsCiAgICAgICAgICB2YWx1ZTogW3sKICAgICAgICAgICAgdmFsdWU6ICciZGVmYXVsdCInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInN3YXRjaCInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInBpY2tlciInCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHZhbHVlOiAnInNlY29uZGFyeUlucHV0IicKICAgICAgICAgIH1dCiAgICAgICAgfQogICAgICB9LAogICAgICBjb2xvclBpY2tlclNob3dBbHBoYTogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2NvbG9yUGlja2VyU2hvd0FscGhhJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbG9yUGlja2VyU3dhdGNoZXM6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdjb2xvclBpY2tlclN3YXRjaGVzJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nW10nCiAgICAgICAgfQogICAgICB9LAogICAgICBkaXNhYmxlZDogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2Rpc2FibGVkJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnYm9vbGVhbicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlYWRPbmx5OiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAncmVhZE9ubHknLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BfdGh1bWIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BUaHVtYlByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICdib29sZWFuJwogICAgICAgIH0KICAgICAgfSwKICAgICAgaXNQb3BvdmVyT3BlbjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2lzUG9wb3Zlck9wZW4nLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BfdGh1bWIudHN4JywKICAgICAgICAgIG5hbWU6ICdFdWlDb2xvclN0b3BUaHVtYlByb3BzJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ2Jvb2xlYW4nCiAgICAgICAgfQogICAgICB9LAogICAgICBvcGVuUG9wb3ZlcjogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ29wZW5Qb3BvdmVyJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICcoKSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgY2xvc2VQb3BvdmVyOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnY2xvc2VQb3BvdmVyJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIHR5cGU6IHsKICAgICAgICAgIG5hbWU6ICcoKSA9PiB2b2lkJwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2RhdGEtaW5kZXgnOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnZGF0YS1pbmRleCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgICdhcmlhLXZhbHVldGV4dCc6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdhcmlhLXZhbHVldGV4dCcsCiAgICAgICAgcGFyZW50OiB7CiAgICAgICAgICBmaWxlTmFtZTogJ2V1aS9zcmMvY29tcG9uZW50cy9jb2xvcl9waWNrZXIvY29sb3Jfc3RvcHMvY29sb3Jfc3RvcF90aHVtYi50c3gnLAogICAgICAgICAgbmFtZTogJ0V1aUNvbG9yU3RvcFRodW1iUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZhbHVlSW5wdXRQcm9wczogewogICAgICAgIGRlZmF1bHRWYWx1ZTogewogICAgICAgICAgdmFsdWU6ICd7fScKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAndmFsdWVJbnB1dFByb3BzJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnRXVpQ29sb3JTdG9wVGh1bWJQcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnUGFydGlhbDxFdWlGaWVsZE51bWJlclByb3BzPicKICAgICAgICB9CiAgICAgIH0sCiAgICAgICdhcmlhLWxhYmVsJzogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2FyaWEtbGFiZWwnLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29tbW9uLnRzJywKICAgICAgICAgIG5hbWU6ICdDb21tb25Qcm9wcycKICAgICAgICB9LAogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfSwKICAgICAgJ2RhdGEtdGVzdC1zdWJqJzogewogICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgbmFtZTogJ2RhdGEtdGVzdC1zdWJqJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbW1vbi50cycsCiAgICAgICAgICBuYW1lOiAnQ29tbW9uUHJvcHMnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ3N0cmluZycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHN0b3A6IHsKICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIG5hbWU6ICdzdG9wJywKICAgICAgICBwYXJlbnQ6IHsKICAgICAgICAgIGZpbGVOYW1lOiAnZXVpL3NyYy9jb21wb25lbnRzL2NvbG9yX3BpY2tlci9jb2xvcl9zdG9wcy9jb2xvcl9zdG9wX3RodW1iLnRzeCcsCiAgICAgICAgICBuYW1lOiAnQ29sb3JTdG9wJwogICAgICAgIH0sCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgdHlwZTogewogICAgICAgICAgbmFtZTogJ251bWJlcicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbG9yOiB7CiAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBuYW1lOiAnY29sb3InLAogICAgICAgIHBhcmVudDogewogICAgICAgICAgZmlsZU5hbWU6ICdldWkvc3JjL2NvbXBvbmVudHMvY29sb3JfcGlja2VyL2NvbG9yX3N0b3BzL2NvbG9yX3N0b3BfdGh1bWIudHN4JywKICAgICAgICAgIG5hbWU6ICdDb2xvclN0b3AnCiAgICAgICAgfSwKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB0eXBlOiB7CiAgICAgICAgICBuYW1lOiAnc3RyaW5nJwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGV4dGVuZGVkSW50ZXJmYWNlczogWydFdWlDb2xvclN0b3BUaHVtYlByb3BzJywgJ0NvbW1vblByb3BzJywgJ0NvbG9yU3RvcCddCiAgfTsKfSBjYXRjaCAoZSkge30="},{"version":3,"sources":["D:/work/eui/src/components/color_picker/color_stops/color_stop_thumb.tsx"],"names":["React","useEffect","useMemo","useRef","useState","classNames","getPositionFromStop","getStopFromMouseLocation","isColorInvalid","isStopInvalid","getChromaColor","keys","useMouseMove","EuiButtonIcon","EuiColorPicker","EuiFlexGroup","EuiFlexItem","EuiFieldNumber","EuiFormRow","EuiI18n","EuiPopover","EuiScreenReaderOnly","EuiSpacer","EuiRangeThumb","EuiColorStopThumb","className","stop","color","onChange","onFocus","onRemove","globalMin","globalMax","localMin","localMax","min","max","isRangeMin","isRangeMax","parentRef","colorPickerMode","colorPickerShowAlpha","colorPickerSwatches","disabled","readOnly","isPopoverOpen","openPopover","closePopover","dataIndex","ariaValueText","valueInputProps","background","chromaColor","css","undefined","hasFocus","setHasFocus","colorIsInvalid","setColorIsInvalid","stopIsInvalid","setStopIsInvalid","numberInputRef","setNumberInputRef","popoverRef","current","positionPopoverFixed","getStopFromMouseLocationFn","location","getPositionFromStopFn","handleOnRemove","handleFocus","setHasFocusTrue","setHasFocusFalse","handleColorChange","value","handleStopChange","willBeInvalid","handleStopInputChange","e","parseFloat","target","handlePointerChange","isFirstInteraction","newStop","handleKeyDown","event","key","ENTER","preventDefault","ARROW_LEFT","ARROW_RIGHT","handleMouseDown","handleInteraction","handleOnMouseDown","handleTouchInteraction","handleTouchStart","classes","clickOutsideDisables","left","buttonAriaLabel","buttonTitle","ariaLabel","title","stopLabel","stopErrorMessage","removeLabel"],"mappings":"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","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport { getPositionFromStop, getStopFromMouseLocation, isColorInvalid, isStopInvalid } from './utils';\nimport { getChromaColor } from '../utils';\nimport { keys, useMouseMove } from '../../../services';\nimport { EuiButtonIcon } from '../../button';\nimport { EuiColorPicker } from '../color_picker';\nimport { EuiFlexGroup, EuiFlexItem } from '../../flex';\nimport { EuiFieldNumber, EuiFormRow } from '../../form';\nimport { EuiI18n } from '../../i18n';\nimport { EuiPopover } from '../../popover';\nimport { EuiScreenReaderOnly } from '../../accessibility';\nimport { EuiSpacer } from '../../spacer';\nimport { EuiRangeThumb } from '../../form/range/range_thumb';\nexport var EuiColorStopThumb = ({\n  className,\n  stop,\n  color,\n  onChange,\n  onFocus,\n  onRemove,\n  globalMin,\n  globalMax,\n  localMin,\n  localMax,\n  min,\n  max,\n  isRangeMin = false,\n  isRangeMax = false,\n  parentRef,\n  colorPickerMode,\n  colorPickerShowAlpha,\n  colorPickerSwatches,\n  disabled,\n  readOnly,\n  isPopoverOpen,\n  openPopover,\n  closePopover,\n  'data-index': dataIndex,\n  'aria-valuetext': ariaValueText,\n  valueInputProps = {}\n}) => {\n  const background = useMemo(() => {\n    const chromaColor = getChromaColor(color, colorPickerShowAlpha);\n    return chromaColor ? chromaColor.css() : undefined;\n  }, [color, colorPickerShowAlpha]);\n  const [hasFocus, setHasFocus] = useState(isPopoverOpen);\n  const [colorIsInvalid, setColorIsInvalid] = useState(isColorInvalid(color, colorPickerShowAlpha));\n  const [stopIsInvalid, setStopIsInvalid] = useState(isStopInvalid(stop));\n  const [numberInputRef, setNumberInputRef] = useState(null);\n  const popoverRef = useRef(null);\n  useEffect(() => {\n    if (isPopoverOpen && popoverRef && popoverRef.current) {\n      popoverRef.current.positionPopoverFixed();\n    }\n  }, [isPopoverOpen, stop]);\n\n  const getStopFromMouseLocationFn = location => {\n    // Guard against `null` ref in usage\n    return getStopFromMouseLocation(location, parentRef, globalMin, globalMax);\n  };\n\n  const getPositionFromStopFn = stop => {\n    // Guard against `null` ref in usage\n    return getPositionFromStop(stop, parentRef, globalMin, globalMax);\n  };\n\n  const handleOnRemove = () => {\n    if (onRemove) {\n      closePopover();\n      onRemove();\n    }\n  };\n\n  const handleFocus = () => {\n    setHasFocus(true);\n\n    if (onFocus) {\n      onFocus();\n    }\n  };\n\n  const setHasFocusTrue = () => setHasFocus(true);\n\n  const setHasFocusFalse = () => setHasFocus(false);\n\n  const handleColorChange = value => {\n    setColorIsInvalid(isColorInvalid(value, colorPickerShowAlpha));\n    onChange({\n      stop,\n      color: value\n    });\n  };\n\n  const handleStopChange = value => {\n    const willBeInvalid = value > localMax || value < localMin;\n\n    if (willBeInvalid) {\n      if (value > localMax) {\n        value = localMax;\n      }\n\n      if (value < localMin) {\n        value = localMin;\n      }\n    }\n\n    setStopIsInvalid(isStopInvalid(value));\n    onChange({\n      stop: value,\n      color\n    });\n  };\n\n  const handleStopInputChange = e => {\n    let value = parseFloat(e.target.value);\n    const willBeInvalid = value > globalMax || value < globalMin;\n\n    if (willBeInvalid) {\n      if (value > globalMax && max != null) {\n        value = globalMax;\n      }\n\n      if (value < globalMin && min != null) {\n        value = globalMin;\n      }\n    }\n\n    setStopIsInvalid(isStopInvalid(value));\n    onChange({\n      stop: value,\n      color\n    });\n  };\n\n  const handlePointerChange = (location, isFirstInteraction) => {\n    if (isFirstInteraction) return; // Prevents change on the initial MouseDown event\n\n    if (parentRef == null) {\n      return;\n    }\n\n    const newStop = getStopFromMouseLocationFn(location);\n    handleStopChange(newStop);\n  };\n\n  const handleKeyDown = event => {\n    switch (event.key) {\n      case keys.ENTER:\n        event.preventDefault();\n        openPopover();\n        break;\n\n      case keys.ARROW_LEFT:\n        event.preventDefault();\n        if (readOnly) return;\n        handleStopChange(stop - 1);\n        break;\n\n      case keys.ARROW_RIGHT:\n        event.preventDefault();\n        if (readOnly) return;\n        handleStopChange(stop + 1);\n        break;\n    }\n  };\n\n  const [handleMouseDown, handleInteraction] = useMouseMove(handlePointerChange);\n\n  const handleOnMouseDown = e => {\n    if (!readOnly) {\n      handleMouseDown(e);\n    }\n\n    openPopover();\n  };\n\n  const handleTouchInteraction = e => {\n    if (!readOnly) {\n      handleInteraction(e);\n    }\n  };\n\n  const handleTouchStart = e => {\n    handleTouchInteraction(e);\n\n    if (!isPopoverOpen) {\n      openPopover();\n    }\n  };\n\n  const classes = classNames('euiColorStopPopover', {\n    'euiColorStopPopover-hasFocus': hasFocus || isPopoverOpen\n  }, className);\n  return <EuiPopover ref={popoverRef} className={classes} anchorClassName=\"euiColorStopPopover__anchor\" panelPaddingSize=\"s\" isOpen={isPopoverOpen} closePopover={closePopover} initialFocus={numberInputRef || undefined} focusTrapProps={{\n    clickOutsideDisables: false\n  }} panelClassName={numberInputRef ? undefined : 'euiColorStopPopover-isLoadingPanel'} style={{\n    left: `${getPositionFromStopFn(stop)}%`\n  }} button={<EuiI18n tokens={['euiColorStopThumb.buttonAriaLabel', 'euiColorStopThumb.buttonTitle']} defaults={['Press the Enter key to modify this stop. Press Escape to focus the group', 'Click to edit, drag to reposition']}>\n          {([buttonAriaLabel, buttonTitle]) => {\n      const ariaLabel = buttonAriaLabel;\n      const title = buttonTitle;\n      return <EuiRangeThumb data-test-subj=\"euiColorStopThumb\" data-index={dataIndex} min={localMin} max={localMax} value={stop} onFocus={handleFocus} onBlur={setHasFocusFalse} onMouseOver={setHasFocusTrue} onMouseOut={setHasFocusFalse} onKeyDown={handleKeyDown} onMouseDown={handleOnMouseDown} onTouchStart={handleTouchStart} onTouchMove={handleTouchInteraction} aria-valuetext={ariaValueText} aria-label={ariaLabel} title={title} className=\"euiColorStopThumb\" tabIndex={-1} style={{\n        background\n      }} disabled={disabled} />;\n    }}\n        </EuiI18n>}>\n      <div className=\"euiColorStop\" data-test-subj=\"euiColorStopPopover\">\n        <EuiScreenReaderOnly>\n          <p aria-live=\"polite\">\n            <EuiI18n token=\"euiColorStopThumb.screenReaderAnnouncement\" default=\"A popup with a color stop edit form opened.\n            Tab forward to cycle through form controls or press\n            escape to close this popup.\" />\n          </p>\n        </EuiScreenReaderOnly>\n        <EuiFlexGroup gutterSize=\"s\" responsive={false}>\n          <EuiFlexItem>\n            <EuiI18n tokens={['euiColorStopThumb.stopLabel', 'euiColorStopThumb.stopErrorMessage']} defaults={['Stop value', 'Value is out of range']}>\n              {([stopLabel, stopErrorMessage]) => <EuiFormRow label={stopLabel} display=\"rowCompressed\" isInvalid={stopIsInvalid} error={stopIsInvalid ? stopErrorMessage : null}>\n                  <EuiFieldNumber {...valueInputProps} inputRef={setNumberInputRef} compressed={true} readOnly={readOnly} min={isRangeMin || min == null ? undefined : localMin} max={isRangeMax || max == null ? undefined : localMax} value={isStopInvalid(stop) ? '' : stop} isInvalid={stopIsInvalid} onChange={handleStopInputChange} />\n                </EuiFormRow>}\n            </EuiI18n>\n          </EuiFlexItem>\n          {!readOnly && <EuiFlexItem grow={false}>\n              <EuiFormRow display=\"rowCompressed\" hasEmptyLabelSpace={true}>\n                <EuiI18n token=\"euiColorStopThumb.removeLabel\" default=\"Remove this stop\">\n                  {removeLabel => <EuiButtonIcon iconType=\"trash\" color=\"danger\" aria-label={removeLabel} title={removeLabel} disabled={!onRemove} onClick={handleOnRemove} />}\n                </EuiI18n>\n              </EuiFormRow>\n            </EuiFlexItem>}\n        </EuiFlexGroup>\n        {!readOnly && <EuiSpacer size=\"s\" />}\n        <EuiColorPicker readOnly={readOnly} onChange={handleColorChange} color={color} mode={readOnly ? 'secondaryInput' : colorPickerMode} swatches={colorPickerSwatches} display=\"inline\" showAlpha={colorPickerShowAlpha} isInvalid={colorIsInvalid} secondaryInputDisplay={colorPickerMode === 'swatch' ? 'none' : 'bottom'} />\n      </div>\n    </EuiPopover>;\n};\nEuiColorStopThumb.propTypes = {\n  className: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  onRemove: PropTypes.func,\n  globalMin: PropTypes.number.isRequired,\n  globalMax: PropTypes.number.isRequired,\n  localMin: PropTypes.number.isRequired,\n  localMax: PropTypes.number.isRequired,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  isRangeMin: PropTypes.bool,\n  isRangeMax: PropTypes.bool,\n  parentRef: PropTypes.oneOfType([PropTypes.any.isRequired, PropTypes.oneOf([null])]),\n  colorPickerMode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]).isRequired,\n  colorPickerShowAlpha: PropTypes.bool,\n  colorPickerSwatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  isPopoverOpen: PropTypes.bool.isRequired,\n  openPopover: PropTypes.func.isRequired,\n  closePopover: PropTypes.func.isRequired,\n  \"data-index\": PropTypes.string,\n  \"aria-valuetext\": PropTypes.string,\n  valueInputProps: PropTypes.any,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n  stop: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired\n};\n\ntry {\n  EuiColorStopThumb.__docgenInfo = {\n    description: '',\n    displayName: 'EuiColorStopThumb',\n    methods: [],\n    props: {\n      className: {\n        defaultValue: null,\n        description: '',\n        name: 'className',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      onChange: {\n        defaultValue: null,\n        description: '',\n        name: 'onChange',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: '(colorStop: ColorStop) => void'\n        }\n      },\n      onFocus: {\n        defaultValue: null,\n        description: '',\n        name: 'onFocus',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: '() => void'\n        }\n      },\n      onRemove: {\n        defaultValue: null,\n        description: '',\n        name: 'onRemove',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: '() => void'\n        }\n      },\n      globalMin: {\n        defaultValue: null,\n        description: '',\n        name: 'globalMin',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: 'number'\n        }\n      },\n      globalMax: {\n        defaultValue: null,\n        description: '',\n        name: 'globalMax',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: 'number'\n        }\n      },\n      localMin: {\n        defaultValue: null,\n        description: '',\n        name: 'localMin',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: 'number'\n        }\n      },\n      localMax: {\n        defaultValue: null,\n        description: '',\n        name: 'localMax',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: 'number'\n        }\n      },\n      min: {\n        defaultValue: null,\n        description: '',\n        name: 'min',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      max: {\n        defaultValue: null,\n        description: '',\n        name: 'max',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'number'\n        }\n      },\n      isRangeMin: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: '',\n        name: 'isRangeMin',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      isRangeMax: {\n        defaultValue: {\n          value: 'false'\n        },\n        description: '',\n        name: 'isRangeMax',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      parentRef: {\n        defaultValue: null,\n        description: '',\n        name: 'parentRef',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'HTMLDivElement'\n        }\n      },\n      colorPickerMode: {\n        defaultValue: null,\n        description: '',\n        name: 'colorPickerMode',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: 'enum',\n          raw: 'EuiColorPickerMode',\n          value: [{\n            value: '\"default\"'\n          }, {\n            value: '\"swatch\"'\n          }, {\n            value: '\"picker\"'\n          }, {\n            value: '\"secondaryInput\"'\n          }]\n        }\n      },\n      colorPickerShowAlpha: {\n        defaultValue: null,\n        description: '',\n        name: 'colorPickerShowAlpha',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      colorPickerSwatches: {\n        defaultValue: null,\n        description: '',\n        name: 'colorPickerSwatches',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'string[]'\n        }\n      },\n      disabled: {\n        defaultValue: null,\n        description: '',\n        name: 'disabled',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      readOnly: {\n        defaultValue: null,\n        description: '',\n        name: 'readOnly',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'boolean'\n        }\n      },\n      isPopoverOpen: {\n        defaultValue: null,\n        description: '',\n        name: 'isPopoverOpen',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: 'boolean'\n        }\n      },\n      openPopover: {\n        defaultValue: null,\n        description: '',\n        name: 'openPopover',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: '() => void'\n        }\n      },\n      closePopover: {\n        defaultValue: null,\n        description: '',\n        name: 'closePopover',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: true,\n        type: {\n          name: '() => void'\n        }\n      },\n      'data-index': {\n        defaultValue: null,\n        description: '',\n        name: 'data-index',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'aria-valuetext': {\n        defaultValue: null,\n        description: '',\n        name: 'aria-valuetext',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      valueInputProps: {\n        defaultValue: {\n          value: '{}'\n        },\n        description: '',\n        name: 'valueInputProps',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'EuiColorStopThumbProps'\n        },\n        required: false,\n        type: {\n          name: 'Partial<EuiFieldNumberProps>'\n        }\n      },\n      'aria-label': {\n        defaultValue: null,\n        description: '',\n        name: 'aria-label',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      'data-test-subj': {\n        defaultValue: null,\n        description: '',\n        name: 'data-test-subj',\n        parent: {\n          fileName: 'eui/src/components/common.ts',\n          name: 'CommonProps'\n        },\n        required: false,\n        type: {\n          name: 'string'\n        }\n      },\n      stop: {\n        defaultValue: null,\n        description: '',\n        name: 'stop',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'ColorStop'\n        },\n        required: true,\n        type: {\n          name: 'number'\n        }\n      },\n      color: {\n        defaultValue: null,\n        description: '',\n        name: 'color',\n        parent: {\n          fileName: 'eui/src/components/color_picker/color_stops/color_stop_thumb.tsx',\n          name: 'ColorStop'\n        },\n        required: true,\n        type: {\n          name: 'string'\n        }\n      }\n    },\n    extendedInterfaces: ['EuiColorStopThumbProps', 'CommonProps', 'ColorStop']\n  };\n} catch (e) {}"]}]}